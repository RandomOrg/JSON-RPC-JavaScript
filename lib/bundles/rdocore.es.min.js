var e={};e.RandomOrgBadHTTPResponseError=class extends Error{constructor(e){super(e)}},e.RandomOrgInsufficientBitsError=class extends Error{#bits=-1;constructor(e,t){super(e),this.#bits=t}getBitsLeft(){return this.#bits}},e.RandomOrgInsufficientRequestsError=class extends Error{constructor(e){super(e)}},e.RandomOrgJSONRPCError=class extends Error{constructor(e){super(e)}},e.RandomOrgKeyNotRunningError=class extends Error{constructor(e){super(e)}},e.RandomOrgRANDOMORGError=class extends Error{#code=-1;constructor(e,t=-1){super(e),this.#code=t}getCode(){return this.#code}},e.RandomOrgSendTimeoutError=class extends Error{constructor(e){super(e)}},e.RandomOrgCacheEmptyError=class extends Error{#paused=!1;constructor(e,t=!1){super(e),this.#paused=t}wasPaused(){return this.#paused}};const{RandomOrgInsufficientBitsError:t,RandomOrgCacheEmptyError:s}=e;var r=class{#requestFunction=null;#request=null;#bulkRequestNumber=0;#requestNumber=0;#requestSize=-1;#stack=[];#cacheSize=10;#paused=!1;#bitsUsed=0;#requestsUsed=0;#currentlyPopulating=!1;#error=null;constructor(e,t,s,r,a,i){this.#requestFunction=e,this.#request=t,this.#cacheSize=s,this.#bulkRequestNumber=r,this.#requestNumber=a,this.#requestSize=i,this.#populate()}#populate=async()=>{if(!this.#currentlyPopulating&&!this.#paused){this.#currentlyPopulating=!0;let e=null;for(;null==this.#error;)if(this.#bulkRequestNumber>0){if(!(this.#stack.length<=this.#cacheSize-this.#bulkRequestNumber))break;try{e=await this.#requestFunction(this.#request),this.#addResponse(e,!0)}catch(s){if(s instanceof t){let t=s.getBitsLeft();if(t>this.#requestSize){let s=Math.floor(t/this.#requestSize);this.#request.params.n=s*this.#requestNumber,e=await this.#requestFunction(this.#request),this.#addResponse(e,!0),this.#request.params.n=this.#bulkRequestNumber*this.#requestNumber}else this.#error=s}else this.#error=s}}else{if(!(this.#stack.length<this.#cacheSize))break;try{e=await this.#requestFunction(this.#request),this.#addResponse(e,!1)}catch(e){this.#error=e}}this.#currentlyPopulating=!1}};stop(){this.#paused=!0}resume(){this.#paused=!1,this.#refresh()}isPaused(){return this.#paused}get(){if(null!=this.#error)throw this.#error;if(this.#stack&&0==this.#stack.length)throw this.#paused?new s("The RandomOrgCache stack is empty and the cache is paused. Please call resume() to restart populating the cache.",!0):new s("The RandomOrgCache stack is empty, please wait for it to repopulate itself.");{let e=this.#stack.pop();return this.#refresh(),e}}async getOrWait(){try{return this.get()}catch(e){if(e instanceof s){if(this.#paused)throw e;return 0==await this.#populate()&&await new Promise((e=>setTimeout(e,50))),this.getOrWait()}}}getCachedValues(){return this.#stack.length}getBitsUsed(){return this.#bitsUsed}getRequestsUsed(){return this.#requestsUsed}#refresh=()=>{(this.#bulkRequestNumber>0&&this.#stack.length<=this.#cacheSize-this.#bulkRequestNumber||this.#bulkRequestNumber<=0&&this.#stack.length<this.#cacheSize)&&this.#populate()};#addResponse=(e,t)=>{if(this.#requestsUsed++,this.#bitsUsed+=e.result.bitsUsed,t){let t=e.result.random.data;for(let e=0;e<t.length;e+=this.#requestNumber)this.#stack.push(t.slice(e,e+this.#requestNumber))}else this.#stack.push(e.result.random.data)}};const{RandomOrgBadHTTPResponseError:a,RandomOrgInsufficientBitsError:i,RandomOrgInsufficientRequestsError:n,RandomOrgJSONRPCError:u,RandomOrgKeyNotRunningError:c,RandomOrgRANDOMORGError:o,RandomOrgSendTimeoutError:l}=e,h=r;var d=class e{static#INTEGER_METHOD="generateIntegers";static#INTEGER_SEQUENCE_METHOD="generateIntegerSequences";static#DECIMAL_FRACTION_METHOD="generateDecimalFractions";static#GAUSSIAN_METHOD="generateGaussians";static#STRING_METHOD="generateStrings";static#UUID_METHOD="generateUUIDs";static#BLOB_METHOD="generateBlobs";static#GET_USAGE_METHOD="getUsage";static#SIGNED_INTEGER_METHOD="generateSignedIntegers";static#SIGNED_INTEGER_SEQUENCE_METHOD="generateSignedIntegerSequences";static#SIGNED_DECIMAL_FRACTION_METHOD="generateSignedDecimalFractions";static#SIGNED_GAUSSIAN_METHOD="generateSignedGaussians";static#SIGNED_STRING_METHOD="generateSignedStrings";static#SIGNED_UUID_METHOD="generateSignedUUIDs";static#SIGNED_BLOB_METHOD="generateSignedBlobs";static#GET_RESULT_METHOD="getResult";static#CREATE_TICKET_METHOD="createTickets";static#LIST_TICKET_METHOD="listTickets";static#GET_TICKET_METHOD="getTicket";static#VERIFY_SIGNATURE_METHOD="verifySignature";static BLOB_FORMAT_BASE64="base64";static BLOB_FORMAT_HEX="hex";static DEFAULT_REPLACEMENT=!0;static DEFAULT_BASE=10;static DEFAULT_USER_DATA=null;static DEFAULT_TICKET_ID=null;static DEFAULT_PREGENERATED_RANDOMIZATION=null;static DEFAULT_LICENSE_DATA=null;static UUID_SIZE=122;static DEFAULT_BLOCKING_TIMEOUT=864e5;static DEFAULT_HTTP_TIMEOUT=12e4;static MAX_URL_LENGTH=2046;static#DEFAULT_DELAY=1e3;static#ALLOWANCE_STATE_REFRESH_SECONDS=36e5;#bitsLeft=-1;#requestsLeft=-1;#backoff=-1;#backoffError="";#apiKey="";#blockingTimeout=e.DEFAULT_BLOCKING_TIMEOUT;#httpTimeout=e.DEFAULT_HTTP_TIMEOUT;#advisoryDelay=0;#lastResponseReceivedTime=0;static#keyIndexedInstances={};static#ERROR_CODES=[100,101,200,201,202,203,204,300,301,302,303,304,305,306,307,400,401,402,403,404,405,420,421,422,423,424,425,500,32e3];constructor(t,s={}){if(e.#keyIndexedInstances&&e.#keyIndexedInstances[t])return e.#keyIndexedInstances[t];this.#apiKey=t,this.#blockingTimeout=s.blockingTimeout||864e5,this.#httpTimeout=s.httpTimeout||12e4,e.#keyIndexedInstances[t]=this}async generateIntegers(e,t,s,r={}){let a=this.#integerRequest(e,t,s,r);return this.#extractBasic(this.#sendRequest(a))}async generateIntegerSequences(e,t,s,r,a={}){let i=this.#integerSequenceRequest(e,t,s,r,a);return this.#extractBasic(this.#sendRequest(i))}async generateDecimalFractions(e,t,s={}){let r=this.#decimalFractionRequest(e,t,s);return this.#extractBasic(this.#sendRequest(r))}async generateGaussians(e,t,s,r,a={}){let i=this.#gaussianRequest(e,t,s,r,a);return this.#extractBasic(this.#sendRequest(i))}async generateStrings(e,t,s,r={}){let a=this.#stringRequest(e,t,s,r);return this.#extractBasic(this.#sendRequest(a))}async generateUUIDs(e,t={}){let s=this.#UUIDRequest(e,t);return this.#extractBasic(this.#sendRequest(s))}async generateBlobs(e,t,s={}){let r=this.#blobRequest(e,t,s);return this.#extractBasic(this.#sendRequest(r))}async generateSignedIntegers(e,t,s,r={}){let a=this.#integerRequest(e,t,s,r,!0);return this.#extractSigned(this.#sendRequest(a))}async generateSignedIntegerSequences(e,t,s,r,a={}){let i=this.#integerSequenceRequest(e,t,s,r,a,!0);return this.#extractSigned(this.#sendRequest(i))}async generateSignedDecimalFractions(e,t,s={}){let r=this.#decimalFractionRequest(e,t,s,!0);return this.#extractSigned(this.#sendRequest(r))}async generateSignedGaussians(e,t,s,r,a={}){let i=this.#gaussianRequest(e,t,s,r,a,!0);return this.#extractSigned(this.#sendRequest(i))}async generateSignedStrings(e,t,s,r={}){let a=this.#stringRequest(e,t,s,r,!0);return this.#extractSigned(this.#sendRequest(a))}async generateSignedUUIDs(e,t={}){let s=this.#UUIDRequest(e,t,!0);return this.#extractSigned(this.#sendRequest(s))}async generateSignedBlobs(e,t,s={}){let r=this.#blobRequest(e,t,s,!0);return this.#extractSigned(this.#sendRequest(r))}async verifySignature(t,s){let r={random:t,signature:s},a=this.#generateRequest(e.#VERIFY_SIGNATURE_METHOD,r);return this.#extractVerification(this.#sendRequest(a))}async getBitsLeft(){let t=Date.now()>this.#lastResponseReceivedTime+e.#ALLOWANCE_STATE_REFRESH_SECONDS;return(this.#bitsLeft<0||t)&&await this.#getUsage(),this.#bitsLeft}async getRequestsLeft(){let t=Date.now()>this.#lastResponseReceivedTime+e.#ALLOWANCE_STATE_REFRESH_SECONDS;return(this.#requestsLeft<0||t)&&await this.#getUsage(),this.#requestsLeft}async getResult(t){let s={serialNumber:t},r=this.#generateKeyedRequest(e.#GET_RESULT_METHOD,s);return this.#extractSigned(this.#sendRequest(r))}async createTickets(t,s){let r={n:t,showResult:s},a=this.#generateKeyedRequest(e.#CREATE_TICKET_METHOD,r);return this.#extractResult(this.#sendRequest(a))}async listTickets(t){let s={ticketType:t},r=this.#generateKeyedRequest(e.#LIST_TICKET_METHOD,s);return this.#extractResult(this.#sendRequest(r))}async getTicket(t){let s={ticketId:t},r=this.#generateRequest(e.#GET_TICKET_METHOD,s);return this.#extractResult(this.#sendRequest(r))}createUrl(t,s){let r="https://api.random.org/signatures/form?format=json";if(r+="&random="+this.#formatUrl(JSON.stringify(t)),r+="&signature="+this.#formatUrl(s),r.length>e.MAX_URL_LENGTH)throw new o("Error: URL exceeds maximum length("+e.MAX_URL_LENGTH+" characters).");return r}createHtml(e,t){let s="<form action='https://api.random.org/signatures/form' method='post'>\n";return s+="  "+this.#inputHTML("hidden","format","json")+"\n",s+="  "+this.#inputHTML("hidden","random",JSON.stringify(e))+"\n",s+="  "+this.#inputHTML("hidden","signature",t)+"\n",s+="  <input type='submit' value='Validate' />\n</form>",s}createIntegerCache(e,t,s,r={}){let a=r.cacheSize||20;a<2&&(a=2);let i=this.#integerRequest(e,t,s,r),n=Math.ceil(Math.log(s-t+1)/Math.log(2)*e),u=0;return"replacement"in r&&!0!==r.replacement||(u=a/2,i.params.n=e*u),new h(this.#sendRequest.bind(this),i,a,u,e,n)}createIntegerSequenceCache(e,t,s,r,a={}){let i=a.cacheSize||20;i<2&&(i=2);let n,u=Math.ceil(Math.log(this.#maxValue(r)-this.#minValue(s),1)/Math.log(2)*e*this.#maxValue(t)),c=0;n=a.replacement&&Array.isArray(a.replacement)?a.replacement.every((e=>!0===e)):a.replacement||!0,n&&(c=i/2,Array.isArray(t)&&(t=this.#adjust(t,c)),Array.isArray(s)&&(s=this.#adjust(s,c)),Array.isArray(r)&&(r=this.#adjust(r,c)),a.replacement&&Array.isArray(a.replacement)&&(a.replacement=this.#adjust(a.replacement,c)),a.base&&Array.isArray(a.base)&&(a.base=this.#adjust(a.base,c)));let o=this.#integerSequenceRequest(e,t,s,r,a);return n&&(o.params.n=c*e),new h(this.#sendRequest.bind(this),o,i,c,e,u)}createDecimalFractionCache(e,t,s={}){let r=s.cacheSize||20;r<2&&(r=2);let a=this.#decimalFractionRequest(e,t,s),i=0;"replacement"in s&&!0!==s.replacement||(i=r/2,a.params.n=e*i);let n=Math.ceil(Math.log(10)/Math.log(2)*t*e);return new h(this.#sendRequest.bind(this),a,r,i,e,n)}createGaussianCache(e,t,s,r,a={}){let i=a.cacheSize||20;i<2&&(i=2);let n=Math.ceil(Math.log(Math.pow(10,r))/Math.log(2)*e),u=i/2,c=this.#gaussianRequest(e*u,t,s,r);return new h(this.#sendRequest.bind(this),c,i,u,e,n)}createStringCache(e,t,s,r={}){let a=r.cacheSize||20;a<2&&(a=2);let i=this.#stringRequest(e,t,s,r),n=Math.ceil(Math.log(s.length)/Math.log(2)*t*e),u=0;return"replacement"in r&&!0!==r.replacement||(u=a/2,i.params.n=e*u),new h(this.#sendRequest.bind(this),i,a,u,e,n)}createUUIDCache(t,s={}){let r=s.cacheSize||10;r<2&&(r=2);let a=t*e.UUID_SIZE,i=r/2,n=this.#UUIDRequest(t*i);return new h(this.#sendRequest.bind(this),n,r,i,t,a)}createBlobCache(e,t,s={}){let r=s.cacheSize||10;r<2&&(r=2);let a=e*t,i=r/2,n=this.#blobRequest(e*i,t,s);return new h(this.#sendRequest.bind(this),n,r,i,e,a)}#sendRequest=async function(t){if(-1!=this.#backoff){if(Date.now()<this.#backoff)throw new n(this.#backoffError);this.#backoff=-1,this.#backoffError=null}let s=this.#advisoryDelay-(Date.now()-this.#lastResponseReceivedTime);if(-1!=this.#blockingTimeout&&s>this.#blockingTimeout)throw new l("The server advisory delay of "+s+"millis is greater than the defined maximum allowed blocking time of "+this.#blockingTimeout+"millis.");s>0&&await new Promise((e=>setTimeout(e,s)));let r=this.#httpTimeout;return new Promise((function(e){let s=new XMLHttpRequest;s.open("POST","https://api.random.org/json-rpc/4/invoke"),s.setRequestHeader("Content-Type","application/json"),s.ontimeout=function(){throw new l("The maximum allowed blocking time of "+r+"millis has been exceeded while waiting for the server to respond.")},s.onload=function(){if(!(this.status>=200&&this.status<300))throw new a("Error: "+s.status);e(s.responseText)},s.onerror=function(e){throw e instanceof Error?e:(console.info("** An error occurred during the transaction."),new Error(s.responseText))},s.timeout=r,s.send(JSON.stringify(t))})).then((s=>{if((s=JSON.parse(s)).error){let t=s.error.code,r=s.error.message,a=s.error.data;if(401==t)throw new c("Error "+t+": "+r);if(402==t){let e=(new Date).setUTCHours(0,0,0,0);throw this.#backoff=+e,this.#backoffError="Error "+t+": "+r,this.#requestsLeft=a[1],new n(this.#backoffError)}throw 403==t?(this.#bitsLeft=a[1],new i("Error"+t+": "+r,this.#bitsLeft)):e.#ERROR_CODES.includes(t)?new o("Error "+t+": "+r,t):new u("Error "+t+": "+r)}return[e.#VERIFY_SIGNATURE_METHOD,e.#GET_RESULT_METHOD,e.#CREATE_TICKET_METHOD,e.#LIST_TICKET_METHOD,e.#GET_TICKET_METHOD].includes(t.method)?this.#advisoryDelay=e.#DEFAULT_DELAY:(this.#requestsLeft=s.result.requestsLeft,this.#bitsLeft=s.result.bitsLeft,s.result.advisoryDelay?this.#advisoryDelay=s.result.advisoryDelay:this.#advisoryDelay=e.#DEFAULT_DELAY),this.#lastResponseReceivedTime=Date.now(),s}))};#getUsage=async()=>{let t=this.#generateKeyedRequest(e.#GET_USAGE_METHOD,{});return this.#extractResult(this.#sendRequest(t))};#generateRequest=(e,t)=>({jsonrpc:"2.0",method:e,params:t,id:this.#uuidv4()});#generateKeyedRequest=(e,t)=>(t.apiKey=this.#apiKey,this.#generateRequest(e,t));#extractBasic=async e=>e.then((e=>e.result.random.data));#extractSigned=async e=>e.then((e=>({data:e.result.random.data,random:e.result.random,signature:e.result.signature})));#extractVerification=async e=>e.then((e=>e.result.authenticity));#extractResult=async e=>e.then((e=>e.result));#integerRequest=(t,s,r,{replacement:a=!0,base:i=10,pregeneratedRandomization:n=null,licenseData:u=null,userData:c=null,ticketId:o=null}={},l=!1)=>{let h={n:t,min:s,max:r,replacement:a,base:i};h=this.#addOptionalParams(h,n,u,c,o,l);let d=l?e.#SIGNED_INTEGER_METHOD:e.#INTEGER_METHOD;return this.#generateKeyedRequest(d,h)};#integerSequenceRequest=(t,s,r,a,{replacement:i=!0,base:n=10,pregeneratedRandomization:u=null,licenseData:c=null,userData:o=null,ticketId:l=null}={},h=!1)=>{let d={n:t,length:s,min:r,max:a,replacement:i,base:n};d=this.#addOptionalParams(d,u,c,o,l,h);let E=h?e.#SIGNED_INTEGER_SEQUENCE_METHOD:e.#INTEGER_SEQUENCE_METHOD;return this.#generateKeyedRequest(E,d)};#decimalFractionRequest=(t,s,{replacement:r=!0,pregeneratedRandomization:a=null,licenseData:i=null,userData:n=null,ticketId:u=null}={},c=!1)=>{let o={n:t,decimalPlaces:s,replacement:r};o=this.#addOptionalParams(o,a,i,n,u,c);let l=c?e.#SIGNED_DECIMAL_FRACTION_METHOD:e.#DECIMAL_FRACTION_METHOD;return this.#generateKeyedRequest(l,o)};#gaussianRequest=(t,s,r,a,{pregeneratedRandomization:i=null,licenseData:n=null,userData:u=null,ticketId:c=null}={},o=!1)=>{let l={n:t,mean:s,standardDeviation:r,significantDigits:a};l=this.#addOptionalParams(l,i,n,u,c,o);let h=o?e.#SIGNED_GAUSSIAN_METHOD:e.#GAUSSIAN_METHOD;return this.#generateKeyedRequest(h,l)};#stringRequest=(t,s,r,{replacement:a=!0,pregeneratedRandomization:i=null,licenseData:n=null,userData:u=null,ticketId:c=null}={},o=!1)=>{let l={n:t,length:s,characters:r,replacement:a};l=this.#addOptionalParams(l,i,n,u,c,o);let h=o?e.#SIGNED_STRING_METHOD:e.#STRING_METHOD;return this.#generateKeyedRequest(h,l)};#UUIDRequest=(t,{pregeneratedRandomization:s=null,licenseData:r=null,userData:a=null,ticketId:i=null}={},n=!1)=>{let u={n:t};u=this.#addOptionalParams(u,s,r,a,i,n);let c=n?e.#SIGNED_UUID_METHOD:e.#UUID_METHOD;return this.#generateKeyedRequest(c,u)};#blobRequest=(t,s,{format:r=this.BASE64,pregeneratedRandomization:a=null,licenseData:i=null,userData:n=null,ticketId:u=null},c=!1)=>{let o={n:t,size:s,format:r};o=this.#addOptionalParams(o,a,i,n,u,c);let l=c?e.#SIGNED_BLOB_METHOD:e.#BLOB_METHOD;return this.#generateKeyedRequest(l,o)};#addOptionalParams=(e,t,s,r,a,i=!1)=>(e.pregeneratedRandomization=t,i&&(e.licenseData=s,e.userData=r,e.ticketId=a),e);#adjust=(e,t)=>Array.from({length:t},(()=>e)).flat();#maxValue=e=>Array.isArray(e)?e.reduce((function(e,t){return Math.max(e,t)})):e;#minValue=e=>Array.isArray(e)?e.reduce((function(e,t){return Math.min(e,t)})):e;#formatUrl=e=>{if(!/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e))try{window&&(e=btoa(e))}catch(t){t instanceof ReferenceError&&(e=Buffer.from(e).toString("base64"))}return e=(e=(e=e.replace(/=/g,"%3D")).replace(/\+/g,"%2B")).replace(/\//g,"%2F")};#inputHTML=(e,t,s)=>"<input type='"+e+"' name='"+t+"' value='"+s+"' />";#uuidv4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))};let E=e.RandomOrgRANDOMORGError,g=e.RandomOrgBadHTTPResponseError,R=e.RandomOrgInsufficientBitsError,m=e.RandomOrgInsufficientRequestsError,T=e.RandomOrgJSONRPCError,p=e.RandomOrgKeyNotRunningError,D=e.RandomOrgSendTimeoutError,S=e.RandomOrgCacheEmptyError;export{g as RandomOrgBadHTTPResponseError,r as RandomOrgCache,S as RandomOrgCacheEmptyError,d as RandomOrgClient,R as RandomOrgInsufficientBitsError,m as RandomOrgInsufficientRequestsError,T as RandomOrgJSONRPCError,p as RandomOrgKeyNotRunningError,E as RandomOrgRANDOMORGError,D as RandomOrgSendTimeoutError,d as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmRvY29yZS5lcy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL1JhbmRvbU9yZ0Vycm9ycy5qcyIsIi4uL1JhbmRvbU9yZ0NhY2hlLmpzIiwiLi4vUmFuZG9tT3JnQ2xpZW50LmpzIiwiLi4vZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBFcnJvciB0aHJvd24gYnkgdGhlIFJhbmRvbU9yZ0NsaWVudCBjbGFzcyB3aGVuIHRoZSBjb25uZWN0aW9uIGRvZXNuJ3QgcmV0dXJuXHJcbiAqIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2UuXHJcbiAqL1xyXG5leHBvcnRzLlJhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yID0gY2xhc3MgUmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBFcnJvclxyXG57XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdHMgYSBuZXcgZXhjZXB0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBkZXRhaWwgbWVzc2FnZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXRhaWwgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXJyb3IgdGhyb3duIGJ5IHRoZSBSYW5kb21PcmdDbGllbnQgY2xhc3Mgd2hlbiBpdHMgQVBJIGtleSdzIHJlcXVlc3QgaGFzXHJcbiAqIGV4Y2VlZGVkIGl0cyByZW1haW5pbmcgc2VydmVyIGJpdHMgYWxsb3dhbmNlLlxyXG4gKiBcclxuICogSWYgdGhlIGNsaWVudCBpcyBjdXJyZW50bHkgaXNzdWluZyBsYXJnZSByZXF1ZXN0cyBpdCBtYXkgYmUgcG9zc2libGUgc3VjY2VlZFxyXG4gKiB3aXRoIHNtYWxsZXIgcmVxdWVzdHMuIFVzZSB0aGUgZ2V0Qml0c0xlZnQoKSBjYWxsIGluIHRoaXMgY2xhc3MgdG8gaGVscFxyXG4gKiBkZXRlcm1pbmUgaWYgYW4gYWx0ZXJuYXRpdmUgcmVxdWVzdCBzaXplIGlzIGFwcHJvcHJpYXRlLlxyXG4gKi9cclxuIGV4cG9ydHMuUmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yID0gY2xhc3MgUmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yIGV4dGVuZHMgRXJyb3Jcclxue1xyXG4gICAgLy8gU3RvcmVzIHRoZSBudW1iZXIgb2YgYml0cyByZW1haW5pbmdcclxuICAgICNiaXRzID0gLTE7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBleGNlcHRpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGRldGFpbCBtZXNzYWdlLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGV0YWlsIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0cyBCaXRzIHJlbWFpbmluZyBqdXN0IGJlZm9yZSB0aGUgZXJyb3Igd2FzIHRocm93bi5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgYml0cykge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuI2JpdHMgPSBiaXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGJpdHMgcmVtYWluaW5nLlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBvZiBiaXRzIGxlZnQuXHJcbiAgICAgKi9cclxuICAgIGdldEJpdHNMZWZ0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNiaXRzO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXJyb3IgdGhyb3duIGJ5IHRoZSBSYW5kb21PcmdDbGllbnQgY2xhc3Mgd2hlbiBpdHMgQVBJIGtleSdzIHNlcnZlciByZXF1ZXN0c1xyXG4gKiBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAqIFxyXG4gKiBUaGlzIGluZGljYXRlcyB0aGF0IGEgYmFjay1vZmYgdW50aWwgbWlkbmlnaHQgVVRDIGlzIGluIGVmZmVjdCwgYmVmb3JlIHdoaWNoXHJcbiAqIG5vIHJlcXVlc3RzIHdpbGwgYmUgc2VudCBieSB0aGUgY2xpZW50IGFzIG5vIG1lYW5pbmdmdWwgc2VydmVyIHJlc3BvbnNlcyB3aWxsXHJcbiAqIGJlIHJldHVybmVkLlxyXG4gKi9cclxuZXhwb3J0cy5SYW5kb21PcmdJbnN1ZmZpY2llbnRSZXF1ZXN0c0Vycm9yID0gY2xhc3MgUmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvciBleHRlbmRzIEVycm9yXHJcbntcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBleGNlcHRpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGRldGFpbCBtZXNzYWdlLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGV0YWlsIG1lc3NhZ2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEVycm9yIHRocm93biBieSB0aGUgUmFuZG9tT3JnQ2xpZW50IGNsYXNzIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgSlNPTi1SUENcclxuICogRXJyb3IuIFNlZSBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvZXJyb3ItY29kZXNcclxuICovXHJcbmV4cG9ydHMuUmFuZG9tT3JnSlNPTlJQQ0Vycm9yID0gY2xhc3MgUmFuZG9tT3JnSlNPTlJQQ0Vycm9yIGV4dGVuZHMgRXJyb3Jcclxue1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGV4Y2VwdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgZGV0YWlsIG1lc3NhZ2UuXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXRhaWwgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXJyb3IgdGhyb3duIGJ5IHRoZSBSYW5kb21PcmdDbGllbnQgY2xhc3Mgd2hlbiBpdHMgQVBJIGtleSBoYXMgYmVlbiBzdG9wcGVkLlxyXG4gKiBSZXF1ZXN0cyB3aWxsIG5vdCBjb21wbGV0ZSB3aGlsZSBBUEkga2V5IGlzIGluIHRoZSBzdG9wcGVkIHN0YXRlLlxyXG4gKi9cclxuZXhwb3J0cy5SYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3IgPSBjbGFzcyBSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3IgZXh0ZW5kcyBFcnJvclxyXG57XHJcbiAgICAvKipcclxuICAgICAqIEVycm9yIHRocm93biBieSB0aGUgUmFuZG9tT3JnQ2xpZW50IGNsYXNzIHdoZW4gaXRzIEFQSSBrZXkgaGFzIGJlZW4gc3RvcHBlZC5cclxuICAgICAqIFJlcXVlc3RzIHdpbGwgbm90IGNvbXBsZXRlIHdoaWxlIEFQSSBrZXkgaXMgaW4gdGhlIHN0b3BwZWQgc3RhdGUuXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXRhaWwgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXJyb3IgdGhyb3duIGJ5IHRoZSBSYW5kb21PcmdDbGllbnQgY2xhc3Mgd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYVxyXG4gKiBSQU5ET00uT1JHIEVycm9yLiBTZWUgaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L2Vycm9yLWNvZGVzXHJcbiAqL1xyXG5leHBvcnRzLlJhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yID0gY2xhc3MgUmFuZG9tT3JnUkFORE9NT1JHRXJyb3IgZXh0ZW5kcyBFcnJvclxyXG57XHJcbiAgICAvLyBTdG9yZXMgdGhlIGNvZGUgb2YgdGhlIFJBTkRPTS5PUkcgZXJyb3JcclxuICAgICNjb2RlID0gLTE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFcnJvciB0aHJvd24gYnkgdGhlIFJhbmRvbU9yZ0NsaWVudCBjbGFzcyB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhXHJcbiAgICAgKiBSQU5ET00uT1JHIEVycm9yLiBTZWUgaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L2Vycm9yLWNvZGVzXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXRhaWwgbWVzc2FnZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2NvZGU9LTFdIFRoZSBlcnJvciBjb2RlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlID0gLTEpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTsgICAgXHJcbiAgICAgICAgdGhpcy4jY29kZSA9IGNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBSQU5ET00uT1JHIGVycm9yIGNvZGUsIHNlZVxyXG4gICAgICogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L2Vycm9yLWNvZGVzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgZXJyb3IgY29kZS5cclxuICAgICAqL1xyXG4gICAgZ2V0Q29kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jY29kZTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEVycm9yIHRocm93biBieSB0aGUgUmFuZG9tT3JnQ2xpZW50IGNsYXNzIHdoZW4gaXRzIHNldCBibG9ja2luZyB0aW1lb3V0IGlzXHJcbiAqIGV4Y2VlZGVkIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICovXHJcbmV4cG9ydHMuUmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvciA9IGNsYXNzIFJhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvclxyXG57XHJcbiAgICAvKipcclxuICAgICAqIEVycm9yIHRocm93biBieSB0aGUgUmFuZG9tT3JnQ2xpZW50IGNsYXNzIHdoZW4gaXRzIHNldCBibG9ja2luZyB0aW1lb3V0IGlzXHJcbiAgICAgKiBleGNlZWRlZCBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXRhaWwgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXJyb3IgdGhyb3duIHdoZW4gZGF0YSByZXRyaWV2YWwgZnJvbSBhbiBlbXRweSBSYW5kb21PcmdDYWNoZSBpcyBhdHRlbXB0ZWQuXHJcbiAqL1xyXG5leHBvcnRzLlJhbmRvbU9yZ0NhY2hlRW1wdHlFcnJvciA9IGNsYXNzIFJhbmRvbU9yZ0NhY2hlRW1wdHlFcnJvciBleHRlbmRzIEVycm9yXHJcbntcclxuICAgICNwYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVycm9yIHRocm93biB3aGVuIGRhdGEgcmV0cmlldmFsIGZyb20gYW4gZW10cHkgUmFuZG9tT3JnQ2FjaGUgaXMgYXR0ZW1wdGVkLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGV0YWlsIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhdXNlZCBSZWZsZWN0cyB3aGV0aGVyIHRoZSBSYW5kb21PcmdDYWNoZSBpbnN0YW5jZSB3YXNcclxuICAgICAqICAgICBwYXVzZWQgd2hlbiB0aGlzIGVycm9yIHdhcyB0aHJvd24uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHBhdXNlZCA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy4jcGF1c2VkID0gcGF1c2VkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjYWNoZSB3YXMgcGF1c2VkIGF0IHRoZSB0aW1lIHdoZW4gdGhlXHJcbiAgICAgKiBlcnJvciB3YXMgdGhyb3duLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgcGF1c2VkLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIHdhc1BhdXNlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jcGF1c2VkO1xyXG4gICAgfVxyXG59IiwiJ3VzZSBzdHJpY3QnO1xyXG5jb25zdCB7XHJcbiAgICBSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3IsXHJcbiAgICBSYW5kb21PcmdDYWNoZUVtcHR5RXJyb3JcclxufSA9IHJlcXVpcmUoJy4vUmFuZG9tT3JnRXJyb3JzLmpzJyk7XHJcbi8qKlxyXG4gKiBQcmVjYWNoZSBjbGFzcyBmb3IgZnJlcXVlbnRseSB1c2VkIHJlcXVlc3RzLlxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBSYW5kb21PcmdDYWNoZSB7XHJcbiAgICAvLyBmdW5jdGlvbiB1c2VkIHRvIHNlbmQgYSByZXF1ZXN0XHJcbiAgICAjcmVxdWVzdEZ1bmN0aW9uID0gbnVsbDtcclxuXHJcbiAgICAvLyByZXF1ZXN0IHRvIGJlIHNlbnRcclxuICAgICNyZXF1ZXN0ID0gbnVsbDtcclxuXHJcbiAgICAvLyBuIGZvciBidWxrIHJlcXVlc3RzXHJcbiAgICAjYnVsa1JlcXVlc3ROdW1iZXIgPSAwO1xyXG4gICAgLy8gbiBmb3IgYSBzaW5nbGUgcmVxdWVzdFxyXG4gICAgI3JlcXVlc3ROdW1iZXIgPSAwO1xyXG4gICAgLy8gc2l6ZSBvZiBhIHNpbmdsZSByZXF1ZXN0IGluIGJpdHNcclxuICAgICNyZXF1ZXN0U2l6ZSA9IC0xO1xyXG5cclxuICAgIC8vIHN0b3JlcyBjYWNoZWQgYXJyYXlzIG9mIHZhbHVlc1xyXG4gICAgI3N0YWNrID0gW107XHJcbiAgICAvLyBudW1iZXIgb2YgYXJyYXlzIHRvIHRyeSB0byBtYWludGFpbiBpbiAjc3RhY2tcclxuICAgICNjYWNoZVNpemUgPSAxMDtcclxuXHJcbiAgICAvLyBzdGF0dXMgb2YgdGhlIGNhY2hlXHJcbiAgICAjcGF1c2VkID0gZmFsc2U7XHJcbiAgICAvLyBiaXRzIHVzZWQgYnkgdGhpcyBjYWNoZVxyXG4gICAgI2JpdHNVc2VkID0gMDtcclxuICAgIC8vIHJlcXVlc3RzIHVzZWQgYnkgdGhpcyBjYWNoZVxyXG4gICAgI3JlcXVlc3RzVXNlZCA9IDA7XHJcbiAgICAvLyBlbnN1cmVzICNwb3B1bGF0ZSgpIGRvZXMgbm90IGlzc3VlIHBhcmFsbGVsIHJlcXVlc3RzXHJcbiAgICAjY3VycmVudGx5UG9wdWxhdGluZyA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGFuIGVycm9yIHdoaWNoIHdpbGwgYmUgdGhyb3duIG9uIHRoZSBuZXh0IGNhbGwgdG8gZ2V0KCkgb3IgZ2V0T3JXYWl0KClcclxuICAgICNlcnJvciA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGNsYXNzIGFuZCBzdGFydCBzdGFjayBwb3B1bGF0aW9uXHJcbiAgICAgKiBcclxuICAgICAqICoqIFdBUk5JTkcqKiBTaG91bGQgb25seSBiZSBjYWxsZWQgYnkgUmFuZG9tT3JnQ2xpZW50J3MgY3JlYXRlQ2FjaGUoKVxyXG4gICAgICogbWV0aG9kcy5cclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oT2JqZWN0KSA6IE9iamVjdH0gcmVxdWVzdEZ1bmN0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gc2VuZFxyXG4gICAgICogICAgIHN1cHBsaWVkIHJlcXVlc3QgdG8gc2VydmVyLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgUmVxdWVzdCB0byBzZW5kIHRvIHNlcnZlciB2aWEgcmVxdWVzdEZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNhY2hlU2l6ZSBOdW1iZXIgb2YgcmVxdWVzdCByZXNwb25zZXMgdG8gdHJ5IG1haW50YWluLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1bGtSZXF1ZXN0TnVtYmVyIElmIHJlcXVlc3QgaXMgc2V0IHRvIGJlIGlzc3VlZCBpbiBidWxrLFxyXG4gICAgICogICAgIG51bWJlciBvZiByZXN1bHQgc2V0cyBpbiBhIGJ1bGsgcmVxdWVzdCwgZWxzZSAwLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlcXVlc3ROdW1iZXIgSWYgcmVxdWVzdCBpcyBzZXQgdG8gYmUgaXNzdWVkIGluIGJ1bGssXHJcbiAgICAgKiAgICAgbnVtYmVyIG9mIHJlc3VsdHMgaW4gYSBzaW5nbGUgcmVxdWVzdCwgZWxzZSAwLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpbmdsZVJlcXVlc3RTaXplIFNpemUgb2YgYSBzaW5nbGUgcmVxdWVzdCBpbiBiaXRzIGZvclxyXG4gICAgICogICAgIGFkanVzdGluZyBidWxrIHJlcXVlc3RzIGlmIGJpdHMgYXJlIGluIHNob3J0IHN1cHBseSBvbiB0aGUgc2VydmVyLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0RnVuY3Rpb24sIHJlcXVlc3QsIGNhY2hlU2l6ZSwgYnVsa1JlcXVlc3ROdW1iZXIsIHJlcXVlc3ROdW1iZXIsIHNpbmdsZVJlcXVlc3RTaXplKSB7XHJcbiAgICAgICAgdGhpcy4jcmVxdWVzdEZ1bmN0aW9uID0gcmVxdWVzdEZ1bmN0aW9uO1xyXG5cclxuICAgICAgICB0aGlzLiNyZXF1ZXN0ID0gcmVxdWVzdDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLiNjYWNoZVNpemUgPSBjYWNoZVNpemU7XHJcblxyXG4gICAgICAgIHRoaXMuI2J1bGtSZXF1ZXN0TnVtYmVyID0gYnVsa1JlcXVlc3ROdW1iZXI7XHJcbiAgICAgICAgdGhpcy4jcmVxdWVzdE51bWJlciA9IHJlcXVlc3ROdW1iZXI7XHJcbiAgICAgICAgdGhpcy4jcmVxdWVzdFNpemUgPSBzaW5nbGVSZXF1ZXN0U2l6ZTtcclxuXHJcbiAgICAgICAgdGhpcy4jcG9wdWxhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHRvIGNvbnRpbnVlIGlzc3VpbmcgcmVxdWVzdHMgdW50aWwgdGhlIHN0YWNrIGlzIGZ1bGwuXHJcbiAgICAgKiBcclxuICAgICAqIEtlZXAgaXNzdWluZyByZXF1ZXN0cyB0byBzZXJ2ZXIgdW50aWwgc3RhY2sgaXMgZnVsbC4gV2hlbiBzdGFjayBpcyBmdWxsXHJcbiAgICAgKiBpZiByZXF1ZXN0cyBhcmUgYmVpbmcgaXNzdWVkIGluIGJ1bGssIHdhaXQgdW50aWwgc3RhY2sgaGFzIGVub3VnaCBzcGFjZVxyXG4gICAgICogdG8gYWNjb21tb2RhdGUgYWxsIG9mIGEgYnVsayByZXF1ZXN0IGJlZm9yZSBpc3N1aW5nIGEgbmV3IHJlcXVlc3QsIG90aGVyd2lzZVxyXG4gICAgICogaXNzdWUgYSBuZXcgcmVxdWVzdCBldmVyeSB0aW1lIGFuIGl0ZW0gaW4gdGhlIHN0YWNrIGhhcyBiZWVuIGNvbnN1bWVkLiBOb3RlXHJcbiAgICAgKiB0aGF0IHJlcXVlc3RzIGFyZSBibG9ja2luZyAoJ2F3YWl0JyBpcyB1c2VkIHdoZW4gY2FsbGluZyB0aGUgcmVxdWVzdEZ1bmN0aW9uKSxcclxuICAgICAqIGkuZS4sIG9ubHkgb25lIHJlcXVlc3Qgd2lsbCBiZSBpc3N1ZWQgYnkgdGhlIGNhY2hlIGF0IGFueSBnaXZlbiB0aW1lLlxyXG4gICAgICovXHJcbiAgICAjcG9wdWxhdGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLiNjdXJyZW50bHlQb3B1bGF0aW5nICYmICF0aGlzLiNwYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy4jY3VycmVudGx5UG9wdWxhdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiNlcnJvciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jYnVsa1JlcXVlc3ROdW1iZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXMgdGhlcmUgc3BhY2UgZm9yIGEgYnVsayByZXNwb25zZSBpbiB0aGUgc3RhY2s/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI3N0YWNrLmxlbmd0aCA8PSAodGhpcy4jY2FjaGVTaXplIC0gdGhpcy4jYnVsa1JlcXVlc3ROdW1iZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuI3JlcXVlc3RGdW5jdGlvbih0aGlzLiNyZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2FkZFJlc3BvbnNlKHJlc3BvbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90IGVub3VnaCBiaXRzIHJlbWFpbmluZyBmb3IgYSBidWxrIHJlcXVlc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJpdHNMZWZ0ID0gZS5nZXRCaXRzTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzTGVmdCA+IHRoaXMuI3JlcXVlc3RTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHBvc3NpYmxlLCBhZGp1c3QgcmVxdWVzdCBmb3IgdGhlIGxhcmdlc3QgcG9zc2libGUgc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWRqdXN0ZWRCdWxrID0gTWF0aC5mbG9vcihiaXRzTGVmdC90aGlzLiNyZXF1ZXN0U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI3JlcXVlc3QucGFyYW1zLm4gPSBhZGp1c3RlZEJ1bGsgKiB0aGlzLiNyZXF1ZXN0TnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiNyZXF1ZXN0RnVuY3Rpb24odGhpcy4jcmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2FkZFJlc3BvbnNlKHJlc3BvbnNlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRvIG9yaWdpbmFsIGJ1bGsgcmVxdWVzdCBzaXplXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI3JlcXVlc3QucGFyYW1zLm4gPSB0aGlzLiNidWxrUmVxdWVzdE51bWJlciAqIHRoaXMuI3JlcXVlc3ROdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBzaXplIGNhbm5vdCBiZSBhZGp1c3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNlcnJvciA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFueSBvdGhlciBlcnJvciB0aHJvd24gZHVyaW5nIGluIHRoZSByZXF1ZXN0IGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jZXJyb3IgPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gc3BhY2UgZm9yIGEgYnVsayByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy4jc3RhY2subGVuZ3RoIDwgdGhpcy4jY2FjaGVTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5kaXZpZHVhbCByZXF1ZXN0c1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy4jcmVxdWVzdEZ1bmN0aW9uKHRoaXMuI3JlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNhZGRSZXNwb25zZShyZXNwb25zZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNlcnJvciA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3RhY2sgaXMgZnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB0aGlzLiNjdXJyZW50bHlQb3B1bGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNhY2hlIHdpbGwgbm8gbG9uZ2VyIGNvbnRpbnVlIHRvIHBvcHVsYXRlIGl0c2VsZi5cclxuICAgICAqL1xyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLiNwYXVzZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNhY2hlIHdpbGwgcmVzdW1lIHBvcHVsYXRpbmcgaXRzZWxmIGlmIHN0b3BwZWQuXHJcbiAgICAgKi9cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLiNwYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgaXQgbmVlZHMgdG8gYmUgcmVwb3B1bGF0ZWRcclxuICAgICAgICB0aGlzLiNyZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNhY2hlIGlzIGN1cnJlbnRseSBub3QgcmUtcG9wdWxhdGluZyBpdHNlbGYuXHJcbiAgICAgKiBcclxuICAgICAqIFZhbHVlcyBjdXJyZW50bHkgY2FjaGVkIG1heSBzdGlsbCBiZSByZXRyaWV2ZWQgd2l0aCBnZXQoKSBidXQgbm8gbmV3XHJcbiAgICAgKiB2YWx1ZXMgYXJlIGJlaW5nIGZldGNoZWQgZnJvbSB0aGUgc2VydmVyLiBUaGlzIHN0YXRlIGNhbiBiZSBjaGFuZ2VkIHdpdGhcclxuICAgICAqIHN0b3AoKSBhbmQgcmVzdW1lKCkuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjYWNoZSBpcyBjdXJyZW50bHkgbm90IHJlLXBvcHVsYXRpbmcgaXRzZWxmLFxyXG4gICAgICogICAgIGZhbHNlIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgaXNQYXVzZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BhdXNlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG5leHQgcmVzcG9uc2UuXHJcbiAgICAgKiBOb3RlIHRoYXQgaWYgdGhlIGNhY2hlIGlzIGVtcHR5LCBpZiB3YXMgY29uc3RydWN0ZWQgd2l0aCB1bnN1aXRhYmxlIHBhcmFtZXRlclxyXG4gICAgICogdmFsdWVzIG9yIGlmIHRoZSBkYWlseSBhbGxvd2FuY2Ugb2YgYml0cy9yZXF1ZXN0cyBoYXMgYmVlbiByZWFjaGVkLCB0aGUgYXBwcm9wcmlhdGVcclxuICAgICAqIGVycm9yIHdpbGwgYmUgdGhyb3duLlxyXG4gICAgICogQHJldHVybnMge2FueVtdfSBUaGUgbmV4dCBhcHByb3ByaWF0ZSByZXNwb25zZSBmb3IgdGhlIHJlcXVlc3QgdGhpcyBSYW5kb21PcmdDYWNoZVxyXG4gICAgICogICAgIHJlcHJlc2VudHMgb3IsIGlmIHN0YWNrIGlzIGVtcHR5IHRocm93cyBhbiBlcnJvci5cclxuICAgICAqIEB0aHJvd3MgUmFuZG9tT3JnQ2FjaGVFbXB0eUVycm9yIGlmIHRoZSBjYWNoZSBpcyBlbXB0eS5cclxuICAgICAqL1xyXG4gICAgZ2V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLiNlcnJvciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IHRoaXMuI2Vycm9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy4jc3RhY2sgJiYgdGhpcy4jc3RhY2subGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuI3BhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmRvbU9yZ0NhY2hlRW1wdHlFcnJvcignVGhlIFJhbmRvbU9yZ0NhY2hlIHN0YWNrICdcclxuICAgICAgICAgICAgICAgICAgICArICdpcyBlbXB0eSBhbmQgdGhlIGNhY2hlIGlzIHBhdXNlZC4gUGxlYXNlIGNhbGwgcmVzdW1lKCkgdG8gJ1xyXG4gICAgICAgICAgICAgICAgICAgICsgJ3Jlc3RhcnQgcG9wdWxhdGluZyB0aGUgY2FjaGUuJywgdHJ1ZSk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZG9tT3JnQ2FjaGVFbXB0eUVycm9yKCdUaGUgUmFuZG9tT3JnQ2FjaGUgc3RhY2sgJ1xyXG4gICAgICAgICAgICAgICAgICAgICsgJ2lzIGVtcHR5LCBwbGVhc2Ugd2FpdCBmb3IgaXQgdG8gcmVwb3B1bGF0ZSBpdHNlbGYuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuI3N0YWNrLnBvcCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXQgbmVlZHMgdG8gYmUgcmVwb3B1bGF0ZWRcclxuICAgICAgICAgICAgdGhpcy4jcmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IG5leHQgcmVzcG9uc2Ugb3Igd2FpdCB1bnRpbCB0aGUgbmV4dCB2YWx1ZSBpcyBhdmFpbGFibGUuIFRoaXMgbWV0aG9kXHJcbiAgICAgKiB3aWxsIGJsb2NrIHVudGlsIGEgdmFsdWUgaXMgYXZhaWxhYmxlLiBOb3RlOiB0aGlzIG1ldGhvZCB3aWxsIHRocm93IGFuIGVycm9yXHJcbiAgICAgKiBpZiB0aGUgY2FjaGUgaXMgZW1wdHkgYW5kIGhhcyBiZWVuIHBhdXNlZCwgaS5lLiBpcyBub3QgYmVpbmcgcG9wdWxhdGVkLiBJZlxyXG4gICAgICogdGhlIGNhY2hlIHdhcyBjb25zdHJ1Y3RlZCB3aXRoIHVuc3VpdGFibGUgcGFyYW1ldGVyIHZhbHVlcyBvciB0aGUgZGFpbHkgYWxsb3dhbmNlXHJcbiAgICAgKiBvZiBiaXRzL3JlcXVlc3RzIGhhcyBiZWVuIHJlYWNoZWQsIHRoZSBhcHByb3ByaWF0ZSBlcnJvciB3aWxsIGFsc28gYmUgdGhyb3duLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55W10+fSBUaGUgbmV4dCBhcHByb3ByaWF0ZSByZXNwb25zZSBmb3IgdGhlIHJlcXVlc3QgdGhpc1xyXG4gICAgICogUmFuZG9tT3JnQ2FjaGUgcmVwcmVzZW50cy5cclxuICAgICAqIEB0aHJvd3MgUmFuZG9tT3JnQ2FjaGVFbXB0eUVycm9yIGlmIHRoZSBjYWNoZSBpcyBlbXB0eSBhbmQgaXMgcGF1c2VkLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRPcldhaXQoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlcyA9IHRoaXMuZ2V0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFJhbmRvbU9yZ0NhY2hlRW1wdHlFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI3BhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjYWNoZSBpcyBwYXVzZWQgYW5kIHdpbGwgbm90IHJldHVybiBhbnkgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBjYWNoZWRWYWx1ZXMgPSBhd2FpdCB0aGlzLiNwb3B1bGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZFZhbHVlcyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNhY2hlIGhhcyBub3QgeWV0IHJlcG9wdWxhdGVkLlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCA1MCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JXYWl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgcmVzdWx0IHNldHMgcmVtYWluaW5nIGluIHRoZSBjYWNoZS5cclxuICAgICAqIFxyXG4gICAgICogVGhpcyBlc3NlbnRpYWxseSByZXR1cm5zIGhvdyBvZnRlbiBnZXQoKSBtYXkgYmUgY2FsbGVkIHdpdGhvdXRcclxuICAgICAqIGEgY2FjaGUgcmVmaWxsLlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gQ3VycmVudCBudW1iZXIgb2YgY2FjaGVkIHJlc3VsdHMuXHJcbiAgICAgKi9cclxuICAgIGdldENhY2hlZFZhbHVlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jc3RhY2subGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGJpdHMgdXNlZCBieSB0aGlzIGNhY2hlLlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIGJpdHMgdXNlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0Qml0c1VzZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2JpdHNVc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBudW1iZXIgb2YgcmVxdWVzdHMgdXNlZCBieSB0aGlzIGNhY2hlLlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIHJlcXVlc3RzIHVzZWQuXHJcbiAgICAgKi9cclxuICAgIGdldFJlcXVlc3RzVXNlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jcmVxdWVzdHNVc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBjYWNoZSBuZWVkcyB0byBiZSByZXBvcHVsYXRlZC5cclxuICAgICAqL1xyXG4gICAgI3JlZnJlc2ggPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuI2J1bGtSZXF1ZXN0TnVtYmVyID4gMCAmJiB0aGlzLiNzdGFjay5sZW5ndGggPD0gKHRoaXMuI2NhY2hlU2l6ZSAtIHRoaXMuI2J1bGtSZXF1ZXN0TnVtYmVyKSkge1xyXG4gICAgICAgICAgICAvLyBidWxrIHJlcXVlc3RzXHJcbiAgICAgICAgICAgIHRoaXMuI3BvcHVsYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2J1bGtSZXF1ZXN0TnVtYmVyIDw9IDAgJiYgdGhpcy4jc3RhY2subGVuZ3RoIDwgdGhpcy4jY2FjaGVTaXplKSB7XHJcbiAgICAgICAgICAgIC8vIGluZGl2aWR1YWwgcmVxdWVzdHNcclxuICAgICAgICAgICAgdGhpcy4jcG9wdWxhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYWRkIGEgcmVzcG9uc2UgdG8gdGhlIHN0YWNrLlxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYnVsayBUcnVlIGlmIHRoZSBjYWNoZSBpc3N1ZXMgYnVsayByZXF1ZXN0cywgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICAjYWRkUmVzcG9uc2UgPSAocmVzcG9uc2UsIGJ1bGspID0+IHtcclxuICAgICAgICB0aGlzLiNyZXF1ZXN0c1VzZWQrKztcclxuICAgICAgICB0aGlzLiNiaXRzVXNlZCArPSByZXNwb25zZS5yZXN1bHQuYml0c1VzZWQ7XHJcblxyXG4gICAgICAgIGlmIChidWxrKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UucmVzdWx0LnJhbmRvbS5kYXRhO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IHRoaXMuI3JlcXVlc3ROdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3N0YWNrLnB1c2goZGF0YS5zbGljZShpLCBpICsgdGhpcy4jcmVxdWVzdE51bWJlcikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4jc3RhY2sucHVzaChyZXNwb25zZS5yZXN1bHQucmFuZG9tLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IHtcclxuICAgIFJhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yLFxyXG4gICAgUmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yLFxyXG4gICAgUmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcixcclxuICAgIFJhbmRvbU9yZ0pTT05SUENFcnJvcixcclxuICAgIFJhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcixcclxuICAgIFJhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yLFxyXG4gICAgUmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvclxyXG59ID0gcmVxdWlyZSgnLi9SYW5kb21PcmdFcnJvcnMuanMnKTtcclxuY29uc3QgUmFuZG9tT3JnQ2FjaGUgPSByZXF1aXJlKCcuL1JhbmRvbU9yZ0NhY2hlLmpzJyk7XHJcbi8qIG5vZGUtaW1wb3J0ICovXHJcbmNvbnN0IFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3QnKS5YTUxIdHRwUmVxdWVzdDtcclxuLyogZW5kLW5vZGUtaW1wb3J0ICovXHJcblxyXG4vKipcclxuICogUmFuZG9tT3JnQ2xpZW50IG1haW4gY2xhc3MgdGhyb3VnaCB3aGljaCBBUEkgZnVuY3Rpb25zIGFyZSBhY2Nlc3NlZC5cclxuICogXHJcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYWNjZXNzIHRvIGJvdGggdGhlIHNpZ25lZCBhbmQgdW5zaWduZWQgbWV0aG9kcyBvZiB0aGVcclxuICogUkFORE9NLk9SRyBBUEkuXHJcbiAqIFxyXG4gKiBUaGUgY2xhc3MgYWxzbyBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGNyZWF0aW9uIG9mIGEgY29udmVuaWVuY2UgY2xhc3MsIFJhbmRvbU9yZ0NhY2hlLFxyXG4gKiBmb3IgcHJlY2FjaGluZyBBUEkgcmVzcG9uc2VzIHdoZW4gdGhlIHJlcXVlc3QgaXMga25vd24gaW4gYWR2YW5jZS5cclxuICogXHJcbiAqIFRoaXMgY2xhc3Mgd2lsbCBvbmx5IGFsbG93IHRoZSBjcmVhdGlvbiBvZiBvbmUgaW5zdGFuY2UgcGVyIEFQSSBrZXkuIElmIGFuXHJcbiAqIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgYWxyZWFkeSBleGlzdHMgZm9yIGEgZ2l2ZW4ga2V5LCB0aGF0IGluc3RhbmNlIHdpbGwgYmVcclxuICogcmV0dXJuZWQgaW5zdGVhZCBvZiBhIG5ldyBpbnN0YW5jZS5cclxuICogXHJcbiAqIFRoaXMgY2xhc3Mgb2JleXMgbW9zdCBvZiB0aGUgZ3VpZGVsaW5lcyBzZXQgZm9ydGggaW4gaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80XHJcbiAqIEFsbCByZXF1ZXN0cyByZXNwZWN0IHRoZSBzZXJ2ZXIncyBhZHZpc29yeURlbGF5IHJldHVybmVkIGluIGFueSByZXNwb25zZXMsIG9yIHVzZVxyXG4gKiBERUZBVUxUX0RFTEFZIGlmIG5vIGFkdmlzb3J5RGVsYXkgaXMgcmV0dXJuZWQuIElmIHRoZSBzdXBwbGllZCBBUEkga2V5IGlzIHBhdXNlZCwgaS5lLixcclxuICogaGFzIGV4Y2VlZGVkIGl0cyBkYWlseSBiaXQvcmVxdWVzdCBhbGxvd2FuY2UsIHRoaXMgaW1wbGVtZW50YXRpb24gd2lsbCBiYWNrIG9mZiB1bnRpbFxyXG4gKiBtaWRuaWdodCBVVEMuXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFJhbmRvbU9yZ0NsaWVudCB7XHJcbiAgICAvLyBCYXNpYyBBUElcclxuICAgIHN0YXRpYyAjSU5URUdFUl9NRVRIT0QgPSAnZ2VuZXJhdGVJbnRlZ2Vycyc7XHJcbiAgICBzdGF0aWMgI0lOVEVHRVJfU0VRVUVOQ0VfTUVUSE9EID0gJ2dlbmVyYXRlSW50ZWdlclNlcXVlbmNlcyc7XHJcbiAgICBzdGF0aWMgI0RFQ0lNQUxfRlJBQ1RJT05fTUVUSE9EID0gJ2dlbmVyYXRlRGVjaW1hbEZyYWN0aW9ucyc7XHJcbiAgICBzdGF0aWMgI0dBVVNTSUFOX01FVEhPRCA9ICdnZW5lcmF0ZUdhdXNzaWFucyc7XHJcbiAgICBzdGF0aWMgI1NUUklOR19NRVRIT0QgPSAnZ2VuZXJhdGVTdHJpbmdzJztcclxuICAgIHN0YXRpYyAjVVVJRF9NRVRIT0QgPSAnZ2VuZXJhdGVVVUlEcyc7XHJcbiAgICBzdGF0aWMgI0JMT0JfTUVUSE9EID0gJ2dlbmVyYXRlQmxvYnMnO1xyXG4gICAgc3RhdGljICNHRVRfVVNBR0VfTUVUSE9EID0gJ2dldFVzYWdlJztcclxuXHJcbiAgICAvLyBTaWduZWQgQVBJXHJcbiAgICBzdGF0aWMgI1NJR05FRF9JTlRFR0VSX01FVEhPRCA9ICdnZW5lcmF0ZVNpZ25lZEludGVnZXJzJztcclxuICAgIHN0YXRpYyAjU0lHTkVEX0lOVEVHRVJfU0VRVUVOQ0VfTUVUSE9EID0gJ2dlbmVyYXRlU2lnbmVkSW50ZWdlclNlcXVlbmNlcyc7XHJcbiAgICBzdGF0aWMgI1NJR05FRF9ERUNJTUFMX0ZSQUNUSU9OX01FVEhPRCA9ICdnZW5lcmF0ZVNpZ25lZERlY2ltYWxGcmFjdGlvbnMnO1xyXG4gICAgc3RhdGljICNTSUdORURfR0FVU1NJQU5fTUVUSE9EID0gJ2dlbmVyYXRlU2lnbmVkR2F1c3NpYW5zJztcclxuICAgIHN0YXRpYyAjU0lHTkVEX1NUUklOR19NRVRIT0QgPSAnZ2VuZXJhdGVTaWduZWRTdHJpbmdzJztcclxuICAgIHN0YXRpYyAjU0lHTkVEX1VVSURfTUVUSE9EID0gJ2dlbmVyYXRlU2lnbmVkVVVJRHMnO1xyXG4gICAgc3RhdGljICNTSUdORURfQkxPQl9NRVRIT0QgPSAnZ2VuZXJhdGVTaWduZWRCbG9icyc7XHJcbiAgICBzdGF0aWMgI0dFVF9SRVNVTFRfTUVUSE9EID0gJ2dldFJlc3VsdCc7XHJcbiAgICBzdGF0aWMgI0NSRUFURV9USUNLRVRfTUVUSE9EID0gJ2NyZWF0ZVRpY2tldHMnO1xyXG4gICAgc3RhdGljICNMSVNUX1RJQ0tFVF9NRVRIT0QgPSAnbGlzdFRpY2tldHMnO1xyXG4gICAgc3RhdGljICNHRVRfVElDS0VUX01FVEhPRCA9ICdnZXRUaWNrZXQnO1xyXG4gICAgc3RhdGljICNWRVJJRllfU0lHTkFUVVJFX01FVEhPRCA9ICd2ZXJpZnlTaWduYXR1cmUnO1xyXG5cclxuICAgIC8vIEJsb2IgZm9ybWF0IGxpdGVyYWxzXHJcbiAgICAvKiogQmxvYiBmb3JtYXQgbGl0ZXJhbCwgYmFzZTY0IGVuY29kaW5nIChkZWZhdWx0KS4gKi9cclxuICAgIHN0YXRpYyBCTE9CX0ZPUk1BVF9CQVNFNjQgPSAnYmFzZTY0JztcclxuICAgIC8qKiBCbG9iIGZvcm1hdCBsaXRlcmFsLCBoZXggZW5jb2RpbmcuICovXHJcbiAgICBzdGF0aWMgQkxPQl9GT1JNQVRfSEVYID0gJ2hleCc7XHJcblxyXG4gICAgLy8gRGVmYXVsdCB2YWx1ZXNcclxuICAgIC8qKiBEZWZhdWx0IHZhbHVlIGZvciB0aGUgcmVwbGFjZW1lbnQgcGFyYW1ldGVyICh0cnVlKS4gKi9cclxuICAgIHN0YXRpYyBERUZBVUxUX1JFUExBQ0VNRU5UID0gdHJ1ZTtcclxuICAgIC8qKiBEZWZhdWx0IHZhbHVlIGZvciB0aGUgYmFzZSBwYXJhbWV0ZXIgKDEwKS4gKi9cclxuICAgIHN0YXRpYyBERUZBVUxUX0JBU0UgPSAxMDtcclxuICAgIC8qKiBEZWZhdWx0IHZhbHVlIGZvciB0aGUgdXNlckRhdGEgcGFyYW1ldGVyIChudWxsKS4gKi9cclxuICAgIHN0YXRpYyBERUZBVUxUX1VTRVJfREFUQSA9IG51bGw7XHJcbiAgICAvKiogRGVmYXVsdCB2YWx1ZSBmb3IgdGhlIHRpY2tldElkIHBhcmFtZXRlciAobnVsbCkuICovXHJcbiAgICBzdGF0aWMgREVGQVVMVF9USUNLRVRfSUQgPSBudWxsO1xyXG4gICAgLyoqIERlZmF1bHQgdmFsdWUgZm9yIHRoZSBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uIHBhcmFtZXRlciAobnVsbCkuICovXHJcbiAgICBzdGF0aWMgREVGQVVMVF9QUkVHRU5FUkFURURfUkFORE9NSVpBVElPTiA9IG51bGw7XHJcbiAgICAvKiogRGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGxpY2Vuc2VEYXRhIHBhcmFtZXRlciAobnVsbCkuICovXHJcbiAgICBzdGF0aWMgREVGQVVMVF9MSUNFTlNFX0RBVEEgPSBudWxsO1xyXG5cclxuICAgIC8qKiBTaXplIG9mIGEgc2luZ2xlIFVVSUQgaW4gYml0cy4gKi9cclxuICAgIHN0YXRpYyBVVUlEX1NJWkUgPSAxMjI7XHJcbiAgICAvKiogRGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGJsb2NraW5nVGltZW91dCBwYXJhbWV0ZXIgKDEgZGF5KS4gKi9cclxuICAgIHN0YXRpYyBERUZBVUxUX0JMT0NLSU5HX1RJTUVPVVQgPSAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgLyoqIERlZmF1bHQgdmFsdWUgZm9yIHRoZSBodHRwVGltZW91dCBwYXJhbWV0ZXIgKDIgbWludXRlcykuICovXHJcbiAgICBzdGF0aWMgREVGQVVMVF9IVFRQX1RJTUVPVVQgPSAxMjAgKiAxMDAwO1xyXG4gICAgLyoqIE1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgYWxsb3dlZCBpbiBhIHNpZ25hdHVyZSB2ZXJmaWNpYXRpb24gVVJMLiAqL1xyXG4gICAgc3RhdGljIE1BWF9VUkxfTEVOR1RIID0gMjA0NjtcclxuXHJcbiAgICAvLyBEZWZhdWx0IGJhY2stb2ZmIHRvIHVzZSBpZiBubyBhZHZpc29yeURlbGF5IGJhY2stb2ZmIHN1cHBsaWVkIGJ5IHNlcnZlciAoMSBzZWNvbmQpXHJcbiAgICBzdGF0aWMgI0RFRkFVTFRfREVMQVkgPSAxKjEwMDA7XHJcblxyXG4gICAgLy8gT24gcmVxdWVzdCBmZXRjaCBmcmVzaCBhbGxvd2FuY2Ugc3RhdGUgaWYgY3VycmVudCBzdGF0ZSBkYXRhIGlzIG9sZGVyIHRoYW5cclxuICAgIC8vIHRoaXMgdmFsdWUgKDEgaG91cikuXHJcbiAgICBzdGF0aWMgI0FMTE9XQU5DRV9TVEFURV9SRUZSRVNIX1NFQ09ORFMgPSAzNjAwICogMTAwMDtcclxuXHJcbiAgICAvLyBNYWludGFpbnMgdXNhZ2Ugc3RhdGlzdGljcyBmcm9tIHNlcnZlci5cclxuICAgICNiaXRzTGVmdCA9IC0xO1xyXG4gICAgI3JlcXVlc3RzTGVmdCA9IC0xO1xyXG5cclxuICAgIC8vIEJhY2stb2ZmIGluZm8gZm9yIHdoZW4gdGhlIEFQSSBrZXkgaXMgZGV0ZWN0ZWQgYXMgbm90IHJ1bm5pbmcsIHByb2JhYmx5XHJcbiAgICAvLyBiZWNhdXNlIHRoZSBrZXkgaGFzIGV4Y2VlZGVkIGl0cyBkYWlseSB1c2FnZSBsaW1pdC4gQmFjay1vZmYgcnVucyB1bnRpbFxyXG4gICAgLy8gbWlkbmlnaHQgVVRDLlxyXG4gICAgI2JhY2tvZmYgPSAtMTtcclxuICAgICNiYWNrb2ZmRXJyb3IgPSAnJztcclxuXHJcbiAgICAjYXBpS2V5ID0gJyc7XHJcbiAgICAjYmxvY2tpbmdUaW1lb3V0ID0gUmFuZG9tT3JnQ2xpZW50LkRFRkFVTFRfQkxPQ0tJTkdfVElNRU9VVDtcclxuICAgICNodHRwVGltZW91dCA9IFJhbmRvbU9yZ0NsaWVudC5ERUZBVUxUX0hUVFBfVElNRU9VVDtcclxuXHJcbiAgICAvLyBNYWludGFpbiBpbmZvIHRvIG9iZXkgc2VydmVyIGFkdmlzb3J5IGRlbGF5XHJcbiAgICAjYWR2aXNvcnlEZWxheSA9IDA7XHJcbiAgICAjbGFzdFJlc3BvbnNlUmVjZWl2ZWRUaW1lID0gMDtcclxuXHJcbiAgICAvLyBNYWludGFpbnMgYSBkaWN0aW9uYXJ5IG9mIEFQSSBrZXlzIGFuZCB0aGVpciBpbnN0YW5jZXMuXHJcbiAgICBzdGF0aWMgI2tleUluZGV4ZWRJbnN0YW5jZXMgPSB7fTtcclxuXHJcbiAgICBzdGF0aWMgI0VSUk9SX0NPREVTID0gWyAxMDAsIDEwMSwgMjAwLCAyMDEsIDIwMiwgMjAzLCAyMDQsIDMwMCxcclxuICAgICAgICAzMDEsIDMwMiwgMzAzLCAzMDQsIDMwNSwgMzA2LCAzMDcsIDQwMCwgNDAxLCA0MDIsIDQwMywgNDA0LFxyXG4gICAgICAgIDQwNSwgNDIwLCA0MjEsIDQyMiwgNDIzLCA0MjQsIDQyNSwgNTAwLCAzMjAwMCBdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IuIEVuc3VyZXMgb25seSBvbmUgaW5zdGFuY2Ugb2YgUmFuZG9tT3JnQ2xpZW50IGV4aXN0cyBwZXIgQVBJXHJcbiAgICAgKiBrZXkuIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2UgaWYgdGhlIHN1cHBsaWVkIGtleSBpc24ndCBhbHJlYWR5IGtub3duLFxyXG4gICAgICogb3RoZXJ3aXNlIHJldHVybnMgdGhlIHByZXZpb3VzbHkgaW5zdGFudGlhdGVkIG9uZS5cclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFwaUtleSBBUEkga2V5IG9mIGluc3RhbmNlIHRvIGNyZWF0ZS9maW5kLCBvYnRhaW5lZCBmcm9tXHJcbiAgICAgKiAgICAgUkFORE9NLk9SRywgc2VlIGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvYXBpLWtleXNcclxuICAgICAqIEBwYXJhbSB7e2Jsb2NraW5nVGltZW91dD86IG51bWJlciwgaHR0cFRpbWVvdXQ/OiBudW1iZXJ9fSBvcHRpb25zIEFuIG9iamVjdFxyXG4gICAgICogICAgIHdoaWNoIG1heSBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJsb2NraW5nVGltZW91dCA9IDI0ICogNjAgKiA2MCAqIDEwMDBdIE1heGltdW1cclxuICAgICAqICAgICB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBiZWluZyBhbGxvd2VkIHRvIHNlbmQgYSByZXF1ZXN0LlxyXG4gICAgICogICAgIE5vdGUgdGhpcyBpcyBhIGhpbnQgbm90IGEgZ3VhcmFudGVlLiBUaGUgYWR2aXNvcnkgZGVsYXkgZnJvbSBzZXJ2ZXJcclxuICAgICAqICAgICBtdXN0IGFsd2F5cyBiZSBvYmV5ZWQuIFN1cHBseSBhIHZhbHVlIG9mIC0xIHRvIGFsbG93IGJsb2NraW5nIGZvcmV2ZXJcclxuICAgICAqICAgICAoZGVmYXVsdCAyNCAqIDYwICogNjAgKiAxMDAwLCBpLmUuLCAxIGRheSkuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaHR0cFRpbWVvdXQgPSAxMjAgKiAxMDAwXSBNYXhpbXVtIHRpbWUgaW5cclxuICAgICAqICAgICBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgdGhlIHNlcnZlciByZXNwb25zZSB0byBhIHJlcXVlc3QgKGRlZmF1bHRcclxuICAgICAqICAgICAxMjAqMTAwMCkuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKFJhbmRvbU9yZ0NsaWVudC4ja2V5SW5kZXhlZEluc3RhbmNlcyAmJiBSYW5kb21PcmdDbGllbnQuI2tleUluZGV4ZWRJbnN0YW5jZXNbYXBpS2V5XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUmFuZG9tT3JnQ2xpZW50LiNrZXlJbmRleGVkSW5zdGFuY2VzW2FwaUtleV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4jYXBpS2V5ID0gYXBpS2V5O1xyXG4gICAgICAgICAgICB0aGlzLiNibG9ja2luZ1RpbWVvdXQgPSBvcHRpb25zLmJsb2NraW5nVGltZW91dCB8fCAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLiNodHRwVGltZW91dCA9IG9wdGlvbnMuaHR0cFRpbWVvdXQgfHwgMTIwICogMTAwMDtcclxuXHJcbiAgICAgICAgICAgIFJhbmRvbU9yZ0NsaWVudC4ja2V5SW5kZXhlZEluc3RhbmNlc1thcGlLZXldID0gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQmFzaWMgQVBJXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0cyBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0cnVlIHJhbmRvbSBpbnRlZ2VycyB3aXRoaW4gYSB1c2VyLWRlZmluZWRcclxuICAgICAqIHJhbmdlIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIFxyXG4gICAgICogU2VlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvYmFzaWMjZ2VuZXJhdGVJbnRlZ2Vyc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiByYW5kb20gaW50ZWdlcnMgeW91IG5lZWQuIE11c3QgYmUgd2l0aGluXHJcbiAgICAgKiAgICAgdGhlIFsxLDFlNF0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBsb3dlciBib3VuZGFyeSBmb3IgdGhlIHJhbmdlIGZyb20gd2hpY2ggdGhlIHJhbmRvbVxyXG4gICAgICogICAgIG51bWJlcnMgd2lsbCBiZSBwaWNrZWQuIE11c3QgYmUgd2l0aGluIHRoZSBbLTFlOSwxZTldIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgdXBwZXIgYm91bmRhcnkgZm9yIHRoZSByYW5nZSBmcm9tIHdoaWNoIHRoZSByYW5kb21cclxuICAgICAqICAgICBudW1iZXJzIHdpbGwgYmUgcGlja2VkLiBNdXN0IGJlIHdpdGhpbiB0aGUgWy0xZTksMWU5XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbiwgYmFzZT86IG51bWJlciwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj86XHJcbiAgICAgKiAgICAgT2JqZWN0fX0gb3B0aW9ucyBBbiBvYmplY3Qgd2hpY2ggbWF5IGNvbnRhaW5zIGFueSBvZiB0aGUgZm9sbG93aW5nXHJcbiAgICAgKiAgICAgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVwbGFjZW1lbnQ9dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIHJhbmRvbVxyXG4gICAgICogICAgIG51bWJlcnMgc2hvdWxkIGJlIHBpY2tlZCB3aXRoIHJlcGxhY2VtZW50LiBJZiB0cnVlLCB0aGUgcmVzdWx0aW5nIG51bWJlcnNcclxuICAgICAqICAgICBtYXkgY29udGFpbiBkdXBsaWNhdGUgdmFsdWVzLCBvdGhlcndpc2UgdGhlIG51bWJlcnMgd2lsbCBhbGwgYmUgdW5pcXVlXHJcbiAgICAgKiAgICAgKGRlZmF1bHQgdHJ1ZSkuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFzZT0xMF0gVGhlIGJhc2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gZGlzcGxheVxyXG4gICAgICogICAgIHRoZSBudW1iZXJzLiBWYWx1ZXMgYWxsb3dlZCBhcmUgMiwgOCwgMTAgYW5kIDE2IChkZWZhdWx0IDEwKS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxudW1iZXJbXT58UHJvbWlzZTxzdHJpbmdbXT4pfSBBIFByb21pc2Ugd2hpY2gsIGlmXHJcbiAgICAgKiAgICAgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCByZXByZXNlbnRzIGFuIGFycmF5IG9mIHRydWUgcmFuZG9tIGludGVnZXJzLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIGdlbmVyYXRlSW50ZWdlcnMobiwgbWluLCBtYXgsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jaW50ZWdlclJlcXVlc3QobiwgbWluLCBtYXgsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0QmFzaWModGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdHMgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdHJ1ZSByYW5kb20gaW50ZWdlciBzZXF1ZW5jZXMgd2l0aGluIGFcclxuICAgICAqIHVzZXItZGVmaW5lZCByYW5nZSBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBcclxuICAgICAqIFNlZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L2Jhc2ljI2dlbmVyYXRlSW50ZWdlclNlcXVlbmNlc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gSG93IG1hbnkgYXJyYXlzIG9mIHJhbmRvbSBpbnRlZ2VycyB5b3UgbmVlZC4gTXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMWUzXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxudW1iZXJbXSl9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIGVhY2ggYXJyYXkgb2YgcmFuZG9tXHJcbiAgICAgKiAgICAgaW50ZWdlcnMgcmVxdWVzdGVkLiBGb3IgdW5pZm9ybSBzZXF1ZW5jZXMsIGxlbmd0aCBtdXN0IGJlIGFuIGludGVnZXJcclxuICAgICAqICAgICBpbiB0aGUgWzEsIDFlNF0gcmFuZ2UuIEZvciBtdWx0aWZvcm0gc2VxdWVuY2VzLCBsZW5ndGggY2FuIGJlIGFuIGFycmF5XHJcbiAgICAgKiAgICAgd2l0aCBuIGludGVnZXJzLCBlYWNoIHNwZWNpZnlpbmcgdGhlIGxlbmd0aCBvZiB0aGUgc2VxdWVuY2UgaWRlbnRpZmllZFxyXG4gICAgICogICAgIGJ5IGl0cyBpbmRleC4gSW4gdGhpcyBjYXNlLCBlYWNoIHZhbHVlIGluIGxlbmd0aCBtdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwgMWU0XSByYW5nZSBhbmQgdGhlIHRvdGFsIHN1bSBvZiBhbGwgdGhlIGxlbmd0aHMgbXVzdCBiZSBpbiB0aGVcclxuICAgICAqICAgICBbMSwgMWU0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxudW1iZXJbXSl9IG1pbiBUaGUgbG93ZXIgYm91bmRhcnkgZm9yIHRoZSByYW5nZSBmcm9tIHdoaWNoXHJcbiAgICAgKiAgICAgdGhlIHJhbmRvbSBudW1iZXJzIHdpbGwgYmUgcGlja2VkLiBGb3IgdW5pZm9ybSBzZXF1ZW5jZXMsIG1pbiBtdXN0IGJlXHJcbiAgICAgKiAgICAgYW4gaW50ZWdlciBpbiB0aGUgWy0xZTksIDFlOV0gcmFuZ2UuIEZvciBtdWx0aWZvcm0gc2VxdWVuY2VzLCBtaW4gY2FuXHJcbiAgICAgKiAgICAgYmUgYW4gYXJyYXkgd2l0aCBuIGludGVnZXJzLCBlYWNoIHNwZWNpZnlpbmcgdGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZVxyXG4gICAgICogICAgIHNlcXVlbmNlIGlkZW50aWZpZWQgYnkgaXRzIGluZGV4LiBJbiB0aGlzIGNhc2UsIGVhY2ggdmFsdWUgaW4gbWluIG11c3RcclxuICAgICAqICAgICBiZSB3aXRoaW4gdGhlIFstMWU5LCAxZTldIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gbWF4IFRoZSB1cHBlciBib3VuZGFyeSBmb3IgdGhlIHJhbmdlIGZyb20gd2hpY2hcclxuICAgICAqICAgICB0aGUgcmFuZG9tIG51bWJlcnMgd2lsbCBiZSBwaWNrZWQuIEZvciB1bmlmb3JtIHNlcXVlbmNlcywgbWF4IG11c3QgYmVcclxuICAgICAqICAgICBhbiBpbnRlZ2VyIGluIHRoZSBbLTFlOSwgMWU5XSByYW5nZS4gRm9yIG11bHRpZm9ybSBzZXF1ZW5jZXMsIG1heCBjYW5cclxuICAgICAqICAgICBiZSBhbiBhcnJheSB3aXRoIG4gaW50ZWdlcnMsIGVhY2ggc3BlY2lmeWluZyB0aGUgdXBwZXIgYm91bmRhcnkgb2YgdGhlXHJcbiAgICAgKiAgICAgc2VxdWVuY2UgaWRlbnRpZmllZCBieSBpdHMgaW5kZXguIEluIHRoaXMgY2FzZSwgZWFjaCB2YWx1ZSBpbiBtYXggbXVzdFxyXG4gICAgICogICAgIGJlIHdpdGhpbiB0aGUgWy0xZTksIDFlOV0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tyZXBsYWNlbWVudD86IGJvb2xlYW58Ym9vbGVhbltdLCBiYXNlPzogbnVtYmVyfG51bWJlcltdLFxyXG4gICAgICogICAgIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3R9fSBvcHRpb25zIEFuIG9iamVjdCB3aGljaCBtYXkgY29udGFpbnNcclxuICAgICAqICAgICBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHsoYm9vbGVhbnxib29sZWFuW10pfSBbb3B0aW9ucy5yZXBsYWNlbWVudD10cnVlXSBTcGVjaWZpZXMgd2hldGhlclxyXG4gICAgICogICAgIHRoZSByYW5kb20gbnVtYmVycyBzaG91bGQgYmUgcGlja2VkIHdpdGggcmVwbGFjZW1lbnQuIElmIHRydWUsIHRoZVxyXG4gICAgICogICAgIHJlc3VsdGluZyBudW1iZXJzIG1heSBjb250YWluIGR1cGxpY2F0ZSB2YWx1ZXMsIG90aGVyd2lzZSB0aGUgbnVtYmVyc1xyXG4gICAgICogICAgIHdpbGwgYWxsIGJlIHVuaXF1ZS4gRm9yIG11bHRpZm9ybSBzZXF1ZW5jZXMsIHJlcGxhY2VtZW50IGNhbiBiZSBhbiBhcnJheVxyXG4gICAgICogICAgIHdpdGggbiBib29sZWFuIHZhbHVlcywgZWFjaCBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIHNlcXVlbmNlIGlkZW50aWZpZWRcclxuICAgICAqICAgICBieSBpdHMgaW5kZXggd2lsbCBiZSBjcmVhdGVkIHdpdGggKHRydWUpIG9yIHdpdGhvdXQgKGZhbHNlKSByZXBsYWNlbWVudFxyXG4gICAgICogICAgIChkZWZhdWx0IHRydWUpLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gW29wdGlvbnMuYmFzZT0xMF0gVGhlIGJhc2UgdGhhdCB3aWxsIGJlIHVzZWRcclxuICAgICAqICAgICB0byBkaXNwbGF5IHRoZSBudW1iZXJzLiBWYWx1ZXMgYWxsb3dlZCBhcmUgMiwgOCwgMTAgYW5kIDE2LiBGb3IgbXVsdGlmb3JtXHJcbiAgICAgKiAgICAgc2VxdWVuY2VzLCBiYXNlIGNhbiBiZSBhbiBhcnJheSB3aXRoIG4gaW50ZWdlciB2YWx1ZXMgdGFrZW4gZnJvbSB0aGVcclxuICAgICAqICAgICBzYW1lIHNldCwgZWFjaCBzcGVjaWZ5aW5nIHRoZSBiYXNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRpc3BsYXkgdGhlXHJcbiAgICAgKiAgICAgc2VxdWVuY2UgaWRlbnRpZmllZCBieSBpdHMgaW5kZXggKGRlZmF1bHQgMTApLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb249bnVsbF0gQSBkaWN0aW9uYXJ5IG9iamVjdFxyXG4gICAgICogICAgIHdoaWNoIGFsbG93cyB0aGUgY2xpZW50IHRvIHNwZWNpZnkgdGhhdCB0aGUgcmFuZG9tIHZhbHVlcyBzaG91bGQgYmVcclxuICAgICAqICAgICBnZW5lcmF0ZWQgZnJvbSBhIHByZWdlbmVyYXRlZCwgaGlzdG9yaWNhbCByYW5kb21pemF0aW9uIGluc3RlYWQgb2YgYVxyXG4gICAgICogICAgIG9uZS10aW1lIG9uLXRoZS1mbHkgcmFuZG9taXphdGlvbi4gVGhlcmUgYXJlIHRocmVlIHBvc3NpYmxlIGNhc2VzOlxyXG4gICAgICogKiAqKm51bGwqKjogVGhlIHN0YW5kYXJkIHdheSBvZiBjYWxsaW5nIGZvciByYW5kb20gdmFsdWVzLCBpLmUudHJ1ZVxyXG4gICAgICogICAgICAgcmFuZG9tbmVzcyBpcyBnZW5lcmF0ZWQgYW5kIGRpc2NhcmRlZCBhZnRlcndhcmRzLlxyXG4gICAgICogKiAqKmRhdGUqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGdlbmVyYXRlZCBvbiB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgZGF0ZSAocGFzdCBvciBwcmVzZW50LCBmb3JtYXQ6IHsgJ2RhdGUnLCAnWVlZWS1NTS1ERCcgfSkuXHJcbiAgICAgKiAqICoqaWQqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgaWRlbnRpZmllciBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyLiBGb3JtYXQ6IHsgJ2lkJyxcclxuICAgICAqICAgICAgICdQRVJTSVNURU5ULUlERU5USUZJRVInIH0gd2hlcmUgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgaXMgYSBzdHJpbmdcclxuICAgICAqICAgICAgIHdpdGggbGVuZ3RoIGluIHRoZSBbMSwgNjRdIHJhbmdlLlxyXG4gICAgICogQHJldHVybnMgeyhQcm9taXNlPG51bWJlcltdW10+fFByb21pc2U8c3RyaW5nW11bXT4pfSBBIFByb21pc2Ugd2hpY2gsIGlmXHJcbiAgICAgKiAgICAgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCByZXByZXNlbnRzIGFuIGFycmF5IG9mIHRydWUgcmFuZG9tIGludGVnZXJcclxuICAgICAqICAgICBzZXF1ZW5jZXMuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdTZW5kVGltZW91dEVycm9yfSBUaHJvd24gd2hlbiBibG9ja2luZyB0aW1lb3V0IGlzIGV4Y2VlZGVkXHJcbiAgICAgKiAgICAgYmVmb3JlIHRoZSByZXF1ZXN0IGNhbiBiZSBzZW50LlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnS2V5Tm90UnVubmluZ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSBoYXMgYmVlblxyXG4gICAgICogICAgIHN0b3BwZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRSZXF1ZXN0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIHJlcXVlc3RzIGFsbG93YW5jZSBoYXMgYmVlbiBleGNlZWRlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudEJpdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICBiaXRzIGFsbG93YW5jZSBoYXMgYmVlbiBleGNlZWRlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yfSBUaHJvd24gd2hlbiBhIEhUVFAgMjAwIE9LIHJlc3BvbnNlXHJcbiAgICAgKiAgICAgaXMgbm90IHJlY2VpdmVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnUkFORE9NT1JHRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIFJBTkRPTS5PUkdcclxuICAgICAqICAgICBFcnJvci5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0pTT05SUENFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgSlNPTi1SUEMgRXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdlbmVyYXRlSW50ZWdlclNlcXVlbmNlcyhuLCBsZW5ndGgsIG1pbiwgbWF4LCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2ludGVnZXJTZXF1ZW5jZVJlcXVlc3QobiwgbGVuZ3RoLCBtaW4sIG1heCwgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RCYXNpYyh0aGlzLiNzZW5kUmVxdWVzdChyZXF1ZXN0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0cyBhbmQgcmV0dXJucyBhIGxpc3QgKHNpemUgbikgb2YgdHJ1ZSByYW5kb20gZGVjaW1hbCBmcmFjdGlvbnMsXHJcbiAgICAgKiBmcm9tIGEgdW5pZm9ybSBkaXN0cmlidXRpb24gYWNyb3NzIHRoZSBbMCwxXSBpbnRlcnZhbCB3aXRoIGEgdXNlci1kZWZpbmVkXHJcbiAgICAgKiBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICogXHJcbiAgICAgKiBTZWU6IGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9iYXNpYyNnZW5lcmF0ZURlY2ltYWxGcmFjdGlvbnNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBkZWNpbWFsIGZyYWN0aW9ucyB5b3UgbmVlZC4gTXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMWU0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFsUGxhY2VzIFRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdXNlLiBNdXN0IGJlXHJcbiAgICAgKiAgICAgd2l0aGluIHRoZSBbMSwyMF0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tyZXBsYWNlbWVudD86IGJvb2xlYW4sIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3R9fSBvcHRpb25zXHJcbiAgICAgKiAgICAgQW4gb2JqZWN0IHdoaWNoIG1heSBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlbWVudD10cnVlXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgcmFuZG9tXHJcbiAgICAgKiAgICAgbnVtYmVycyBzaG91bGQgYmUgcGlja2VkIHdpdGggcmVwbGFjZW1lbnQuIElmIHRydWUsIHRoZSByZXN1bHRpbmcgbnVtYmVyc1xyXG4gICAgICogICAgIG1heSBjb250YWluIGR1cGxpY2F0ZSB2YWx1ZXMsIG90aGVyd2lzZSB0aGUgbnVtYmVycyB3aWxsIGFsbCBiZSB1bmlxdWVcclxuICAgICAqICAgICAoZGVmYXVsdCB0cnVlKS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcltdPn0gQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksXHJcbiAgICAgKiAgICAgcmVwcmVzZW50cyBhbiBhcnJheSBvZiB0cnVlIHJhbmRvbSBkZWNpbWFsIGZyYWN0aW9ucy5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVEZWNpbWFsRnJhY3Rpb25zKG4sIGRlY2ltYWxQbGFjZXMsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jZGVjaW1hbEZyYWN0aW9uUmVxdWVzdChuLCBkZWNpbWFsUGxhY2VzLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gdGhpcy4jZXh0cmFjdEJhc2ljKHRoaXMuI3NlbmRSZXF1ZXN0KHJlcXVlc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3RzIGFuZCByZXR1cm5zIGEgbGlzdCAoc2l6ZSBuKSBvZiB0cnVlIHJhbmRvbSBudW1iZXJzIGZyb20gYVxyXG4gICAgICogR2F1c3NpYW4gZGlzdHJpYnV0aW9uIChhbHNvIGtub3duIGFzIGEgbm9ybWFsIGRpc3RyaWJ1dGlvbikuXHJcbiAgICAgKiBcclxuICAgICAqIFRoZSBmb3JtIHVzZXMgYSBCb3gtTXVsbGVyIFRyYW5zZm9ybSB0byBnZW5lcmF0ZSB0aGUgR2F1c3NpYW4gZGlzdHJpYnV0aW9uXHJcbiAgICAgKiBmcm9tIHVuaWZvcm1seSBkaXN0cmlidXRlZCBudW1iZXJzLlxyXG4gICAgICogU2VlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvYmFzaWMjZ2VuZXJhdGVHYXVzc2lhbnNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBudW1iZXJzIHlvdSBuZWVkLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1lYW4gVGhlIGRpc3RyaWJ1dGlvbidzIG1lYW4uIE11c3QgYmUgd2l0aGluIHRoZVxyXG4gICAgICogICAgIFstMWU2LDFlNl0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhbmRhcmREZXZpYXRpb24gVGhlIGRpc3RyaWJ1dGlvbidzIHN0YW5kYXJkIGRldmlhdGlvbi5cclxuICAgICAqICAgICBNdXN0IGJlIHdpdGhpbiB0aGUgWy0xZTYsMWU2XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaWduaWZpY2FudERpZ2l0cyBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyB0byB1c2UuXHJcbiAgICAgKiAgICAgTXVzdCBiZSB3aXRoaW4gdGhlIFsyLDIwXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3ByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3R9fSBvcHRpb25zIEFuIG9iamVjdCB3aGljaCBtYXlcclxuICAgICAqICAgICBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb249bnVsbF0gQSBkaWN0aW9uYXJ5IG9iamVjdFxyXG4gICAgICogICAgIHdoaWNoIGFsbG93cyB0aGUgY2xpZW50IHRvIHNwZWNpZnkgdGhhdCB0aGUgcmFuZG9tIHZhbHVlcyBzaG91bGQgYmVcclxuICAgICAqICAgICBnZW5lcmF0ZWQgZnJvbSBhIHByZWdlbmVyYXRlZCwgaGlzdG9yaWNhbCByYW5kb21pemF0aW9uIGluc3RlYWQgb2YgYVxyXG4gICAgICogICAgIG9uZS10aW1lIG9uLXRoZS1mbHkgcmFuZG9taXphdGlvbi4gVGhlcmUgYXJlIHRocmVlIHBvc3NpYmxlIGNhc2VzOlxyXG4gICAgICogKiAqKm51bGwqKjogVGhlIHN0YW5kYXJkIHdheSBvZiBjYWxsaW5nIGZvciByYW5kb20gdmFsdWVzLCBpLmUudHJ1ZVxyXG4gICAgICogICAgICAgcmFuZG9tbmVzcyBpcyBnZW5lcmF0ZWQgYW5kIGRpc2NhcmRlZCBhZnRlcndhcmRzLlxyXG4gICAgICogKiAqKmRhdGUqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGdlbmVyYXRlZCBvbiB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgZGF0ZSAocGFzdCBvciBwcmVzZW50LCBmb3JtYXQ6IHsgJ2RhdGUnLCAnWVlZWS1NTS1ERCcgfSkuXHJcbiAgICAgKiAqICoqaWQqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgaWRlbnRpZmllciBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyLiBGb3JtYXQ6IHsgJ2lkJyxcclxuICAgICAqICAgICAgICdQRVJTSVNURU5ULUlERU5USUZJRVInIH0gd2hlcmUgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgaXMgYSBzdHJpbmdcclxuICAgICAqICAgICAgIHdpdGggbGVuZ3RoIGluIHRoZSBbMSwgNjRdIHJhbmdlLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyW10+fSBBIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSxcclxuICAgICAqICAgICByZXByZXNlbnRzIGFuIGFycmF5IG9mIHRydWUgcmFuZG9tIG51bWJlcnMgZnJvbSBhIEdhdXNzaWFuIGRpc3RyaWJ1dGlvbi5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVHYXVzc2lhbnMobiwgbWVhbiwgc3RhbmRhcmREZXZpYXRpb24sIHNpZ25pZmljYW50RGlnaXRzLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2dhdXNzaWFuUmVxdWVzdChuLCBtZWFuLCBzdGFuZGFyZERldmlhdGlvbixcclxuICAgICAgICAgICAgc2lnbmlmaWNhbnREaWdpdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0QmFzaWModGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdHMgYW5kIHJldHVybnMgYSBsaXN0IChzaXplIG4pIG9mIHRydWUgcmFuZG9tIHVuaWNvZGUgc3RyaW5ncyBmcm9tXHJcbiAgICAgKiB0aGUgc2VydmVyLiBTZWU6IGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9iYXNpYyNnZW5lcmF0ZVN0cmluZ3NcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBzdHJpbmdzIHlvdSBuZWVkLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIGVhY2ggc3RyaW5nLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwyMF0gcmFuZ2UuIEFsbCBzdHJpbmdzIHdpbGwgYmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcnMgQSBzdHJpbmcgdGhhdCBjb250YWlucyB0aGUgc2V0IG9mIGNoYXJhY3RlcnNcclxuICAgICAqICAgICB0aGF0IGFyZSBhbGxvd2VkIHRvIG9jY3VyIGluIHRoZSByYW5kb20gc3RyaW5ncy4gVGhlIG1heGltdW0gbnVtYmVyXHJcbiAgICAgKiAgICAgb2YgY2hhcmFjdGVycyBpcyA4MC5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbiwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj86IE9iamVjdH19IG9wdGlvbnNcclxuICAgICAqICAgICBBbiBvYmplY3Qgd2hpY2ggbWF5IGNvbnRhaW5zIGFueSBvZiB0aGUgZm9sbG93aW5nIG9wdGlvbmFsIHBhcmFtZXRlcnM6XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlcGxhY2VtZW50PXRydWVdIFNwZWNpZmllcyB3aGV0aGVyIHRoZSByYW5kb21cclxuICAgICAqICAgICBzdHJpbmdzIHNob3VsZCBiZSBwaWNrZWQgd2l0aCByZXBsYWNlbWVudC4gSWYgdHJ1ZSwgdGhlIHJlc3VsdGluZyBsaXN0XHJcbiAgICAgKiAgICAgb2Ygc3RyaW5ncyBtYXkgY29udGFpbiBkdXBsaWNhdGVzLCBvdGhlcndpc2UgdGhlIHN0cmluZ3Mgd2lsbCBhbGwgYmVcclxuICAgICAqICAgICB1bmlxdWUgKGRlZmF1bHQgdHJ1ZSkuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj1udWxsXSBBIGRpY3Rpb25hcnkgb2JqZWN0XHJcbiAgICAgKiAgICAgd2hpY2ggYWxsb3dzIHRoZSBjbGllbnQgdG8gc3BlY2lmeSB0aGF0IHRoZSByYW5kb20gdmFsdWVzIHNob3VsZCBiZVxyXG4gICAgICogICAgIGdlbmVyYXRlZCBmcm9tIGEgcHJlZ2VuZXJhdGVkLCBoaXN0b3JpY2FsIHJhbmRvbWl6YXRpb24gaW5zdGVhZCBvZiBhXHJcbiAgICAgKiAgICAgb25lLXRpbWUgb24tdGhlLWZseSByYW5kb21pemF0aW9uLiBUaGVyZSBhcmUgdGhyZWUgcG9zc2libGUgY2FzZXM6XHJcbiAgICAgKiAqICoqbnVsbCoqOiBUaGUgc3RhbmRhcmQgd2F5IG9mIGNhbGxpbmcgZm9yIHJhbmRvbSB2YWx1ZXMsIGkuZS50cnVlXHJcbiAgICAgKiAgICAgICByYW5kb21uZXNzIGlzIGdlbmVyYXRlZCBhbmQgZGlzY2FyZGVkIGFmdGVyd2FyZHMuXHJcbiAgICAgKiAqICoqZGF0ZSoqOiBSQU5ET00uT1JHIHVzZXMgaGlzdG9yaWNhbCB0cnVlIHJhbmRvbW5lc3MgZ2VuZXJhdGVkIG9uIHRoZVxyXG4gICAgICogICAgICAgY29ycmVzcG9uZGluZyBkYXRlIChwYXN0IG9yIHByZXNlbnQsIGZvcm1hdDogeyAnZGF0ZScsICdZWVlZLU1NLUREJyB9KS5cclxuICAgICAqICogKippZCoqOiBSQU5ET00uT1JHIHVzZXMgaGlzdG9yaWNhbCB0cnVlIHJhbmRvbW5lc3MgZGVyaXZlZCBmcm9tIHRoZVxyXG4gICAgICogICAgICAgY29ycmVzcG9uZGluZyBpZGVudGlmaWVyIGluIGEgZGV0ZXJtaW5pc3RpYyBtYW5uZXIuIEZvcm1hdDogeyAnaWQnLFxyXG4gICAgICogICAgICAgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgfSB3aGVyZSAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyBpcyBhIHN0cmluZ1xyXG4gICAgICogICAgICAgd2l0aCBsZW5ndGggaW4gdGhlIFsxLCA2NF0gcmFuZ2UuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmdbXT59IEEgUHJvbWlzZSB3aGljaCwgaWYgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LFxyXG4gICAgICogICAgIHJlcHJlc2VudHMgYW4gYXJyYXkgb2YgdHJ1ZSByYW5kb20gc3RyaW5ncy5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVTdHJpbmdzKG4sIGxlbmd0aCwgY2hhcmFjdGVycywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNzdHJpbmdSZXF1ZXN0KG4sIGxlbmd0aCwgY2hhcmFjdGVycywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RCYXNpYyh0aGlzLiNzZW5kUmVxdWVzdChyZXF1ZXN0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0cyBhbmQgcmV0dXJucyBhIGxpc3QgKHNpemUgbikgb2YgdmVyc2lvbiA0IHRydWUgcmFuZG9tIFVuaXZlcnNhbGx5XHJcbiAgICAgKiBVbmlxdWUgSURlbnRpZmllcnMgKFVVSURzKSBpbiBhY2NvcmRhbmNlIHdpdGggc2VjdGlvbiA0LjQgb2YgUkZDIDQxMjIsXHJcbiAgICAgKiBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBcclxuICAgICAqIFNlZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L2Jhc2ljI2dlbmVyYXRlVVVJRHNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBVVUlEcyB5b3UgbmVlZC4gTXVzdCBiZSB3aXRoaW4gdGhlXHJcbiAgICAgKiAgICAgWzEsMWUzXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3ByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3R9fSBvcHRpb25zIEFuIG9iamVjdCB3aGljaCBtYXlcclxuICAgICAqICAgICBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb249bnVsbF0gQSBkaWN0aW9uYXJ5IG9iamVjdFxyXG4gICAgICogICAgIHdoaWNoIGFsbG93cyB0aGUgY2xpZW50IHRvIHNwZWNpZnkgdGhhdCB0aGUgcmFuZG9tIHZhbHVlcyBzaG91bGQgYmVcclxuICAgICAqICAgICBnZW5lcmF0ZWQgZnJvbSBhIHByZWdlbmVyYXRlZCwgaGlzdG9yaWNhbCByYW5kb21pemF0aW9uIGluc3RlYWQgb2YgYVxyXG4gICAgICogICAgIG9uZS10aW1lIG9uLXRoZS1mbHkgcmFuZG9taXphdGlvbi4gVGhlcmUgYXJlIHRocmVlIHBvc3NpYmxlIGNhc2VzOlxyXG4gICAgICogKiAqKm51bGwqKjogVGhlIHN0YW5kYXJkIHdheSBvZiBjYWxsaW5nIGZvciByYW5kb20gdmFsdWVzLCBpLmUudHJ1ZVxyXG4gICAgICogICAgICAgcmFuZG9tbmVzcyBpcyBnZW5lcmF0ZWQgYW5kIGRpc2NhcmRlZCBhZnRlcndhcmRzLlxyXG4gICAgICogKiAqKmRhdGUqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGdlbmVyYXRlZCBvbiB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgZGF0ZSAocGFzdCBvciBwcmVzZW50LCBmb3JtYXQ6IHsgJ2RhdGUnLCAnWVlZWS1NTS1ERCcgfSkuXHJcbiAgICAgKiAqICoqaWQqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgaWRlbnRpZmllciBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyLiBGb3JtYXQ6IHsgJ2lkJyxcclxuICAgICAqICAgICAgICdQRVJTSVNURU5ULUlERU5USUZJRVInIH0gd2hlcmUgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgaXMgYSBzdHJpbmdcclxuICAgICAqICAgICAgIHdpdGggbGVuZ3RoIGluIHRoZSBbMSwgNjRdIHJhbmdlLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nW10+fSBBIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSxcclxuICAgICAqICAgICByZXByZXNlbnRzIGFuIGFycmF5IG9mIHRydWUgcmFuZG9tIFVVSURzLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZW5lcmF0ZVVVSURzKG4sIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jVVVJRFJlcXVlc3Qobiwgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RCYXNpYyh0aGlzLiNzZW5kUmVxdWVzdChyZXF1ZXN0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0cyBhbmQgcmV0dXJucyBhIGxpc3QgKHNpemUgbikgb2YgQmluYXJ5IExhcmdlIE9CamVjdHMgKEJMT0JzKVxyXG4gICAgICogYXMgdW5pY29kZSBzdHJpbmdzIGNvbnRhaW5pbmcgdHJ1ZSByYW5kb20gZGF0YSBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBcclxuICAgICAqIFNlZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L2Jhc2ljI2dlbmVyYXRlQmxvYnNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBibG9icyB5b3UgbmVlZC4gTXVzdCBiZSB3aXRoaW4gdGhlXHJcbiAgICAgKiAgICAgWzEsMTAwXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIFRoZSBzaXplIG9mIGVhY2ggYmxvYiwgbWVhc3VyZWQgaW4gYml0cy4gTXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMTA0ODU3Nl0gcmFuZ2UgYW5kIG11c3QgYmUgZGl2aXNpYmxlIGJ5IDguXHJcbiAgICAgKiBAcGFyYW0ge3tmb3JtYXQ/OiBzdHJpbmcsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3R9fSBvcHRpb25zXHJcbiAgICAgKiAgICAgQW4gb2JqZWN0IHdoaWNoIG1heSBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZvcm1hdD0nYmFzZTY0J10gU3BlY2lmaWVzIHRoZSBmb3JtYXQgaW4gd2hpY2hcclxuICAgICAqICAgICB0aGUgYmxvYnMgd2lsbCBiZSByZXR1cm5lZC4gVmFsdWVzIGFsbG93ZWQgYXJlICdiYXNlNjQnIGFuZCAnaGV4J1xyXG4gICAgICogICAgIChkZWZhdWx0ICdiYXNlNjQnKS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcltdPn0gQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksXHJcbiAgICAgKiAgICAgcmVwcmVzZW50cyBhbiBhcnJheSBvZiB0cnVlIHJhbmRvbSBibG9icyBhcyBzdHJpbmdzLlxyXG4gICAgICogQHNlZSB7QGxpbmsgUmFuZG9tT3JnQ2xpZW50I0JMT0JfRk9STUFUX0JBU0U2NH0gZm9yICdiYXNlNjQnIChkZWZhdWx0KS5cclxuICAgICAqIEBzZWUge0BsaW5rIFJhbmRvbU9yZ0NsaWVudCNCTE9CX0ZPUk1BVF9IRVh9IGZvciAnaGV4Jy5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVCbG9icyhuLCBzaXplLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2Jsb2JSZXF1ZXN0KG4sIHNpemUsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0QmFzaWModGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNJR05FRCBBUElcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3RzIGEgbGlzdCAoc2l6ZSBuKSBvZiB0cnVlIHJhbmRvbSBpbnRlZ2VycyB3aXRoaW4gYSB1c2VyLWRlZmluZWRcclxuICAgICAqIHJhbmdlIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIFxyXG4gICAgICogUmV0dXJucyBhIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSwgcmVzcHJlc2VudHMgYW4gb2JqZWN0XHJcbiAgICAgKiB3aXRoIHRoZSBwYXJzZWQgaW50ZWdlciBsaXN0IG1hcHBlZCB0byAnZGF0YScsIHRoZSBvcmlnaW5hbCByZXNwb25zZSBtYXBwZWRcclxuICAgICAqIHRvICdyYW5kb20nLCBhbmQgdGhlIHJlc3BvbnNlJ3Mgc2lnbmF0dXJlIG1hcHBlZCB0byAnc2lnbmF0dXJlJy5cclxuICAgICAqIFNlZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L3NpZ25lZCNnZW5lcmF0ZVNpZ25lZEludGVnZXJzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBIb3cgbWFueSByYW5kb20gaW50ZWdlcnMgeW91IG5lZWQuIE11c3QgYmUgd2l0aGluIHRoZVxyXG4gICAgICogICAgIFsxLDFlNF0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBsb3dlciBib3VuZGFyeSBmb3IgdGhlIHJhbmdlIGZyb20gd2hpY2ggdGhlXHJcbiAgICAgKiAgICAgcmFuZG9tIG51bWJlcnMgd2lsbCBiZSBwaWNrZWQuIE11c3QgYmUgd2l0aGluIHRoZSBbLTFlOSwxZTldIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgdXBwZXIgYm91bmRhcnkgZm9yIHRoZSByYW5nZSBmcm9tIHdoaWNoIHRoZVxyXG4gICAgICogICAgIHJhbmRvbSBudW1iZXJzIHdpbGwgYmUgcGlja2VkLiBNdXN0IGJlIHdpdGhpbiB0aGUgWy0xZTksMWU5XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbiwgYmFzZT86IG51bWJlciwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj86XHJcbiAgICAgKiAgICAgT2JqZWN0LCBsaWNlbnNlRGF0YT86IE9iamVjdCwgdXNlckRhdGE/OiBPYmplY3R8bnVtYmVyfHN0cmluZywgdGlja2V0SWQ/OlxyXG4gICAgICogICAgIHN0cmluZ319IG9wdGlvbnMgQW4gb2JqZWN0IHdoaWNoIG1heSBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZ1xyXG4gICAgICogICAgIG9wdGlvbmFsIHBhcmFtZXRlcnM6XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlcGxhY2VtZW50PXRydWVdIFNwZWNpZmllcyB3aGV0aGVyIHRoZSByYW5kb21cclxuICAgICAqICAgICBudW1iZXJzIHNob3VsZCBiZSBwaWNrZWQgd2l0aCByZXBsYWNlbWVudC4gSWYgdHJ1ZSwgdGhlIHJlc3VsdGluZyBudW1iZXJzXHJcbiAgICAgKiAgICAgbWF5IGNvbnRhaW4gZHVwbGljYXRlIHZhbHVlcywgb3RoZXJ3aXNlIHRoZSBudW1iZXJzIHdpbGwgYWxsIGJlIHVuaXF1ZVxyXG4gICAgICogICAgIChkZWZhdWx0IHRydWUpLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhc2U9MTBdIFRoZSBiYXNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRpc3BsYXlcclxuICAgICAqICAgICB0aGUgbnVtYmVycy4gVmFsdWVzIGFsbG93ZWQgYXJlIDIsIDgsIDEwIGFuZCAxNiAoZGVmYXVsdCAxMCkuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj1udWxsXSBBIGRpY3Rpb25hcnkgb2JqZWN0XHJcbiAgICAgKiAgICAgd2hpY2ggYWxsb3dzIHRoZSBjbGllbnQgdG8gc3BlY2lmeSB0aGF0IHRoZSByYW5kb20gdmFsdWVzIHNob3VsZCBiZVxyXG4gICAgICogICAgIGdlbmVyYXRlZCBmcm9tIGEgcHJlZ2VuZXJhdGVkLCBoaXN0b3JpY2FsIHJhbmRvbWl6YXRpb24gaW5zdGVhZCBvZiBhXHJcbiAgICAgKiAgICAgb25lLXRpbWUgb24tdGhlLWZseSByYW5kb21pemF0aW9uLiBUaGVyZSBhcmUgdGhyZWUgcG9zc2libGUgY2FzZXM6XHJcbiAgICAgKiAqICoqbnVsbCoqOiBUaGUgc3RhbmRhcmQgd2F5IG9mIGNhbGxpbmcgZm9yIHJhbmRvbSB2YWx1ZXMsIGkuZS50cnVlXHJcbiAgICAgKiAgICAgICByYW5kb21uZXNzIGlzIGdlbmVyYXRlZCBhbmQgZGlzY2FyZGVkIGFmdGVyd2FyZHMuXHJcbiAgICAgKiAqICoqZGF0ZSoqOiBSQU5ET00uT1JHIHVzZXMgaGlzdG9yaWNhbCB0cnVlIHJhbmRvbW5lc3MgZ2VuZXJhdGVkIG9uIHRoZVxyXG4gICAgICogICAgICAgY29ycmVzcG9uZGluZyBkYXRlIChwYXN0IG9yIHByZXNlbnQsIGZvcm1hdDogeyAnZGF0ZScsICdZWVlZLU1NLUREJyB9KS5cclxuICAgICAqICogKippZCoqOiBSQU5ET00uT1JHIHVzZXMgaGlzdG9yaWNhbCB0cnVlIHJhbmRvbW5lc3MgZGVyaXZlZCBmcm9tIHRoZVxyXG4gICAgICogICAgICAgY29ycmVzcG9uZGluZyBpZGVudGlmaWVyIGluIGEgZGV0ZXJtaW5pc3RpYyBtYW5uZXIuIEZvcm1hdDogeyAnaWQnLFxyXG4gICAgICogICAgICAgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgfSB3aGVyZSAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyBpcyBhIHN0cmluZ1xyXG4gICAgICogICAgICAgd2l0aCBsZW5ndGggaW4gdGhlIFsxLCA2NF0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubGljZW5zZURhdGE9bnVsbF0gQSBkaWN0aW9uYXJ5IG9iamVjdCB3aGljaCBhbGxvd3NcclxuICAgICAqICAgICB0aGUgY2FsbGVyIHRvIGluY2x1ZGUgZGF0YSBvZiByZWxldmFuY2UgdG8gdGhlIGxpY2Vuc2UgdGhhdCBpcyBhc3NvY2lhdGVkXHJcbiAgICAgKiAgICAgd2l0aCB0aGUgQVBJIEtleS4gVGhpcyBpcyBtYW5kYXRvcnkgZm9yIEFQSSBLZXlzIHdpdGggdGhlIGxpY2Vuc2UgdHlwZVxyXG4gICAgICogICAgICdGbGV4aWJsZSBHYW1ibGluZycgYW5kIGZvbGxvd3MgdGhlIGZvcm1hdCB7ICdtYXhQYXlvdXQnOiB7ICdjdXJyZW5jeSc6XHJcbiAgICAgKiAgICAgJ1hUUycsICdhbW91bnQnOiAwLjAgfX0uIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZCBpbiBsaWNlbnNpbmdcclxuICAgICAqICAgICByZXF1ZXN0ZWQgcmFuZG9tIHZhbHVlcyBhbmQgaW4gYmlsbGluZy4gVGhlIGN1cnJlbnRseSBzdXBwb3J0ZWRcclxuICAgICAqICAgICBjdXJyZW5jaWVzIGFyZTogJ1VTRCcsICdFVVInLCAnR0JQJywgJ0JUQycsICdFVEgnLiBUaGUgbW9zdCB1cC10by1kYXRlXHJcbiAgICAgKiAgICAgaW5mb3JtYXRpb24gb24gdGhlIGN1cnJlbmNpZXMgY2FuIGJlIGZvdW5kIGluIHRoZSBTaWduZWQgQVBJXHJcbiAgICAgKiAgICAgZG9jdW1lbnRhdGlvbiwgaGVyZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L3NpZ25lZFxyXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcnxPYmplY3QpfSBbb3B0aW9ucy51c2VyRGF0YT1udWxsXSBPYmplY3QgdGhhdCB3aWxsIGJlXHJcbiAgICAgKiAgICAgaW5jbHVkZWQgaW4gdW5tb2RpZmllZCBmb3JtLiBJdHMgbWF4aW11bSBzaXplIGluIGVuY29kZWQgKHN0cmluZykgZm9ybSBpc1xyXG4gICAgICogICAgIDEsMDAwIGNoYXJhY3RlcnMgKGRlZmF1bHQgbnVsbCkuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudGlja2V0SWQ9bnVsbF0gQSBzdHJpbmcgd2l0aCB0aWNrZXQgaWRlbnRpZmllciBvYnRhaW5lZFxyXG4gICAgICogICAgIHZpYSB0aGUge0BsaW5rIFJhbmRvbU9yZ0NsaWVudCNjcmVhdGVUaWNrZXRzfSBtZXRob2QuIFNwZWNpZnlpbmcgYSB2YWx1ZVxyXG4gICAgICogICAgIGZvciB0aWNrZXRJZCB3aWxsIGNhdXNlIFJBTkRPTS5PUkcgdG8gcmVjb3JkIHRoYXQgdGhlIHRpY2tldCB3YXMgdXNlZFxyXG4gICAgICogICAgIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0ZWQgcmFuZG9tIHZhbHVlcy4gRWFjaCB0aWNrZXQgY2FuIG9ubHkgYmUgdXNlZFxyXG4gICAgICogICAgIG9uY2UgKGRlZmF1bHQgbnVsbCkuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7ZGF0YTogbnVtYmVyW118c3RyaW5nW10sIHJhbmRvbTogT2JqZWN0LCBzaWduYXR1cmU6IHN0cmluZ30+fVxyXG4gICAgICogICAgIEEgUHJvbWlzZSB3aGljaCwgaWYgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCByZXByZXNlbnRzIGFuIG9iamVjdCB3aXRoIHRoZVxyXG4gICAgICogICAgIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XHJcbiAgICAgKiAqICoqZGF0YSoqOiBhcnJheSBvZiB0cnVlIHJhbmRvbSBpbnRlZ2Vyc1xyXG4gICAgICogKiAqKnJhbmRvbSoqOiByYW5kb20gZmllbGQgYXMgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyXHJcbiAgICAgKiAqICoqc2lnbmF0dXJlKio6IHNpZ25hdHVyZSBzdHJpbmdcclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVTaWduZWRJbnRlZ2VycyhuLCBtaW4sIG1heCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNpbnRlZ2VyUmVxdWVzdChuLCBtaW4sIG1heCwgb3B0aW9ucywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RTaWduZWQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdHMgYW5kIHJldHVybnMgdW5pZm9ybSBvciBtdWx0aWZvcm0gc2VxdWVuY2VzIG9mIHRydWUgcmFuZG9tIGludGVnZXJzXHJcbiAgICAgKiB3aXRoaW4gdXNlci1kZWZpbmVkIHJhbmdlcyBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBcclxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlc3ByZXNlbnRzIGFuIG9iamVjdFxyXG4gICAgICogd2l0aCB0aGUgcGFyc2VkIGFycmF5IG9mIGludGVnZXIgc2VxdWVuY2VzIG1hcHBlZCB0byAnZGF0YScsIHRoZSBvcmlnaW5hbFxyXG4gICAgICogcmVzcG9uc2UgbWFwcGVkIHRvICdyYW5kb20nLCBhbmQgdGhlIHJlc3BvbnNlJ3Mgc2lnbmF0dXJlIG1hcHBlZCB0b1xyXG4gICAgICogJ3NpZ25hdHVyZScuXHJcbiAgICAgKiBTZWU6IGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9zaWduZWQjZ2VuZXJhdGVJbnRlZ2VyU2VxdWVuY2VzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBIb3cgbWFueSBhcnJheXMgb2YgcmFuZG9tIGludGVnZXJzIHlvdSBuZWVkLiBNdXN0IGJlXHJcbiAgICAgKiAgICAgd2l0aGluIHRoZSBbMSwxZTNdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gbGVuZ3RoIFRoZSBsZW5ndGggb2YgZWFjaCBhcnJheSBvZiByYW5kb21cclxuICAgICAqICAgICBpbnRlZ2VycyByZXF1ZXN0ZWQuIEZvciB1bmlmb3JtIHNlcXVlbmNlcywgbGVuZ3RoIG11c3QgYmUgYW4gaW50ZWdlclxyXG4gICAgICogICAgIGluIHRoZSBbMSwgMWU0XSByYW5nZS4gRm9yIG11bHRpZm9ybSBzZXF1ZW5jZXMsIGxlbmd0aCBjYW4gYmUgYW4gYXJyYXlcclxuICAgICAqICAgICB3aXRoIG4gaW50ZWdlcnMsIGVhY2ggc3BlY2lmeWluZyB0aGUgbGVuZ3RoIG9mIHRoZSBzZXF1ZW5jZSBpZGVudGlmaWVkXHJcbiAgICAgKiAgICAgYnkgaXRzIGluZGV4LiBJbiB0aGlzIGNhc2UsIGVhY2ggdmFsdWUgaW4gbGVuZ3RoIG11c3QgYmUgd2l0aGluIHRoZVxyXG4gICAgICogICAgIFsxLCAxZTRdIHJhbmdlIGFuZCB0aGUgdG90YWwgc3VtIG9mIGFsbCB0aGUgbGVuZ3RocyBtdXN0IGJlIGluIHRoZVxyXG4gICAgICogICAgIFsxLCAxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gbWluIFRoZSBsb3dlciBib3VuZGFyeSBmb3IgdGhlIHJhbmdlIGZyb20gd2hpY2hcclxuICAgICAqICAgICB0aGUgcmFuZG9tIG51bWJlcnMgd2lsbCBiZSBwaWNrZWQuIEZvciB1bmlmb3JtIHNlcXVlbmNlcywgbWluIG11c3QgYmVcclxuICAgICAqICAgICBhbiBpbnRlZ2VyIGluIHRoZSBbLTFlOSwgMWU5XSByYW5nZS4gRm9yIG11bHRpZm9ybSBzZXF1ZW5jZXMsIG1pbiBjYW5cclxuICAgICAqICAgICBiZSBhbiBhcnJheSB3aXRoIG4gaW50ZWdlcnMsIGVhY2ggc3BlY2lmeWluZyB0aGUgbG93ZXIgYm91bmRhcnkgb2YgdGhlXHJcbiAgICAgKiAgICAgc2VxdWVuY2UgaWRlbnRpZmllZCBieSBpdHMgaW5kZXguIEluIHRoaXMgY2FzZSwgZWFjaCB2YWx1ZSBpbiBtaW4gbXVzdFxyXG4gICAgICogICAgIGJlIHdpdGhpbiB0aGUgWy0xZTksIDFlOV0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXJ8bnVtYmVyW10pfSBtYXggVGhlIHVwcGVyIGJvdW5kYXJ5IGZvciB0aGUgcmFuZ2UgZnJvbSB3aGljaFxyXG4gICAgICogICAgIHRoZSByYW5kb20gbnVtYmVycyB3aWxsIGJlIHBpY2tlZC4gRm9yIHVuaWZvcm0gc2VxdWVuY2VzLCBtYXggbXVzdCBiZVxyXG4gICAgICogICAgIGFuIGludGVnZXIgaW4gdGhlIFstMWU5LCAxZTldIHJhbmdlLiBGb3IgbXVsdGlmb3JtIHNlcXVlbmNlcywgbWF4IGNhblxyXG4gICAgICogICAgIGJlIGFuIGFycmF5IHdpdGggbiBpbnRlZ2VycywgZWFjaCBzcGVjaWZ5aW5nIHRoZSB1cHBlciBib3VuZGFyeSBvZiB0aGVcclxuICAgICAqICAgICBzZXF1ZW5jZSBpZGVudGlmaWVkIGJ5IGl0cyBpbmRleC4gSW4gdGhpcyBjYXNlLCBlYWNoIHZhbHVlIGluIG1heCBtdXN0XHJcbiAgICAgKiAgICAgYmUgd2l0aGluIHRoZSBbLTFlOSwgMWU5XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbnxib29sZWFuW10sIGJhc2U/OiBudW1iZXJ8bnVtYmVyW10sXHJcbiAgICAgKiAgICAgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj86IE9iamVjdCwgbGljZW5zZURhdGE/OiBPYmplY3QsIHVzZXJEYXRhPzpcclxuICAgICAqICAgICBPYmplY3R8bnVtYmVyfHN0cmluZywgdGlja2V0SWQ/OiBzdHJpbmd9fSBvcHRpb25zIEFuIG9iamVjdCB3aGljaCBtYXlcclxuICAgICAqICAgICBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHsoYm9vbGVhbnxib29sZWFuW10pfSBbb3B0aW9ucy5yZXBsYWNlbWVudD10cnVlXSBTcGVjaWZpZXMgd2hldGhlclxyXG4gICAgICogICAgIHRoZSByYW5kb20gbnVtYmVycyBzaG91bGQgYmUgcGlja2VkIHdpdGggcmVwbGFjZW1lbnQuIElmIHRydWUsIHRoZVxyXG4gICAgICogICAgIHJlc3VsdGluZyBudW1iZXJzIG1heSBjb250YWluIGR1cGxpY2F0ZSB2YWx1ZXMsIG90aGVyd2lzZSB0aGUgbnVtYmVyc1xyXG4gICAgICogICAgIHdpbGwgYWxsIGJlIHVuaXF1ZS4gRm9yIG11bHRpZm9ybSBzZXF1ZW5jZXMsIHJlcGxhY2VtZW50IGNhbiBiZSBhbiBhcnJheVxyXG4gICAgICogICAgIHdpdGggbiBib29sZWFuIHZhbHVlcywgZWFjaCBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIHNlcXVlbmNlIGlkZW50aWZpZWQgYnlcclxuICAgICAqICAgICBpdHMgaW5kZXggd2lsbCBiZSBjcmVhdGVkIHdpdGggKHRydWUpIG9yIHdpdGhvdXQgKGZhbHNlKSByZXBsYWNlbWVudFxyXG4gICAgICogICAgIChkZWZhdWx0IHRydWUpLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gW29wdGlvbnMuYmFzZT0xMF0gVGhlIGJhc2UgdGhhdCB3aWxsIGJlIHVzZWQgdG9cclxuICAgICAqICAgICBkaXNwbGF5IHRoZSBudW1iZXJzLiBWYWx1ZXMgYWxsb3dlZCBhcmUgMiwgOCwgMTAgYW5kIDE2LiBGb3IgbXVsdGlmb3JtXHJcbiAgICAgKiAgICAgc2VxdWVuY2VzLCBiYXNlIGNhbiBiZSBhbiBhcnJheSB3aXRoIG4gaW50ZWdlciB2YWx1ZXMgdGFrZW4gZnJvbSB0aGUgc2FtZVxyXG4gICAgICogICAgIHNldCwgZWFjaCBzcGVjaWZ5aW5nIHRoZSBiYXNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRpc3BsYXkgdGhlIHNlcXVlbmNlXHJcbiAgICAgKiAgICAgaWRlbnRpZmllZCBieSBpdHMgaW5kZXggKGRlZmF1bHQgMTApLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb249bnVsbF0gQSBkaWN0aW9uYXJ5IG9iamVjdFxyXG4gICAgICogICAgIHdoaWNoIGFsbG93cyB0aGUgY2xpZW50IHRvIHNwZWNpZnkgdGhhdCB0aGUgcmFuZG9tIHZhbHVlcyBzaG91bGQgYmVcclxuICAgICAqICAgICBnZW5lcmF0ZWQgZnJvbSBhIHByZWdlbmVyYXRlZCwgaGlzdG9yaWNhbCByYW5kb21pemF0aW9uIGluc3RlYWQgb2YgYVxyXG4gICAgICogICAgIG9uZS10aW1lIG9uLXRoZS1mbHkgcmFuZG9taXphdGlvbi4gVGhlcmUgYXJlIHRocmVlIHBvc3NpYmxlIGNhc2VzOlxyXG4gICAgICogKiAqKm51bGwqKjogVGhlIHN0YW5kYXJkIHdheSBvZiBjYWxsaW5nIGZvciByYW5kb20gdmFsdWVzLCBpLmUudHJ1ZVxyXG4gICAgICogICAgICAgcmFuZG9tbmVzcyBpcyBnZW5lcmF0ZWQgYW5kIGRpc2NhcmRlZCBhZnRlcndhcmRzLlxyXG4gICAgICogKiAqKmRhdGUqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGdlbmVyYXRlZCBvbiB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgZGF0ZSAocGFzdCBvciBwcmVzZW50LCBmb3JtYXQ6IHsgJ2RhdGUnLCAnWVlZWS1NTS1ERCcgfSkuXHJcbiAgICAgKiAqICoqaWQqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgaWRlbnRpZmllciBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyLiBGb3JtYXQ6IHsgJ2lkJyxcclxuICAgICAqICAgICAgICdQRVJTSVNURU5ULUlERU5USUZJRVInIH0gd2hlcmUgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgaXMgYSBzdHJpbmdcclxuICAgICAqICAgICAgIHdpdGggbGVuZ3RoIGluIHRoZSBbMSwgNjRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmxpY2Vuc2VEYXRhPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3Qgd2hpY2ggYWxsb3dzXHJcbiAgICAgKiAgICAgdGhlIGNhbGxlciB0byBpbmNsdWRlIGRhdGEgb2YgcmVsZXZhbmNlIHRvIHRoZSBsaWNlbnNlIHRoYXQgaXMgYXNzb2NpYXRlZFxyXG4gICAgICogICAgIHdpdGggdGhlIEFQSSBLZXkuIFRoaXMgaXMgbWFuZGF0b3J5IGZvciBBUEkgS2V5cyB3aXRoIHRoZSBsaWNlbnNlIHR5cGVcclxuICAgICAqICAgICAnRmxleGlibGUgR2FtYmxpbmcnIGFuZCBmb2xsb3dzIHRoZSBmb3JtYXQgeyAnbWF4UGF5b3V0JzogeyAnY3VycmVuY3knOlxyXG4gICAgICogICAgICdYVFMnLCAnYW1vdW50JzogMC4wIH19LiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWQgaW4gbGljZW5zaW5nXHJcbiAgICAgKiAgICAgcmVxdWVzdGVkIHJhbmRvbSB2YWx1ZXMgYW5kIGluIGJpbGxpbmcuIFRoZSBjdXJyZW50bHkgc3VwcG9ydGVkXHJcbiAgICAgKiAgICAgY3VycmVuY2llcyBhcmU6ICdVU0QnLCAnRVVSJywgJ0dCUCcsICdCVEMnLCAnRVRIJy4gVGhlIG1vc3QgdXAtdG8tZGF0ZVxyXG4gICAgICogICAgIGluZm9ybWF0aW9uIG9uIHRoZSBjdXJyZW5jaWVzIGNhbiBiZSBmb3VuZCBpbiB0aGUgU2lnbmVkIEFQSVxyXG4gICAgICogICAgIGRvY3VtZW50YXRpb24sIGhlcmU6IGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9zaWduZWRcclxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXJ8T2JqZWN0KX0gW29wdGlvbnMudXNlckRhdGE9bnVsbF0gT2JqZWN0IHRoYXQgd2lsbCBiZVxyXG4gICAgICogICAgIGluY2x1ZGVkIGluIHVubW9kaWZpZWQgZm9ybS4gSXRzIG1heGltdW0gc2l6ZSBpbiBlbmNvZGVkIChTdHJpbmcpIGZvcm1cclxuICAgICAqICAgICBpcyAxLDAwMCBjaGFyYWN0ZXJzIChkZWZhdWx0IG51bGwpLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRpY2tldElkPW51bGxdIEEgc3RyaW5nIHdpdGggdGlja2V0IGlkZW50aWZpZXJcclxuICAgICAqICAgICBvYnRhaW5lZCB2aWEgdGhlIHtAbGluayBSYW5kb21PcmdDbGllbnQjY3JlYXRlVGlja2V0c30gbWV0aG9kLiBTcGVjaWZ5aW5nXHJcbiAgICAgKiAgICAgYSB2YWx1ZSBmb3IgdGlja2V0SWQgd2lsbCBjYXVzZSBSQU5ET00uT1JHIHRvIHJlY29yZCB0aGF0IHRoZSB0aWNrZXQgd2FzXHJcbiAgICAgKiAgICAgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdGVkIHJhbmRvbSB2YWx1ZXMuIEVhY2ggdGlja2V0IGNhbiBvbmx5IGJlIHVzZWRcclxuICAgICAqICAgICBvbmNlIChkZWZhdWx0IG51bGwpLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8e2RhdGE6IG51bWJlcltdW118c3RyaW5nW11bXSwgcmFuZG9tOiBPYmplY3QsIHNpZ25hdHVyZTogc3RyaW5nfT59XHJcbiAgICAgKiAgICAgQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlcHJlc2VudHMgYW4gb2JqZWN0IHdpdGggdGhlXHJcbiAgICAgKiAgICAgZm9sbG93aW5nIHN0cnVjdHVyZTpcclxuICAgICAqICogKipkYXRhKio6IGFycmF5IG9mIHRydWUgcmFuZG9tIGludGVnZXIgc2VxdWVuY2VzXHJcbiAgICAgKiAqICoqcmFuZG9tKio6IHJhbmRvbSBmaWVsZCBhcyByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXJcclxuICAgICAqICogKipzaWduYXR1cmUqKjogc2lnbmF0dXJlIHN0cmluZ1xyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZW5lcmF0ZVNpZ25lZEludGVnZXJTZXF1ZW5jZXMobiwgbGVuZ3RoLCBtaW4sIG1heCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNpbnRlZ2VyU2VxdWVuY2VSZXF1ZXN0KG4sIGxlbmd0aCwgbWluLCBtYXgsIG9wdGlvbnMsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0U2lnbmVkKHRoaXMuI3NlbmRSZXF1ZXN0KHJlcXVlc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3QgYSBsaXN0IChzaXplIG4pIG9mIHRydWUgcmFuZG9tIGRlY2ltYWwgZnJhY3Rpb25zLCBmcm9tIGEgdW5pZm9ybVxyXG4gICAgICogZGlzdHJpYnV0aW9uIGFjcm9zcyB0aGUgWzAsMV0gaW50ZXJ2YWwgd2l0aCBhIHVzZXItZGVmaW5lZCBudW1iZXIgb2ZcclxuICAgICAqIGRlY2ltYWwgcGxhY2VzIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIFxyXG4gICAgICogUmV0dXJucyBhIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSwgcmVzcHJlc2VudHMgYW4gb2JqZWN0XHJcbiAgICAgKiB3aXRoIHRoZSBwYXJzZWQgZGVjaW1hbCBmcmFjdGlvbnMgbWFwcGVkIHRvICdkYXRhJywgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXHJcbiAgICAgKiBtYXBwZWQgdG8gJ3JhbmRvbScsIGFuZCB0aGUgcmVzcG9uc2UncyBzaWduYXR1cmUgbWFwcGVkIHRvICdzaWduYXR1cmUnLiBTZWU6XHJcbiAgICAgKiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkI2dlbmVyYXRlU2lnbmVkRGVjaW1hbEZyYWN0aW9uc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gSG93IG1hbnkgcmFuZG9tIGRlY2ltYWwgZnJhY3Rpb25zIHlvdSBuZWVkLiBNdXN0IGJlXHJcbiAgICAgKiAgICAgd2l0aGluIHRoZSBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxQbGFjZXMgVGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byB1c2UuIE11c3RcclxuICAgICAqICAgICBiZSB3aXRoaW4gdGhlIFsxLDIwXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbiwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj86IE9iamVjdCwgbGljZW5zZURhdGE/OlxyXG4gICAgICogICAgIE9iamVjdCwgdXNlckRhdGE/OiBPYmplY3R8bnVtYmVyfHN0cmluZywgdGlja2V0SWQ/OiBzdHJpbmd9fSBvcHRpb25zIEFuXHJcbiAgICAgKiAgICAgb2JqZWN0IHdoaWNoIG1heSBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlbWVudD10cnVlXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgcmFuZG9tXHJcbiAgICAgKiAgICAgbnVtYmVycyBzaG91bGQgYmUgcGlja2VkIHdpdGggcmVwbGFjZW1lbnQuIElmIHRydWUsIHRoZSByZXN1bHRpbmcgbnVtYmVyc1xyXG4gICAgICogICAgIG1heSBjb250YWluIGR1cGxpY2F0ZSB2YWx1ZXMsIG90aGVyd2lzZSB0aGUgbnVtYmVycyB3aWxsIGFsbCBiZSB1bmlxdWVcclxuICAgICAqICAgICAoZGVmYXVsdCB0cnVlKS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5saWNlbnNlRGF0YT1udWxsXSBBIGRpY3Rpb25hcnkgb2JqZWN0IHdoaWNoIGFsbG93c1xyXG4gICAgICogICAgIHRoZSBjYWxsZXIgdG8gaW5jbHVkZSBkYXRhIG9mIHJlbGV2YW5jZSB0byB0aGUgbGljZW5zZSB0aGF0IGlzIGFzc29jaWF0ZWRcclxuICAgICAqICAgICB3aXRoIHRoZSBBUEkgS2V5LiBUaGlzIGlzIG1hbmRhdG9yeSBmb3IgQVBJIEtleXMgd2l0aCB0aGUgbGljZW5zZSB0eXBlXHJcbiAgICAgKiAgICAgJ0ZsZXhpYmxlIEdhbWJsaW5nJyBhbmQgZm9sbG93cyB0aGUgZm9ybWF0IHsgJ21heFBheW91dCc6IHsgJ2N1cnJlbmN5JzpcclxuICAgICAqICAgICAnWFRTJywgJ2Ftb3VudCc6IDAuMCB9fS4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VkIGluIGxpY2Vuc2luZ1xyXG4gICAgICogICAgIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzIGFuZCBpbiBiaWxsaW5nLiBUaGUgY3VycmVudGx5IHN1cHBvcnRlZFxyXG4gICAgICogICAgIGN1cnJlbmNpZXMgYXJlOiAnVVNEJywgJ0VVUicsICdHQlAnLCAnQlRDJywgJ0VUSCcuIFRoZSBtb3N0IHVwLXRvLWRhdGVcclxuICAgICAqICAgICBpbmZvcm1hdGlvbiBvbiB0aGUgY3VycmVuY2llcyBjYW4gYmUgZm91bmQgaW4gdGhlIFNpZ25lZCBBUElcclxuICAgICAqICAgICBkb2N1bWVudGF0aW9uLCBoZXJlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkXHJcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyfE9iamVjdCl9IFtvcHRpb25zLnVzZXJEYXRhPW51bGxdIE9iamVjdCB0aGF0IHdpbGwgYmVcclxuICAgICAqICAgICBpbmNsdWRlZCBpbiB1bm1vZGlmaWVkIGZvcm0uIEl0cyBtYXhpbXVtIHNpemUgaW4gZW5jb2RlZCAoU3RyaW5nKSBmb3JtXHJcbiAgICAgKiAgICAgaXMgMSwwMDAgY2hhcmFjdGVycyAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50aWNrZXRJZD1udWxsXSBBIHN0cmluZyB3aXRoIHRpY2tldCBpZGVudGlmaWVyXHJcbiAgICAgKiAgICAgb2J0YWluZWQgdmlhIHRoZSB7QGxpbmsgUmFuZG9tT3JnQ2xpZW50I2NyZWF0ZVRpY2tldHN9IG1ldGhvZC4gU3BlY2lmeWluZ1xyXG4gICAgICogICAgIGEgdmFsdWUgZm9yIHRpY2tldElkIHdpbGwgY2F1c2UgUkFORE9NLk9SRyB0byByZWNvcmQgdGhhdCB0aGUgdGlja2V0IHdhc1xyXG4gICAgICogICAgIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzLiBFYWNoIHRpY2tldCBjYW4gb25seSBiZSB1c2VkXHJcbiAgICAgKiAgICAgb25jZSAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHtkYXRhOiBudW1iZXJbXSwgcmFuZG9tOiBPYmplY3QsIHNpZ25hdHVyZTogc3RyaW5nfT59IEFcclxuICAgICAqICAgICBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlcHJlc2VudHMgYW4gb2JqZWN0IHdpdGggdGhlXHJcbiAgICAgKiAgICAgZm9sbG93aW5nIHN0cnVjdHVyZTpcclxuICAgICAqICogKipkYXRhKio6IGFycmF5IG9mIHRydWUgcmFuZG9tIGRlY2ltYWwgZnJhY3Rpb25zXHJcbiAgICAgKiAqICoqcmFuZG9tKio6IHJhbmRvbSBmaWVsZCBhcyByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXJcclxuICAgICAqICogKipzaWduYXR1cmUqKjogc2lnbmF0dXJlIHN0cmluZ1xyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZW5lcmF0ZVNpZ25lZERlY2ltYWxGcmFjdGlvbnMobiwgZGVjaW1hbFBsYWNlcywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNkZWNpbWFsRnJhY3Rpb25SZXF1ZXN0KG4sIGRlY2ltYWxQbGFjZXMsIG9wdGlvbnMsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0U2lnbmVkKHRoaXMuI3NlbmRSZXF1ZXN0KHJlcXVlc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3QgYSBsaXN0IChzaXplIG4pIG9mIHRydWUgcmFuZG9tIG51bWJlcnMgZnJvbSBhIEdhdXNzaWFuIGRpc3RyaWJ1dGlvblxyXG4gICAgICogKGFsc28ga25vd24gYXMgYSBub3JtYWwgZGlzdHJpYnV0aW9uKS5cclxuICAgICAqIFxyXG4gICAgICogUmV0dXJucyBhIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSwgcmVzcHJlc2VudHMgYW4gb2JqZWN0XHJcbiAgICAgKiB3aXRoIHRoZSBwYXJzZWQgbnVtYmVycyBtYXBwZWQgdG8gJ2RhdGEnLCB0aGUgb3JpZ2luYWwgcmVzcG9uc2UgbWFwcGVkIHRvXHJcbiAgICAgKiAncmFuZG9tJywgYW5kIHRoZSByZXNwb25zZSdzIHNpZ25hdHVyZSBtYXBwZWQgdG8gJ3NpZ25hdHVyZScuIFNlZTpcclxuICAgICAqIGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9zaWduZWQjZ2VuZXJhdGVTaWduZWRHYXVzc2lhbnNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBudW1iZXJzIHlvdSBuZWVkLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1lYW4gVGhlIGRpc3RyaWJ1dGlvbidzIG1lYW4uIE11c3QgYmUgd2l0aGluIHRoZSBbLTFlNiwxZTZdXHJcbiAgICAgKiAgICAgcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhbmRhcmREZXZpYXRpb24gVGhlIGRpc3RyaWJ1dGlvbidzIHN0YW5kYXJkIGRldmlhdGlvbi5cclxuICAgICAqICAgICBNdXN0IGJlIHdpdGhpbiB0aGUgWy0xZTYsMWU2XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaWduaWZpY2FudERpZ2l0cyBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyB0byB1c2UuXHJcbiAgICAgKiAgICAgTXVzdCBiZSB3aXRoaW4gdGhlIFsyLDIwXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7e3ByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3QsIGxpY2Vuc2VEYXRhPzogT2JqZWN0LCB1c2VyRGF0YT86XHJcbiAgICAgKiAgICAgT2JqZWN0fG51bWJlcnxzdHJpbmcsIHRpY2tldElkPzogc3RyaW5nfX0gb3B0aW9ucyBBbiBvYmplY3Qgd2hpY2ggbWF5XHJcbiAgICAgKiAgICAgY29udGFpbnMgYW55IG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5saWNlbnNlRGF0YT1udWxsXSBBIGRpY3Rpb25hcnkgb2JqZWN0IHdoaWNoIGFsbG93c1xyXG4gICAgICogICAgIHRoZSBjYWxsZXIgdG8gaW5jbHVkZSBkYXRhIG9mIHJlbGV2YW5jZSB0byB0aGUgbGljZW5zZSB0aGF0IGlzIGFzc29jaWF0ZWRcclxuICAgICAqICAgICB3aXRoIHRoZSBBUEkgS2V5LiBUaGlzIGlzIG1hbmRhdG9yeSBmb3IgQVBJIEtleXMgd2l0aCB0aGUgbGljZW5zZSB0eXBlXHJcbiAgICAgKiAgICAgJ0ZsZXhpYmxlIEdhbWJsaW5nJyBhbmQgZm9sbG93cyB0aGUgZm9ybWF0IHsgJ21heFBheW91dCc6IHsgJ2N1cnJlbmN5JzpcclxuICAgICAqICAgICAnWFRTJywgJ2Ftb3VudCc6IDAuMCB9fS4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VkIGluIGxpY2Vuc2luZ1xyXG4gICAgICogICAgIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzIGFuZCBpbiBiaWxsaW5nLiBUaGUgY3VycmVudGx5IHN1cHBvcnRlZFxyXG4gICAgICogICAgIGN1cnJlbmNpZXMgYXJlOiAnVVNEJywgJ0VVUicsICdHQlAnLCAnQlRDJywgJ0VUSCcuIFRoZSBtb3N0IHVwLXRvLWRhdGVcclxuICAgICAqICAgICBpbmZvcm1hdGlvbiBvbiB0aGUgY3VycmVuY2llcyBjYW4gYmUgZm91bmQgaW4gdGhlIFNpZ25lZCBBUElcclxuICAgICAqICAgICBkb2N1bWVudGF0aW9uLCBoZXJlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkXHJcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyfE9iamVjdCl9IFtvcHRpb25zLnVzZXJEYXRhPW51bGxdIE9iamVjdCB0aGF0IHdpbGwgYmVcclxuICAgICAqICAgICBpbmNsdWRlZCBpbiB1bm1vZGlmaWVkIGZvcm0uIEl0cyBtYXhpbXVtIHNpemUgaW4gZW5jb2RlZCAoU3RyaW5nKSBmb3JtXHJcbiAgICAgKiAgICAgaXMgMSwwMDAgY2hhcmFjdGVycyAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50aWNrZXRJZD1udWxsXSBBIHN0cmluZyB3aXRoIHRpY2tldCBpZGVudGlmaWVyXHJcbiAgICAgKiAgICAgb2J0YWluZWQgdmlhIHRoZSB7QGxpbmsgUmFuZG9tT3JnQ2xpZW50I2NyZWF0ZVRpY2tldHN9IG1ldGhvZC4gU3BlY2lmeWluZ1xyXG4gICAgICogICAgIGEgdmFsdWUgZm9yIHRpY2tldElkIHdpbGwgY2F1c2UgUkFORE9NLk9SRyB0byByZWNvcmQgdGhhdCB0aGUgdGlja2V0IHdhc1xyXG4gICAgICogICAgIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzLiBFYWNoIHRpY2tldCBjYW4gb25seSBiZSB1c2VkXHJcbiAgICAgKiAgICAgb25jZSAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHtkYXRhOiBudW1iZXJbXSwgcmFuZG9tOiBPYmplY3QsIHNpZ25hdHVyZTogc3RyaW5nfT59IEFcclxuICAgICAqICAgICBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlcHJlc2VudHMgYW4gb2JqZWN0IHdpdGggdGhlXHJcbiAgICAgKiAgICAgZm9sbG93aW5nIHN0cnVjdHVyZTpcclxuICAgICAqICogKipkYXRhKio6IGFycmF5IG9mIHRydWUgcmFuZG9tIG51bWJlcnMgZnJvbSBhIEdhdXNzaWFuIGRpc3RyaWJ1dGlvblxyXG4gICAgICogKiAqKnJhbmRvbSoqOiByYW5kb20gZmllbGQgYXMgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyXHJcbiAgICAgKiAqICoqc2lnbmF0dXJlKio6IHNpZ25hdHVyZSBzdHJpbmdcclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVTaWduZWRHYXVzc2lhbnMobiwgbWVhbiwgc3RhbmRhcmREZXZpYXRpb24sIHNpZ25pZmljYW50RGlnaXRzLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2dhdXNzaWFuUmVxdWVzdChuLCBtZWFuLCBzdGFuZGFyZERldmlhdGlvbiwgc2lnbmlmaWNhbnREaWdpdHMsXHJcbiAgICAgICAgICAgIG9wdGlvbnMsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0U2lnbmVkKHRoaXMuI3NlbmRSZXF1ZXN0KHJlcXVlc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3QgYSBsaXN0IChzaXplIG4pIG9mIHRydWUgcmFuZG9tIHN0cmluZ3MgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICogXHJcbiAgICAgKiBSZXR1cm5zIGEgUHJvbWlzZSB3aGljaCwgaWYgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCByZXNwcmVzZW50cyBhbiBvYmplY3RcclxuICAgICAqIHdpdGggdGhlIHBhcnNlZCBzdHJpbmdzIG1hcHBlZCB0byAnZGF0YScsIHRoZSBvcmlnaW5hbCByZXNwb25zZSBtYXBwZWQgdG9cclxuICAgICAqICdyYW5kb20nLCBhbmQgdGhlIHJlc3BvbnNlJ3Mgc2lnbmF0dXJlIG1hcHBlZCB0byAnc2lnbmF0dXJlJy4gU2VlOlxyXG4gICAgICogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L3NpZ25lZCNnZW5lcmF0ZVNpZ25lZFN0cmluZ3NcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBzdHJpbmdzIHlvdSBuZWVkLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIGVhY2ggc3RyaW5nLiBNdXN0IGJlIHdpdGhpbiB0aGUgWzEsMjBdXHJcbiAgICAgKiAgICAgcmFuZ2UuIEFsbCBzdHJpbmdzIHdpbGwgYmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcnMgQSBzdHJpbmcgdGhhdCBjb250YWlucyB0aGUgc2V0IG9mIGNoYXJhY3RlcnNcclxuICAgICAqICAgICB0aGF0IGFyZSBhbGxvd2VkIHRvIG9jY3VyIGluIHRoZSByYW5kb20gc3RyaW5ncy4gVGhlIG1heGltdW0gbnVtYmVyXHJcbiAgICAgKiAgICAgb2YgY2hhcmFjdGVycyBpcyA4MC5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbiwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbj86IE9iamVjdCwgbGljZW5zZURhdGE/OlxyXG4gICAgICogICAgIE9iamVjdCwgdXNlckRhdGE/OiBPYmplY3R8bnVtYmVyfHN0cmluZywgdGlja2V0SWQ/OiBzdHJpbmd9fSBvcHRpb25zIEFuXHJcbiAgICAgKiAgICAgb2JqZWN0IHdoaWNoIG1heSBjb250YWlucyBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlbWVudD1udWxsXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgcmFuZG9tXHJcbiAgICAgKiAgICAgc3RyaW5ncyBzaG91bGQgYmUgcGlja2VkIHdpdGggcmVwbGFjZW1lbnQuIElmIHRydWUsIHRoZSByZXN1bHRpbmcgbGlzdFxyXG4gICAgICogICAgIG9mIHN0cmluZ3MgbWF5IGNvbnRhaW4gZHVwbGljYXRlcywgb3RoZXJ3aXNlIHRoZSBzdHJpbmdzIHdpbGwgYWxsIGJlXHJcbiAgICAgKiAgICAgdW5pcXVlIChkZWZhdWx0IHRydWUpLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb249bnVsbF0gQSBkaWN0aW9uYXJ5IG9iamVjdFxyXG4gICAgICogICAgIHdoaWNoIGFsbG93cyB0aGUgY2xpZW50IHRvIHNwZWNpZnkgdGhhdCB0aGUgcmFuZG9tIHZhbHVlcyBzaG91bGQgYmVcclxuICAgICAqICAgICBnZW5lcmF0ZWQgZnJvbSBhIHByZWdlbmVyYXRlZCwgaGlzdG9yaWNhbCByYW5kb21pemF0aW9uIGluc3RlYWQgb2YgYVxyXG4gICAgICogICAgIG9uZS10aW1lIG9uLXRoZS1mbHkgcmFuZG9taXphdGlvbi4gVGhlcmUgYXJlIHRocmVlIHBvc3NpYmxlIGNhc2VzOlxyXG4gICAgICogKiAqKm51bGwqKjogVGhlIHN0YW5kYXJkIHdheSBvZiBjYWxsaW5nIGZvciByYW5kb20gdmFsdWVzLCBpLmUudHJ1ZVxyXG4gICAgICogICAgICAgcmFuZG9tbmVzcyBpcyBnZW5lcmF0ZWQgYW5kIGRpc2NhcmRlZCBhZnRlcndhcmRzLlxyXG4gICAgICogKiAqKmRhdGUqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGdlbmVyYXRlZCBvbiB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgZGF0ZSAocGFzdCBvciBwcmVzZW50LCBmb3JtYXQ6IHsgJ2RhdGUnLCAnWVlZWS1NTS1ERCcgfSkuXHJcbiAgICAgKiAqICoqaWQqKjogUkFORE9NLk9SRyB1c2VzIGhpc3RvcmljYWwgdHJ1ZSByYW5kb21uZXNzIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAqICAgICAgIGNvcnJlc3BvbmRpbmcgaWRlbnRpZmllciBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyLiBGb3JtYXQ6IHsgJ2lkJyxcclxuICAgICAqICAgICAgICdQRVJTSVNURU5ULUlERU5USUZJRVInIH0gd2hlcmUgJ1BFUlNJU1RFTlQtSURFTlRJRklFUicgaXMgYSBzdHJpbmdcclxuICAgICAqICAgICAgIHdpdGggbGVuZ3RoIGluIHRoZSBbMSwgNjRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmxpY2Vuc2VEYXRhPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3Qgd2hpY2ggYWxsb3dzXHJcbiAgICAgKiAgICAgdGhlIGNhbGxlciB0byBpbmNsdWRlIGRhdGEgb2YgcmVsZXZhbmNlIHRvIHRoZSBsaWNlbnNlIHRoYXQgaXMgYXNzb2NpYXRlZFxyXG4gICAgICogICAgIHdpdGggdGhlIEFQSSBLZXkuIFRoaXMgaXMgbWFuZGF0b3J5IGZvciBBUEkgS2V5cyB3aXRoIHRoZSBsaWNlbnNlIHR5cGVcclxuICAgICAqICAgICAnRmxleGlibGUgR2FtYmxpbmcnIGFuZCBmb2xsb3dzIHRoZSBmb3JtYXQgeyAnbWF4UGF5b3V0JzogeyAnY3VycmVuY3knOlxyXG4gICAgICogICAgICdYVFMnLCAnYW1vdW50JzogMC4wIH19LiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWQgaW4gbGljZW5zaW5nXHJcbiAgICAgKiAgICAgcmVxdWVzdGVkIHJhbmRvbSB2YWx1ZXMgYW5kIGluIGJpbGxpbmcuIFRoZSBjdXJyZW50bHkgc3VwcG9ydGVkXHJcbiAgICAgKiAgICAgY3VycmVuY2llcyBhcmU6ICdVU0QnLCAnRVVSJywgJ0dCUCcsICdCVEMnLCAnRVRIJy4gVGhlIG1vc3QgdXAtdG8tZGF0ZVxyXG4gICAgICogICAgIGluZm9ybWF0aW9uIG9uIHRoZSBjdXJyZW5jaWVzIGNhbiBiZSBmb3VuZCBpbiB0aGUgU2lnbmVkIEFQSVxyXG4gICAgICogICAgIGRvY3VtZW50YXRpb24sIGhlcmU6IGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9zaWduZWRcclxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXJ8T2JqZWN0KX0gW29wdGlvbnMudXNlckRhdGE9bnVsbF0gT2JqZWN0IHRoYXQgd2lsbCBiZVxyXG4gICAgICogICAgIGluY2x1ZGVkIGluIHVubW9kaWZpZWQgZm9ybS4gSXRzIG1heGltdW0gc2l6ZSBpbiBlbmNvZGVkIChTdHJpbmcpIGZvcm1cclxuICAgICAqICAgICBpcyAxLDAwMCBjaGFyYWN0ZXJzIChkZWZhdWx0IG51bGwpLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRpY2tldElkPW51bGxdIEEgc3RyaW5nIHdpdGggdGlja2V0IGlkZW50aWZpZXJcclxuICAgICAqICAgICBvYnRhaW5lZCB2aWEgdGhlIHtAbGluayBSYW5kb21PcmdDbGllbnQjY3JlYXRlVGlja2V0c30gbWV0aG9kLiBTcGVjaWZ5aW5nXHJcbiAgICAgKiAgICAgYSB2YWx1ZSBmb3IgdGlja2V0SWQgd2lsbCBjYXVzZSBSQU5ET00uT1JHIHRvIHJlY29yZCB0aGF0IHRoZSB0aWNrZXQgd2FzXHJcbiAgICAgKiAgICAgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdGVkIHJhbmRvbSB2YWx1ZXMuIEVhY2ggdGlja2V0IGNhbiBvbmx5IGJlIHVzZWRcclxuICAgICAqICAgICBvbmNlIChkZWZhdWx0IG51bGwpLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8e2RhdGE6IHN0cmluZ1tdLCByYW5kb206IE9iamVjdCwgc2lnbmF0dXJlOiBzdHJpbmd9Pn0gQVxyXG4gICAgICogICAgIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSwgcmVwcmVzZW50cyBhbiBvYmplY3Qgd2l0aCB0aGVcclxuICAgICAqICAgICBmb2xsb3dpbmcgc3RydWN0dXJlOlxyXG4gICAgICogKiAqKmRhdGEqKjogYXJyYXkgb2YgdHJ1ZSByYW5kb20gc3RyaW5nc1xyXG4gICAgICogKiAqKnJhbmRvbSoqOiByYW5kb20gZmllbGQgYXMgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyXHJcbiAgICAgKiAqICoqc2lnbmF0dXJlKio6IHNpZ25hdHVyZSBzdHJpbmdcclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVTaWduZWRTdHJpbmdzKG4sIGxlbmd0aCwgY2hhcmFjdGVycywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNzdHJpbmdSZXF1ZXN0KG4sIGxlbmd0aCwgY2hhcmFjdGVycywgb3B0aW9ucywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RTaWduZWQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdCBhIGxpc3QgKHNpemUgbikgb2YgdmVyc2lvbiA0IHRydWUgcmFuZG9tIFVuaXZlcnNhbGx5IFVuaXF1ZVxyXG4gICAgICogSURlbnRpZmllcnMgKFVVSURzKSBpbiBhY2NvcmRhbmNlIHdpdGggc2VjdGlvbiA0LjQgb2YgUkZDIDQxMjIsIGZyb21cclxuICAgICAqIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBcclxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlc3ByZXNlbnRzIGFuIG9iamVjdFxyXG4gICAgICogd2l0aCB0aGUgcGFyc2VkIFVVSURzIG1hcHBlZCB0byAnZGF0YScsIHRoZSBvcmlnaW5hbCByZXNwb25zZSBtYXBwZWQgdG9cclxuICAgICAqICdyYW5kb20nLCBhbmQgdGhlIHJlc3BvbnNlJ3Mgc2lnbmF0dXJlIG1hcHBlZCB0byAnc2lnbmF0dXJlJy4gU2VlOlxyXG4gICAgICogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L3NpZ25lZCNnZW5lcmF0ZVNpZ25lZFVVSURzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBIb3cgbWFueSByYW5kb20gVVVJRHMgeW91IG5lZWQuIE11c3QgYmUgd2l0aGluIHRoZVxyXG4gICAgICogICAgIFsxLDFlM10gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3twcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPzogT2JqZWN0LCBsaWNlbnNlRGF0YT86IE9iamVjdCwgdXNlckRhdGE/OlxyXG4gICAgICogICAgIE9iamVjdHxzdHJpbmd8bnVtYmVyLCB0aWNrZXRJZD86IHN0cmluZ319IG9wdGlvbnMgQW4gb2JqZWN0IHdoaWNoIG1heVxyXG4gICAgICogICAgIGNvbnRhaW4gYW55IG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5saWNlbnNlRGF0YT1udWxsXSBBIGRpY3Rpb25hcnkgb2JqZWN0IHdoaWNoIGFsbG93c1xyXG4gICAgICogICAgIHRoZSBjYWxsZXIgdG8gaW5jbHVkZSBkYXRhIG9mIHJlbGV2YW5jZSB0byB0aGUgbGljZW5zZSB0aGF0IGlzIGFzc29jaWF0ZWRcclxuICAgICAqICAgICB3aXRoIHRoZSBBUEkgS2V5LiBUaGlzIGlzIG1hbmRhdG9yeSBmb3IgQVBJIEtleXMgd2l0aCB0aGUgbGljZW5zZSB0eXBlXHJcbiAgICAgKiAgICAgJ0ZsZXhpYmxlIEdhbWJsaW5nJyBhbmQgZm9sbG93cyB0aGUgZm9ybWF0IHsgJ21heFBheW91dCc6IHsgJ2N1cnJlbmN5JzpcclxuICAgICAqICAgICAnWFRTJywgJ2Ftb3VudCc6IDAuMCB9fS4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VkIGluIGxpY2Vuc2luZ1xyXG4gICAgICogICAgIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzIGFuZCBpbiBiaWxsaW5nLiBUaGUgY3VycmVudGx5IHN1cHBvcnRlZFxyXG4gICAgICogICAgIGN1cnJlbmNpZXMgYXJlOiAnVVNEJywgJ0VVUicsICdHQlAnLCAnQlRDJywgJ0VUSCcuIFRoZSBtb3N0IHVwLXRvLWRhdGVcclxuICAgICAqICAgICBpbmZvcm1hdGlvbiBvbiB0aGUgY3VycmVuY2llcyBjYW4gYmUgZm91bmQgaW4gdGhlIFNpZ25lZCBBUElcclxuICAgICAqICAgICBkb2N1bWVudGF0aW9uLCBoZXJlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkXHJcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyfE9iamVjdCl9IFtvcHRpb25zLnVzZXJEYXRhPW51bGxdIE9iamVjdCB0aGF0IHdpbGwgYmVcclxuICAgICAqICAgICBpbmNsdWRlZCBpbiB1bm1vZGlmaWVkIGZvcm0uIEl0cyBtYXhpbXVtIHNpemUgaW4gZW5jb2RlZCAoU3RyaW5nKSBmb3JtXHJcbiAgICAgKiAgICAgaXMgMSwwMDAgY2hhcmFjdGVycyAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50aWNrZXRJZD1udWxsXSBBIHN0cmluZyB3aXRoIHRpY2tldCBpZGVudGlmaWVyXHJcbiAgICAgKiAgICAgb2J0YWluZWQgdmlhIHRoZSB7QGxpbmsgUmFuZG9tT3JnQ2xpZW50I2NyZWF0ZVRpY2tldHN9IG1ldGhvZC4gU3BlY2lmeWluZ1xyXG4gICAgICogICAgIGEgdmFsdWUgZm9yIHRpY2tldElkIHdpbGwgY2F1c2UgUkFORE9NLk9SRyB0byByZWNvcmQgdGhhdCB0aGUgdGlja2V0IHdhc1xyXG4gICAgICogICAgIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzLiBFYWNoIHRpY2tldCBjYW4gb25seSBiZSB1c2VkXHJcbiAgICAgKiAgICAgb25jZSAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHtkYXRhOiBzdHJpbmdbXSwgcmFuZG9tOiBPYmplY3QsIHNpZ25hdHVyZTogc3RyaW5nfT59IEFcclxuICAgICAqICAgICBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlcHJlc2VudHMgYW4gb2JqZWN0IHdpdGggdGhlXHJcbiAgICAgKiAgICAgZm9sbG93aW5nIHN0cnVjdHVyZTpcclxuICAgICAqICogKipkYXRhKio6IGFycmF5IG9mIHRydWUgcmFuZG9tIFVVSURzXHJcbiAgICAgKiAqICoqcmFuZG9tKio6IHJhbmRvbSBmaWVsZCBhcyByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXJcclxuICAgICAqICogKipzaWduYXR1cmUqKjogc2lnbmF0dXJlIHN0cmluZ1xyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZW5lcmF0ZVNpZ25lZFVVSURzKG4sIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jVVVJRFJlcXVlc3Qobiwgb3B0aW9ucywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RTaWduZWQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdCBhIGxpc3QgKHNpemUgbikgb2YgQmluYXJ5IExhcmdlIE9CamVjdHMgKEJMT0JzKSBjb250YWluaW5nIHRydWVcclxuICAgICAqIHJhbmRvbSBkYXRhIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIFxyXG4gICAgICogUmV0dXJucyBhIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSwgcmVzcHJlc2VudHMgYW4gb2JqZWN0XHJcbiAgICAgKiB3aXRoIHRoZSBwYXJzZWQgQkxPQnMgbWFwcGVkIHRvICdkYXRhJywgdGhlIG9yaWdpbmFsIHJlc3BvbnNlIG1hcHBlZCB0b1xyXG4gICAgICogJ3JhbmRvbScsIGFuZCB0aGUgcmVzcG9uc2UncyBzaWduYXR1cmUgbWFwcGVkIHRvICdzaWduYXR1cmUnLiBTZWU6XHJcbiAgICAgKiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkI2dlbmVyYXRlU2lnbmVkQmxvYnNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBibG9icyB5b3UgbmVlZC4gTXVzdCBiZSB3aXRoaW4gdGhlXHJcbiAgICAgKiAgICAgWzEsMTAwXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIFRoZSBzaXplIG9mIGVhY2ggYmxvYiwgbWVhc3VyZWQgaW4gYml0cy4gTXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMTA0ODU3Nl0gcmFuZ2UgYW5kIG11c3QgYmUgZGl2aXNpYmxlIGJ5IDguXHJcbiAgICAgKiBAcGFyYW0ge3tmb3JtYXQ/OiBzdHJpbmcsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24/OiBPYmplY3QsIGxpY2Vuc2VEYXRhPzpcclxuICAgICAqICAgICBPYmplY3QsIHVzZXJEYXRhPzogT2JqZWN0fG51bWJlcnxzdHJpbmcsIHRpY2tldElkPzogc3RyaW5nfX0gb3B0aW9ucyBBblxyXG4gICAgICogICAgIG9iamVjdCB3aGljaCBtYXkgY29udGFpbiBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZvcm1hdD0nYmFzZTY0J10gU3BlY2lmaWVzIHRoZSBmb3JtYXQgaW4gd2hpY2ggdGhlXHJcbiAgICAgKiAgICAgYmxvYnMgd2lsbCBiZSByZXR1cm5lZC4gVmFsdWVzIGFsbG93ZWQgYXJlICdiYXNlNjQnIGFuZCAnaGV4JyAoZGVmYXVsdFxyXG4gICAgICogICAgICdiYXNlNjQnKS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uPW51bGxdIEEgZGljdGlvbmFyeSBvYmplY3RcclxuICAgICAqICAgICB3aGljaCBhbGxvd3MgdGhlIGNsaWVudCB0byBzcGVjaWZ5IHRoYXQgdGhlIHJhbmRvbSB2YWx1ZXMgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgZ2VuZXJhdGVkIGZyb20gYSBwcmVnZW5lcmF0ZWQsIGhpc3RvcmljYWwgcmFuZG9taXphdGlvbiBpbnN0ZWFkIG9mIGFcclxuICAgICAqICAgICBvbmUtdGltZSBvbi10aGUtZmx5IHJhbmRvbWl6YXRpb24uIFRoZXJlIGFyZSB0aHJlZSBwb3NzaWJsZSBjYXNlczpcclxuICAgICAqICogKipudWxsKio6IFRoZSBzdGFuZGFyZCB3YXkgb2YgY2FsbGluZyBmb3IgcmFuZG9tIHZhbHVlcywgaS5lLnRydWVcclxuICAgICAqICAgICAgIHJhbmRvbW5lc3MgaXMgZ2VuZXJhdGVkIGFuZCBkaXNjYXJkZWQgYWZ0ZXJ3YXJkcy5cclxuICAgICAqICogKipkYXRlKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBnZW5lcmF0ZWQgb24gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGRhdGUgKHBhc3Qgb3IgcHJlc2VudCwgZm9ybWF0OiB7ICdkYXRlJywgJ1lZWVktTU0tREQnIH0pLlxyXG4gICAgICogKiAqKmlkKio6IFJBTkRPTS5PUkcgdXNlcyBoaXN0b3JpY2FsIHRydWUgcmFuZG9tbmVzcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgKiAgICAgICBjb3JyZXNwb25kaW5nIGlkZW50aWZpZXIgaW4gYSBkZXRlcm1pbmlzdGljIG1hbm5lci4gRm9ybWF0OiB7ICdpZCcsXHJcbiAgICAgKiAgICAgICAnUEVSU0lTVEVOVC1JREVOVElGSUVSJyB9IHdoZXJlICdQRVJTSVNURU5ULUlERU5USUZJRVInIGlzIGEgc3RyaW5nXHJcbiAgICAgKiAgICAgICB3aXRoIGxlbmd0aCBpbiB0aGUgWzEsIDY0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5saWNlbnNlRGF0YT1udWxsXSBBIGRpY3Rpb25hcnkgb2JqZWN0IHdoaWNoIGFsbG93c1xyXG4gICAgICogICAgIHRoZSBjYWxsZXIgdG8gaW5jbHVkZSBkYXRhIG9mIHJlbGV2YW5jZSB0byB0aGUgbGljZW5zZSB0aGF0IGlzIGFzc29jaWF0ZWRcclxuICAgICAqICAgICB3aXRoIHRoZSBBUEkgS2V5LiBUaGlzIGlzIG1hbmRhdG9yeSBmb3IgQVBJIEtleXMgd2l0aCB0aGUgbGljZW5zZSB0eXBlXHJcbiAgICAgKiAgICAgJ0ZsZXhpYmxlIEdhbWJsaW5nJyBhbmQgZm9sbG93cyB0aGUgZm9ybWF0IHsgJ21heFBheW91dCc6IHsgJ2N1cnJlbmN5JzpcclxuICAgICAqICAgICAnWFRTJywgJ2Ftb3VudCc6IDAuMCB9fS4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VkIGluIGxpY2Vuc2luZ1xyXG4gICAgICogICAgIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzIGFuZCBpbiBiaWxsaW5nLiBUaGUgY3VycmVudGx5IHN1cHBvcnRlZFxyXG4gICAgICogICAgIGN1cnJlbmNpZXMgYXJlOiAnVVNEJywgJ0VVUicsICdHQlAnLCAnQlRDJywgJ0VUSCcuIFRoZSBtb3N0IHVwLXRvLWRhdGVcclxuICAgICAqICAgICBpbmZvcm1hdGlvbiBvbiB0aGUgY3VycmVuY2llcyBjYW4gYmUgZm91bmQgaW4gdGhlIFNpZ25lZCBBUElcclxuICAgICAqICAgICBkb2N1bWVudGF0aW9uLCBoZXJlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkXHJcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyfE9iamVjdCl9IFtvcHRpb25zLnVzZXJEYXRhPW51bGxdIE9iamVjdCB0aGF0IHdpbGwgYmVcclxuICAgICAqICAgICBpbmNsdWRlZCBpbiB1bm1vZGlmaWVkIGZvcm0uIEl0cyBtYXhpbXVtIHNpemUgaW4gZW5jb2RlZCAoU3RyaW5nKSBmb3JtIGlzXHJcbiAgICAgKiAgICAgMSwwMDAgY2hhcmFjdGVycyAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50aWNrZXRJZD1udWxsXSBBIHN0cmluZyB3aXRoIHRpY2tldCBpZGVudGlmaWVyXHJcbiAgICAgKiAgICAgb2J0YWluZWQgdmlhIHRoZSB7QGxpbmsgUmFuZG9tT3JnQ2xpZW50I2NyZWF0ZVRpY2tldHN9IG1ldGhvZC4gU3BlY2lmeWluZ1xyXG4gICAgICogICAgIGEgdmFsdWUgZm9yIHRpY2tldElkIHdpbGwgY2F1c2UgUkFORE9NLk9SRyB0byByZWNvcmQgdGhhdCB0aGUgdGlja2V0IHdhc1xyXG4gICAgICogICAgIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlcXVlc3RlZCByYW5kb20gdmFsdWVzLiBFYWNoIHRpY2tldCBjYW4gb25seSBiZSB1c2VkXHJcbiAgICAgKiAgICAgb25jZSAoZGVmYXVsdCBudWxsKS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHtkYXRhOiBzdHJpbmdbXSwgcmFuZG9tOiBPYmplY3QsIHNpZ25hdHVyZTogc3RyaW5nfT59IEFcclxuICAgICAqICAgICBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlcHJlc2VudHMgYW4gb2JqZWN0IHdpdGggdGhlXHJcbiAgICAgKiAgICAgZm9sbG93aW5nIHN0cnVjdHVyZTpcclxuICAgICAqICogKipkYXRhKio6IGFycmF5IG9mIHRydWUgcmFuZG9tIGJsb2JzIGFzIHN0cmluZ3NcclxuICAgICAqICogKipyYW5kb20qKjogcmFuZG9tIGZpZWxkIGFzIHJldHVybmVkIGZyb20gdGhlIHNlcnZlclxyXG4gICAgICogKiAqKnNpZ25hdHVyZSoqOiBzaWduYXR1cmUgc3RyaW5nXHJcbiAgICAgKiBAc2VlIHtAbGluayBSYW5kb21PcmdDbGllbnQjQkxPQl9GT1JNQVRfQkFTRTY0fSBmb3IgJ2Jhc2U2NCcgKGRlZmF1bHQpLlxyXG4gICAgICogQHNlZSB7QGxpbmsgUmFuZG9tT3JnQ2xpZW50I0JMT0JfRk9STUFUX0hFWH0gZm9yICdoZXgnLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZW5lcmF0ZVNpZ25lZEJsb2JzKG4sIHNpemUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jYmxvYlJlcXVlc3Qobiwgc2l6ZSwgb3B0aW9ucywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RTaWduZWQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9USEVSIE1FVEhPRFNcclxuXHJcbiAgICAvKipcclxuICAgICAqIFZlcmlmaWVzIHRoZSBzaWduYXR1cmUgb2YgYSByZXNwb25zZSBwcmV2aW91c2x5IHJlY2VpdmVkIGZyb20gb25lIG9mIHRoZVxyXG4gICAgICogbWV0aG9kcyBpbiB0aGUgU2lnbmVkIEFQSSB3aXRoIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBcclxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBleGFtaW5lIHRoZSBhdXRoZW50aWNpdHkgb2YgbnVtYmVycy4gUmV0dXJucyBUcnVlIG9uXHJcbiAgICAgKiB2ZXJpZmljYXRpb24gc3VjY2Vzcy4gU2VlOlxyXG4gICAgICogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L3NpZ25lZCN2ZXJpZnlTaWduYXR1cmVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByYW5kb20gVGhlIHJhbmRvbSBmaWVsZCBmcm9tIGEgcmVzcG9uc2UgcmV0dXJuZWQgYnkgUkFORE9NLk9SR1xyXG4gICAgICogICAgIHRocm91Z2ggb25lIG9mIHRoZSBTaWduZWQgQVBJIG1ldGhvZHMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2lnbmF0dXJlIFRoZSBzaWduYXR1cmUgZmllbGQgZnJvbSB0aGUgc2FtZSByZXNwb25zZSB0aGF0XHJcbiAgICAgKiAgICAgdGhlIHJhbmRvbSBmaWVsZCBvcmlnaW5hdGVzIGZyb20uXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksXHJcbiAgICAgKiAgICAgcmVwcmVzZW50cyB3aGV0aGVyIHRoZSByZXN1bHQgY291bGQgYmUgdmVyaWZpZWQgKHRydWUpIG9yIG5vdCAoZmFsc2UpLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyB2ZXJpZnlTaWduYXR1cmUocmFuZG9tLCBzaWduYXR1cmUpIHtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICByYW5kb206IHJhbmRvbSxcclxuICAgICAgICAgICAgc2lnbmF0dXJlOiBzaWduYXR1cmVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jZ2VuZXJhdGVSZXF1ZXN0KFJhbmRvbU9yZ0NsaWVudC4jVkVSSUZZX1NJR05BVFVSRV9NRVRIT0QsIHBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RWZXJpZmljYXRpb24odGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgKGVzdGltYXRlZCkgbnVtYmVyIG9mIHJlbWFpbmluZyB0cnVlIHJhbmRvbSBiaXRzIGF2YWlsYWJsZSB0b1xyXG4gICAgICogdGhlIGNsaWVudC4gSWYgY2FjaGVkIHVzYWdlIGluZm8gaXMgb2xkZXIgdGhhbiBhbiBob3VyLCBmcmVzaCBpbmZvIGlzXHJcbiAgICAgKiBvYnRhaW5lZCBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fSBBIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSxcclxuICAgICAqICAgICByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgYml0cyByZW1haW5pbmcuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdTZW5kVGltZW91dEVycm9yfSBUaHJvd24gd2hlbiBibG9ja2luZyB0aW1lb3V0IGlzIGV4Y2VlZGVkXHJcbiAgICAgKiAgICAgYmVmb3JlIHRoZSByZXF1ZXN0IGNhbiBiZSBzZW50LlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnS2V5Tm90UnVubmluZ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSBoYXMgYmVlblxyXG4gICAgICogICAgIHN0b3BwZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRSZXF1ZXN0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIHJlcXVlc3RzIGFsbG93YW5jZSBoYXMgYmVlbiBleGNlZWRlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudEJpdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICBiaXRzIGFsbG93YW5jZSBoYXMgYmVlbiBleGNlZWRlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yfSBUaHJvd24gd2hlbiBhIEhUVFAgMjAwIE9LIHJlc3BvbnNlXHJcbiAgICAgKiAgICAgaXMgbm90IHJlY2VpdmVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnUkFORE9NT1JHRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIFJBTkRPTS5PUkdcclxuICAgICAqICAgICBFcnJvci5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0pTT05SUENFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgSlNPTi1SUEMgRXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEJpdHNMZWZ0KCkge1xyXG4gICAgICAgIGxldCB1cGRhdGUgPSBEYXRlLm5vdygpID4gKHRoaXMuI2xhc3RSZXNwb25zZVJlY2VpdmVkVGltZSArIFJhbmRvbU9yZ0NsaWVudC4jQUxMT1dBTkNFX1NUQVRFX1JFRlJFU0hfU0VDT05EUyk7XHJcbiAgICAgICAgaWYgKHRoaXMuI2JpdHNMZWZ0IDwgMCB8fCB1cGRhdGUpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy4jZ2V0VXNhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2JpdHNMZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgKGVzdGltYXRlZCkgbnVtYmVyIG9mIHJlbWFpbmluZyBBUEkgcmVxdWVzdHMgYXZhaWxhYmxlIHRvIHRoZVxyXG4gICAgICogY2xpZW50LiBJZiBjYWNoZWQgdXNhZ2UgaW5mbyBpcyBvbGRlciB0aGFuIGFuIGhvdXIsIGZyZXNoIGluZm8gaXNcclxuICAgICAqIG9idGFpbmVkIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59IEEgUHJvbWlzZSB3aGljaCwgaWYgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LFxyXG4gICAgICogICAgIHJlcHJlc2VudHMgdGhlIG51bWJlciBvZiByZXF1ZXN0cyByZW1haW5pbmcuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdTZW5kVGltZW91dEVycm9yfSBUaHJvd24gd2hlbiBibG9ja2luZyB0aW1lb3V0IGlzIGV4Y2VlZGVkXHJcbiAgICAgKiAgICAgYmVmb3JlIHRoZSByZXF1ZXN0IGNhbiBiZSBzZW50LlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnS2V5Tm90UnVubmluZ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSBoYXMgYmVlblxyXG4gICAgICogICAgIHN0b3BwZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRSZXF1ZXN0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIHJlcXVlc3RzIGFsbG93YW5jZSBoYXMgYmVlbiBleGNlZWRlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudEJpdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICBiaXRzIGFsbG93YW5jZSBoYXMgYmVlbiBleGNlZWRlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yfSBUaHJvd24gd2hlbiBhIEhUVFAgMjAwIE9LIHJlc3BvbnNlXHJcbiAgICAgKiAgICAgaXMgbm90IHJlY2VpdmVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnUkFORE9NT1JHRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIFJBTkRPTS5PUkdcclxuICAgICAqICAgICBFcnJvci5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0pTT05SUENFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgSlNPTi1SUEMgRXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldFJlcXVlc3RzTGVmdCgpIHtcclxuICAgICAgICBsZXQgdXBkYXRlID0gRGF0ZS5ub3coKSA+ICh0aGlzLiNsYXN0UmVzcG9uc2VSZWNlaXZlZFRpbWUgKyBSYW5kb21PcmdDbGllbnQuI0FMTE9XQU5DRV9TVEFURV9SRUZSRVNIX1NFQ09ORFMpO1xyXG4gICAgICAgIGlmICh0aGlzLiNyZXF1ZXN0c0xlZnQgPCAwIHx8IHVwZGF0ZSkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNnZXRVc2FnZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy4jcmVxdWVzdHNMZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIHNpZ25lZCByYW5kb20gdmFsdWVzIGdlbmVyYXRlZCB3aXRoaW4gdGhlIGxhc3QgMjRoLCB1c2luZyBhXHJcbiAgICAgKiBzZXJpYWwgbnVtYmVyLlxyXG4gICAgICogXHJcbiAgICAgKiBJZiB0aGUgaGlzdG9yaWNhbCByZXNwb25zZSB3YXMgZm91bmQsIHRoZSByZXNwb25zZSB3aWxsIGNvbnRhaW4gdGhlIHNhbWVcclxuICAgICAqIHZhbHVlcyB0aGF0IHdlcmUgcmV0dXJuZWQgYnkgdGhlIG1ldGhvZCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZXNcclxuICAgICAqIGluaXRpYWxseS4gU2VlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkI2dldFJlc3VsdFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlcmlhbE51bWJlciBBbiBpbnRlZ2VyIGNvbnRhaW5pbmcgdGhlIHNlcmlhbCBudW1iZXJcclxuICAgICAqICAgICBhc3NvY2lhdGVkIHdpdGggdGhlIHJlc3BvbnNlIHlvdSB3aXNoIHRvIHJldHJpZXZlLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksXHJcbiAgICAgKiAgICAgcmVwcmVzZW50cyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZSwgaWRlbnRpY2FsIHRvIHRoYXRcclxuICAgICAqICAgICByZXR1cm5lZCBieSB0aGUgb3JpZ2luYWwgcmVxdWVzdDpcclxuICAgICAqICogKipkYXRhKio6IGFycmF5IG9mIHRydWUgcmFuZG9tIHZhbHVlc1xyXG4gICAgICogKiAqKnJhbmRvbSoqOiByYW5kb20gZmllbGQgYXMgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyXHJcbiAgICAgKiAqICoqc2lnbmF0dXJlKio6IHNpZ25hdHVyZSBzdHJpbmdcclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UmVzdWx0KHNlcmlhbE51bWJlcikge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIHNlcmlhbE51bWJlcjogc2VyaWFsTnVtYmVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2dlbmVyYXRlS2V5ZWRSZXF1ZXN0KFJhbmRvbU9yZ0NsaWVudC4jR0VUX1JFU1VMVF9NRVRIT0QsIHBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RTaWduZWQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gTmV3VGlja2V0IEEgdGlja2V0IGFzIGl0IGlzIHJldHVybmVkIGJ5IHRoZSBjcmVhdGVUaWNrZXRzKCkgbWV0aG9kLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRpY2tldElkIEEgc3RyaW5nIHZhbHVlIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgdGlja2V0LlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGNyZWF0aW9uVGltZSBBIHN0cmluZyBjb250YWluaW5nIHRoZSB0aW1lc3RhbXAgaW4gSVNPIDg2MDFcclxuICAgICAqICAgICBmb3JtYXQgYXQgd2hpY2ggdGhlIHRpY2tldCB3YXMgY3JlYXRlZC5cclxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwcmV2aW91c1RpY2tldElkIFRoZSBwcmV2aW91cyB0aWNrZXQgaW4gdGhlIGNoYWluIHRvIHdoaWNoIHRoaXNcclxuICAgICAqICAgICB0aWNrZXQgYmVsb25ncy4gU2luY2UgYSBuZXcgY2hhaW4gb25seSBjb250YWlucyBvbmUgdGlja2V0LCBwcmV2aW91c1RpY2tldElkIHdpbGxcclxuICAgICAqICAgICBiZSBudWxsLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IG5leHRUaWNrZXRJZCBBIHN0cmluZyB2YWx1ZSB0aGF0IGlkZW50aWZpZXMgdGhlIG5leHQgdGlja2V0IGluXHJcbiAgICAgKiAgICAgdGhlIGNoYWluLiBTaW5jZSBhIG5ldyBjaGFpbiBvbmx5IGNvbnRhaW5zIG9uZSB0aWNrZXQsIG5leHRUaWNrZXRJZCB3aWxsIGJlIG51bGwuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFRpY2tldCBBIHRpY2tldCBhcyBpdCBpcyByZXR1cm5lZCBieSB0aGUgbGlzdFRpY2tldHMoKSBhbmRcclxuICAgICAqICAgICBnZXRUaWNrZXQoKSBtZXRob2RzLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRpY2tldElkIEEgc3RyaW5nIHZhbHVlIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgdGlja2V0LlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGhhc2hlZEFwaUtleSBUaGUgaGFzaGVkIEFQSSBrZXkgZm9yIHdoaWNoIHRoZSB0aWNrZXQgaXMgdmFsaWQuXHJcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dSZXN1bHQgSWYgZmFsc2UsIGdldFRpY2tldCgpIHdpbGwgcmV0dXJuIG9ubHkgdGhlIGJhc2ljXHJcbiAgICAgKiAgICAgdGlja2V0IGluZm9ybWF0aW9uLiBJZiB0cnVlLCB0aGUgZnVsbCByYW5kb20gYW5kIHNpZ25hdHVyZSBvYmplY3RzIGZyb20gdGhlXHJcbiAgICAgKiAgICAgcmVzcG9uc2UgdGhhdCB3YXMgdXNlZCB0byBzYXRpc2Z5IHRoZSB0aWNrZXQgaXMgcmV0dXJuZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLFxyXG4gICAgICogICAgIHBsZWFzZSBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIGdldFRpY2tldC5cclxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjcmVhdGlvblRpbWUgVGhlIHRpbWVzdGFtcCBpbiBJU08gODYwMSBmb3JtYXQgYXQgd2hpY2ggdGhlIHRpY2tldFxyXG4gICAgICogICAgIHdhcyBjcmVhdGVkLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHVzZWRUaW1lIFRoZSB0aW1lc3RhbXAgaW4gSVNPIDg2MDEgZm9ybWF0IGF0IHdoaWNoIHRoZSB0aWNrZXQgd2FzXHJcbiAgICAgKiAgICAgdXNlZC4gSWYgdGhlIHRpY2tldCBoYXMgbm90IGJlZW4gdXNlZCB5ZXQsIHRoaXMgdmFsdWUgaXMgbnVsbC5cclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZXJpYWxOdW1iZXIgQSBudW1lcmljIHZhbHVlIGluZGljYXRpbmcgd2hpY2ggc2VyaWFsIG51bWJlclxyXG4gICAgICogICAgICh3aXRoaW4gdGhlIEFQSSBrZXkgdXNlZCB0byBzZXJ2ZSB0aGUgdGlja2V0KSB3YXMgdXNlZCBmb3IgdGhlIHRpY2tldC4gSWYgdGhlXHJcbiAgICAgKiAgICAgY2FsbGVyIGhhcyB0aGUgdW5oYXNoZWQgQVBJIGtleSwgdGhleSBjYW4gdXNlIHRoZSBzZXJpYWxOdW1iZXIgcmV0dXJuZWQgdG8gb2J0YWluXHJcbiAgICAgKiAgICAgdGhlIGZ1bGwgcmVzdWx0IHZpYSB0aGUgZ2V0UmVzdWx0IG1ldGhvZC4gSWYgdGhlIHRpY2tldCBoYXMgbm90IGJlZW4gdXNlZCB5ZXQsXHJcbiAgICAgKiAgICAgdGhpcyB2YWx1ZSBpcyBudWxsLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGV4cGlyYXRpb25UaW1lIFRoZSB0aW1lc3RhbXAgaW4gSVNPIDg2MDEgZm9ybWF0IGF0IHdoaWNoIHRoZSB0aWNrZXRcclxuICAgICAqICAgICBleHBpcmVzLiBJZiB0aGUgdGlja2V0IGhhcyBub3QgYmVlbiB1c2VkIHlldCwgdGhpcyB2YWx1ZSBpcyBudWxsLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHByZXZpb3VzVGlja2V0SWQgVGhlIHByZXZpb3VzIHRpY2tldCBpbiB0aGUgY2hhaW4gdG8gd2hpY2ggdGhpc1xyXG4gICAgICogICAgIHRpY2tldCBiZWxvbmdzLiBJZiB0aGUgdGlja2V0IGlzIHRoZSBmaXJzdCBpbiBpdHMgY2hhaW4sIHRoZW4gcHJldmlvdXNUaWNrZXRJZCBpc1xyXG4gICAgICogICAgIG51bGwuXHJcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gbmV4dFRpY2tldElkIEEgc3RyaW5nIHZhbHVlIHRoYXQgaWRlbnRpZmllcyB0aGUgbmV4dFxyXG4gICAgICogICAgIHRpY2tldCBpbiB0aGUgY2hhaW4uXHJcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gW3Jlc3VsdF0gVGhlIHNhbWUgb2JqZWN0IHRoYXQgd2FzIHJldHVybmVkIGJ5IHRoZSBtZXRob2QgdGhhdCB3YXNcclxuICAgICAqICAgICBvcmlnaW5hbGx5IHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlcy5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBuIHRpY2tldHMgdG8gYmUgdXNlZCBpbiBzaWduZWQgdmFsdWUtZ2VuZXJhdGluZyBtZXRob2RzLlxyXG4gICAgICogIFxyXG4gICAgICogU2VlOiBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvc2lnbmVkI2NyZWF0ZVRpY2tldHNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGlja2V0cyByZXF1ZXN0ZWQuIFRoaXMgbXVzdCBiZSBhIG51bWJlclxyXG4gICAgICogICAgIGluIHRoZSBbMSwgNTBdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzaG93UmVzdWx0IEEgYm9vbGVhbiB2YWx1ZSB0aGF0IGRldGVybWluZXMgaG93IG11Y2hcclxuICAgICAqICAgICBpbmZvcm1hdGlvbiBjYWxscyB0byB7QGxpbmsgZ2V0VGlja2V0fSB3aWxsIHJldHVybi5cclxuICAgICAqICogKipmYWxzZSoqOiBnZXRUaWNrZXQgd2lsbCByZXR1cm4gb25seSB0aGUgYmFzaWMgdGlja2V0IGluZm9ybWF0aW9uLlxyXG4gICAgICogKiAqKnRydWUqKjogdGhlIGZ1bGwgcmFuZG9tIGFuZCBzaWduYXR1cmUgb2JqZWN0cyBmcm9tIHRoZSByZXNwb25zZSB0aGF0XHJcbiAgICAgKiAgICAgd2FzIHVzZWQgdG8gc2F0aXNmeSB0aGUgdGlja2V0IGlzIHJldHVybmVkLiBcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPE5ld1RpY2tldFtdPn0gQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksXHJcbiAgICAgKiAgICAgcmVwcmVzZW50cyBhbiBhcnJheSBvZiB0aWNrZXQgb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxyXG4gICAgICogKiAqKnRpY2tldElkKio6IEEgc3RyaW5nIHZhbHVlIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgdGlja2V0LlxyXG4gICAgICogKiAqKmNyZWF0aW9uVGltZSoqOiBUaGUgdGltZSB3aGVuIHRoZSB0aWNrZXQgd2FzIGNyZWF0ZWQgKElTTyA4NjAxIGZvcm1hdCkuXHJcbiAgICAgKiAqICoqbmV4dFRpY2tldElkKio6IEEgc3RyaW5nIHBvaW50aW5nIHRvIHRoZSBuZXh0IHRpY2tldCBpbiB0aGUgY2hhaW4uXHJcbiAgICAgKiAgICAgVGhpcyB3aWxsIGJlIG51bGwsIGFzIHRoZSB0aWNrZXRzIHJldHVybmVkIGZyb20gdGhpcyBtZXRob2QgYXJlIHRoZVxyXG4gICAgICogICAgIGZpcnN0IGluIHRoZWlyIHJlc3BlY3RpdmUgY2hhaW5zLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBjcmVhdGVUaWNrZXRzKG4sIHNob3dSZXN1bHQpIHtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBuOiBuLFxyXG4gICAgICAgICAgICBzaG93UmVzdWx0OiBzaG93UmVzdWx0XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2dlbmVyYXRlS2V5ZWRSZXF1ZXN0KFJhbmRvbU9yZ0NsaWVudC4jQ1JFQVRFX1RJQ0tFVF9NRVRIT0QsIHBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RSZXN1bHQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2J0YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aWNrZXRzIGxpbmtlZCB3aXRoIHlvdXIgQVBJIGtleS5cclxuICAgICAqIFxyXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpY2tldHMgdGhhdCBjYW4gYmUgcmV0dXJuZWQgYnkgdGhpcyBtZXRob2QgaXMgMjAwMC5cclxuICAgICAqIFNlZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9qc29uLXJwYy80L3NpZ25lZCNsaXN0VGlja2V0c1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpY2tldFR5cGUgQSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgdHlwZSBvZiB0aWNrZXRzIHlvdSB3YW50XHJcbiAgICAgKiAgICAgdG8gb2J0YWluIGluZm9ybWF0aW9uIGFib3V0LiBQb3NzaWJsZSB2YWx1ZXMgYXJlICdzaW5nbGV0b24nLCAnaGVhZCdcclxuICAgICAqICAgICBhbmQgJ3RhaWwnLlxyXG4gICAgICogKiAqKidzaW5nbGV0b24nKiogcmV0dXJucyB0aWNrZXRzIHRoYXQgaGF2ZSBubyBwcmV2aW91cyBvciBuZXh0IHRpY2tldHMuXHJcbiAgICAgKiAqICoqJ2hlYWQnKiogcmV0dXJucyB0aWNrZXRzIGhhdCBkbyBub3QgaGF2ZSBhIHByZXZpb3VzIHRpY2tldCBidXQgdGhhdCBkb1xyXG4gICAgICogICAgIGhhdmUgYSBuZXh0IHRpY2tldC5cclxuICAgICAqICogKiondGFpbCcqKiByZXR1cm5zIHRpY2tldHMgdGhhdCBoYXZlIGEgcHJldmlvdXMgdGlja2V0IGJ1dCBkbyBub3QgaGF2ZSBhXHJcbiAgICAgKiAgICAgICBuZXh0IHRpY2tldC5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFRpY2tldFtdPn0gQSBQcm9taXNlIHdoaWNoLCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksXHJcbiAgICAgKiAgICAgcmVwcmVzZW50cyBhbiBhcnJheSBvZiB0aWNrZXQgb2JqZWN0cywgYXMgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICogICAgICoqTk9URToqKiBUaGUgb2JqZWN0cyByZXR1cm5lZCBmcm9tIHRoaXMgbWV0aG9kIGRvIG5vdCBjb250YWluIFwicmVzdWx0XCJcclxuICAgICAqICAgICBmaWVsZHMsIGV2ZW4gaWYgdGlja2V0cyB3ZXJlIGNyZWF0ZWQgd2l0aCBcInNob3dSZXN1bHRcIiBzZXQgdG8gdHJ1ZS5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgbGlzdFRpY2tldHModGlja2V0VHlwZSkge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIHRpY2tldFR5cGU6IHRpY2tldFR5cGVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jZ2VuZXJhdGVLZXllZFJlcXVlc3QoUmFuZG9tT3JnQ2xpZW50LiNMSVNUX1RJQ0tFVF9NRVRIT0QsIHBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RSZXN1bHQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2J0YWlucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNpbmdsZSB0aWNrZXQgdXNpbmcgdGhlIHRpY2tldElkIGFzc29jaWF0ZWRcclxuICAgICAqIHdpdGggaXQuXHJcbiAgICAgKiAgXHJcbiAgICAgKiBJZiB0aGUgdGlja2V0IGhhcyBzaG93UmVzdWx0IHNldCB0byB0cnVlIGFuZCBoYXMgYmVlbiB1c2VkLCB0aGlzIG1ldGhvZFxyXG4gICAgICogd2lsbCByZXR1cm4gdGhlIHZhbHVlcyBnZW5lcmF0ZWQuXHJcbiAgICAgKiBTZWU6IGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9zaWduZWQjZ2V0VGlja2V0XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGlja2V0SWQgQSBzdHJpbmcgY29udGFpbmluZyBhIHRpY2tldCBpZGVudGlmaWVyIHJldHVybmVkXHJcbiAgICAgKiAgICAgYnkgYSBwcmlvciBjYWxsIHRvIHRoZSB7QGxpbmsgY3JlYXRlVGlja2V0c30gbWV0aG9kLiBcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFRpY2tldD59IEEgUHJvbWlzZSB3aGljaCwgaWYgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LFxyXG4gICAgICogICAgIHJlcHJlc2VudHMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjpcclxuICAgICAqICogKip0aWNrZXRJZCoqOiBBIHN0cmluZyB2YWx1ZSB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIHRpY2tldC5cclxuICAgICAqICogKipoYXNoZWRBcGlLZXkqKjogVGhlIGhhc2hlZCBBUEkga2V5IGZvciB3aGljaCB0aGUgdGlja2V0IGlzIHZhbGlkLlxyXG4gICAgICogKiAqKnNob3dSZXN1bHQqKjogSWYgZmFsc2UsIGdldFRpY2tldCgpIHdpbGwgcmV0dXJuIG9ubHkgdGhlIGJhc2ljXHJcbiAgICAgKiAgICAgdGlja2V0IGluZm9ybWF0aW9uLiBJZiB0cnVlLCB0aGUgZnVsbCByYW5kb20gYW5kIHNpZ25hdHVyZSBvYmplY3RzXHJcbiAgICAgKiAgICAgZnJvbSB0aGUgcmVzcG9uc2UgdGhhdCB3YXMgdXNlZCB0byBzYXRpc2Z5IHRoZSB0aWNrZXQgaXMgcmV0dXJuZWQuXHJcbiAgICAgKiAgICAgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIGdldFRpY2tldC5cclxuICAgICAqICogKipjcmVhdGlvblRpbWUqKjogVGhlIHRpbWVzdGFtcCBpbiBJU08gODYwMSBmb3JtYXQgYXQgd2hpY2ggdGhlIHRpY2tldFxyXG4gICAgICogICAgIHdhcyBjcmVhdGVkLlxyXG4gICAgICogKiAqKnVzZWRUaW1lKiogVGhlIHRpbWVzdGFtcCBpbiBJU08gODYwMSBmb3JtYXQgYXQgd2hpY2ggdGhlIHRpY2tldCB3YXNcclxuICAgICAqICAgICB1c2VkLiBJZiB0aGUgdGlja2V0IGhhcyBub3QgYmVlbiB1c2VkIHlldCwgdGhpcyB2YWx1ZSBpcyBudWxsLlxyXG4gICAgICogKiAqKnNlcmlhbE51bWJlcioqOiBBIG51bWVyaWMgdmFsdWUgaW5kaWNhdGluZyB3aGljaCBzZXJpYWwgbnVtYmVyICh3aXRoaW5cclxuICAgICAqICAgICB0aGUgQVBJIGtleSB1c2VkIHRvIHNlcnZlIHRoZSB0aWNrZXQpIHdhcyB1c2VkIGZvciB0aGUgdGlja2V0LiBJZiB0aGVcclxuICAgICAqICAgICBjYWxsZXIgaGFzIHRoZSB1bmhhc2hlZCBBUEkga2V5LCB0aGV5IGNhbiB1c2UgdGhlIHNlcmlhbE51bWJlciByZXR1cm5lZFxyXG4gICAgICogICAgIHRvIG9idGFpbiB0aGUgZnVsbCByZXN1bHQgdmlhIHRoZSBnZXRSZXN1bHQgbWV0aG9kLiBJZiB0aGUgdGlja2V0IGhhc1xyXG4gICAgICogICAgIG5vdCBiZWVuIHVzZWQgeWV0LCB0aGlzIHZhbHVlIGlzIG51bGwuXHJcbiAgICAgKiAqICoqZXhwaXJhdGlvblRpbWUqKjogVGhlIHRpbWVzdGFtcCBpbiBJU08gODYwMSBmb3JtYXQgYXQgd2hpY2ggdGhlIHRpY2tldFxyXG4gICAgICogICAgIGV4cGlyZXMuIElmIHRoZSB0aWNrZXQgaGFzIG5vdCBiZWVuIHVzZWQgeWV0LCB0aGlzIHZhbHVlIGlzIG51bGwuXHJcbiAgICAgKiAqICoqcHJldmlvdXNUaWNrZXRJZCoqOiBUaGUgcHJldmlvdXMgdGlja2V0IGluIHRoZSBjaGFpbiB0byB3aGljaCB0aGlzIHRpY2tldFxyXG4gICAgICogICAgIGJlbG9uZ3MuIElmIHRoZSB0aWNrZXQgaXMgdGhlIGZpcnN0IGluIGl0cyBjaGFpbiwgdGhlbiBwcmV2aW91c1RpY2tldElkIGlzXHJcbiAgICAgKiAgICAgbnVsbC5cclxuICAgICAqICogKipuZXh0VGlja2V0SWQqKiBBIHN0cmluZyB2YWx1ZSB0aGF0IGlkZW50aWZpZXMgdGhlIG5leHRcclxuICAgICAqICAgICB0aWNrZXQgaW4gdGhlIGNoYWluLlxyXG4gICAgICogXHJcbiAgICAgKiAgICAgSWYgc2hvd1Jlc3VsdCB3YXMgc2V0IHRvIHRydWUgd2hlbiB0aGUgdGlja2V0IHdhcyBjcmVhdGVkLFxyXG4gICAgICogICAgIHRoZSBmb2xsb3dpbmcgZmllbGQgd2lsbCBhbHNvIGJlIGFkZGVkOlxyXG4gICAgICogKiAqKnJlc3VsdCoqIFRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyByZXR1cm5lZCBieSB0aGUgbWV0aG9kIHRoYXQgd2FzIG9yaWdpbmFsbHlcclxuICAgICAqICAgICB1c2VkIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZXMuIFRoaXMgaW5jbHVkZXMgdGhlIHJhbmRvbSBmaWVsZCB3aGljaCBjb250YWlucyB0aGVcclxuICAgICAqICAgICBkYXRhIHByb3BlcnR5LCBhbmQgYSBzaWduYXR1cmUgZmllbGQsIHJlcXVpcmVkIHRvIHZlcmlmeSB0aGUgcmVzdWx0LlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcn0gVGhyb3duIHdoZW4gYmxvY2tpbmcgdGltZW91dCBpcyBleGNlZWRlZFxyXG4gICAgICogICAgIGJlZm9yZSB0aGUgcmVxdWVzdCBjYW4gYmUgc2VudC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkgaGFzIGJlZW5cclxuICAgICAqICAgICBzdG9wcGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvcn0gVGhyb3duIHdoZW4gdGhlIEFQSSBrZXkncyBzZXJ2ZXJcclxuICAgICAqICAgICByZXF1ZXN0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgYml0cyBhbGxvd2FuY2UgaGFzIGJlZW4gZXhjZWVkZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvcn0gVGhyb3duIHdoZW4gYSBIVFRQIDIwMCBPSyByZXNwb25zZVxyXG4gICAgICogICAgIGlzIG5vdCByZWNlaXZlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBSQU5ET00uT1JHXHJcbiAgICAgKiAgICAgRXJyb3IuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdKU09OUlBDRXJyb3J9IFRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIEpTT04tUlBDIEVycm9yLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRUaWNrZXQodGlja2V0SWQpIHtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICB0aWNrZXRJZDogdGlja2V0SWRcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jZ2VuZXJhdGVSZXF1ZXN0KFJhbmRvbU9yZ0NsaWVudC4jR0VUX1RJQ0tFVF9NRVRIT0QsIHBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4dHJhY3RSZXN1bHQodGhpcy4jc2VuZFJlcXVlc3QocmVxdWVzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIHRoZSBVUkwgZm9yIHRoZSBzaWduYXR1cmUgdmVyaWZpY2F0aW9uIHBhZ2Ugb2YgYSByZXNwb25zZSBwcmV2aW91c2x5XHJcbiAgICAgKiByZWNlaXZlZCBmcm9tIG9uZSBvZiB0aGUgbWV0aG9kcyBpbiB0aGUgU2lnbmVkIEFQSSB3aXRoIHRoZSBzZXJ2ZXIuIFRoZVxyXG4gICAgICogd2ViLXBhZ2UgYWNjZXNzaWJsZSBmcm9tIHRoaXMgVVJMIHdpbGwgY29udGFpbiB0aGUgZGV0YWlscyBvZiB0aGUgcmVzcG9uc2VcclxuICAgICAqIHVzZWQgaW4gdGhpcyBtZXRob2QsIHByb3ZpZGVkIHRoYXQgdGhlIHNpZ25hdHVyZSBjYW4gYmUgdmVyaWZpZWQuIFRoaXNcclxuICAgICAqIFVSTCBpcyBhbHNvIHNob3duIHVuZGVyIFwiU2hvdyBUZWNobmljYWwgRGV0YWlsc1wiIHdoZW4gdGhlIG9ubGluZSBTaWduYXR1cmVcclxuICAgICAqIFZlcmlmaWNhdGlvbiBGb3JtIGlzIHVzZWQgdG8gdmFsaWRhdGUgYSBzaWduYXR1cmUuIFNlZTpcclxuICAgICAqIGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvc2lnbmF0dXJlcy9mb3JtXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmFuZG9tIFRoZSByYW5kb20gZmllbGQgZnJvbSBhIHJlc3BvbnNlIHJldHVybmVkIGJ5XHJcbiAgICAgKiAgICAgUkFORE9NLk9SRyB0aHJvdWdoIG9uZSBvZiB0aGUgU2lnbmVkIEFQSSBtZXRob2RzLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZSBUaGUgc2lnbmF0dXJlIGZpZWxkIGZyb20gdGhlIHNhbWUgcmVzcG9uc2VcclxuICAgICAqICAgICB0aGF0IHRoZSByYW5kb20gZmllbGQgb3JpZ2luYXRlcyBmcm9tLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgY29udGFpbmluZyB0aGUgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBVUkwuXHJcbiAgICAgKiBAdGhyb3dzIFJhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yIHdoZW4gdGhlIFVSTCBpcyB0b28gbG9uZyAobWF4LiAyLDA0NlxyXG4gICAgICogICAgIGNoYXJhY3RlcnMpLlxyXG4gICAgICovXHJcbiAgICBjcmVhdGVVcmwocmFuZG9tLCBzaWduYXR1cmUpIHtcclxuICAgICAgICBsZXQgZm9ybWF0dGVkUmFuZG9tID0gdGhpcy4jZm9ybWF0VXJsKEpTT04uc3RyaW5naWZ5KHJhbmRvbSkpO1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWRTaWduYXR1cmUgPSB0aGlzLiNmb3JtYXRVcmwoc2lnbmF0dXJlKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdXJsID0gJ2h0dHBzOi8vYXBpLnJhbmRvbS5vcmcvc2lnbmF0dXJlcy9mb3JtP2Zvcm1hdD1qc29uJzsgICAgXHJcbiAgICAgICAgdXJsICs9ICcmcmFuZG9tPScgKyBmb3JtYXR0ZWRSYW5kb207XHJcbiAgICAgICAgdXJsICs9ICcmc2lnbmF0dXJlPScgKyBmb3JtYXR0ZWRTaWduYXR1cmU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHVybC5sZW5ndGggPiBSYW5kb21PcmdDbGllbnQuTUFYX1VSTF9MRU5HVEgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yKCdFcnJvcjogVVJMIGV4Y2VlZHMgbWF4aW11bSBsZW5ndGgnXHJcbiAgICAgICAgICAgICAgICArICcoJyArIFJhbmRvbU9yZ0NsaWVudC5NQVhfVVJMX0xFTkdUSCArICcgY2hhcmFjdGVycykuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIEhUTUwgZm9ybSBmb3IgdGhlIHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gcGFnZSBvZiBhIHJlc3BvbnNlXHJcbiAgICAgKiBwcmV2aW91c2x5IHJlY2VpdmVkIGZyb20gb25lIG9mIHRoZSBtZXRob2RzIGluIHRoZSBTaWduZWQgQVBJIHdpdGggdGhlXHJcbiAgICAgKiBzZXJ2ZXIuIFRoZSB3ZWItcGFnZSBhY2Nlc3NpYmxlIGZyb20gdGhlIFwiVmFsaWRhdGVcIiBidXR0b24gY3JlYXRlZCB3aWxsXHJcbiAgICAgKiBjb250YWluIHRoZSBkZXRhaWxzIG9mIHRoZSByZXNwb25zZSB1c2VkIGluIHRoaXMgbWV0aG9kLCBwcm92aWRlZCB0aGF0XHJcbiAgICAgKiB0aGUgc2lnbmF0dXJlIGNhbiBiZSB2ZXJpZmllZC4gVGhlIHNhbWUgSFRNTCBmb3JtIGlzIGFsc28gc2hvd24gdW5kZXJcclxuICAgICAqIFwiU2hvdyBUZWNobmljYWwgRGV0YWlsc1wiIHdoZW4gdGhlIG9ubGluZSBTaWduYXR1cmUgVmVyaWZpY2F0aW9uIEZvcm0gaXNcclxuICAgICAqIHVzZWQgdG8gdmFsaWRhdGUgYSBzaWduYXR1cmUuIFNlZTogaHR0cHM6Ly9hcGkucmFuZG9tLm9yZy9zaWduYXR1cmVzL2Zvcm1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByYW5kb20gVGhlIHJhbmRvbSBmaWVsZCBmcm9tIGEgcmVzcG9uc2UgcmV0dXJuZWQgYnlcclxuICAgICAqICAgICBSQU5ET00uT1JHIHRocm91Z2ggb25lIG9mIHRoZSBTaWduZWQgQVBJIG1ldGhvZHMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2lnbmF0dXJlIFRoZSBzaWduYXR1cmUgZmllbGQgZnJvbSB0aGUgc2FtZSByZXNwb25zZVxyXG4gICAgICogICAgIHRoYXQgdGhlIHJhbmRvbSBmaWVsZCBvcmlnaW5hdGVzIGZyb20uXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBjb2RlIGZvciB0aGUgSFRNTCBmb3JtLlxyXG4gICAgICovXHJcbiAgICBjcmVhdGVIdG1sKHJhbmRvbSwgc2lnbmF0dXJlKSB7XHJcbiAgICAgICAgbGV0IHMgPSAnPGZvcm0gYWN0aW9uPVxcJ2h0dHBzOi8vYXBpLnJhbmRvbS5vcmcvc2lnbmF0dXJlcy9mb3JtXFwnIG1ldGhvZD1cXCdwb3N0XFwnPlxcbic7XHJcbiAgICAgICAgcyArPSAnICAnICsgdGhpcy4jaW5wdXRIVE1MKCdoaWRkZW4nLCAnZm9ybWF0JywgJ2pzb24nKSArICdcXG4nO1xyXG4gICAgICAgIHMgKz0gJyAgJyArIHRoaXMuI2lucHV0SFRNTCgnaGlkZGVuJywgJ3JhbmRvbScsIEpTT04uc3RyaW5naWZ5KHJhbmRvbSkpICsgJ1xcbic7XHJcbiAgICAgICAgcyArPSAnICAnICsgdGhpcy4jaW5wdXRIVE1MKCdoaWRkZW4nLCAnc2lnbmF0dXJlJywgc2lnbmF0dXJlKSArICdcXG4nO1xyXG4gICAgICAgIHMgKz0gJyAgPGlucHV0IHR5cGU9XFwnc3VibWl0XFwnIHZhbHVlPVxcJ1ZhbGlkYXRlXFwnIC8+XFxuPC9mb3JtPic7XHJcbiAgICAgICAgcmV0dXJuIHM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ1JFQVRJTkcgQ0FDSEVTXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgUmFuZG9tT3JnQ2FjaGUgdG8gb2J0YWluIHJhbmRvbSBpbnRlZ2Vycy5cclxuICAgICAqIFxyXG4gICAgICogVGhlIFJhbmRvbU9yZ0NhY2hlIGNhbiBiZSBwb2xsZWQgZm9yIG5ldyByZXN1bHRzIGNvbmZvcm1pbmcgdG8gdGhlIG91dHB1dFxyXG4gICAgICogZm9ybWF0IG9mIHRoZSBpbnB1dCByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gSG93IG1hbnkgcmFuZG9tIGludGVnZXJzIHlvdSBuZWVkLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbG93ZXIgYm91bmRhcnkgZm9yIHRoZSByYW5nZSBmcm9tIHdoaWNoIHRoZSByYW5kb21cclxuICAgICAqICAgICBudW1iZXJzIHdpbGwgYmUgcGlja2VkLiBNdXN0IGJlIHdpdGhpbiB0aGUgWy0xZTksMWU5XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIHVwcGVyIGJvdW5kYXJ5IGZvciB0aGUgcmFuZ2UgZnJvbSB3aGljaCB0aGUgcmFuZG9tXHJcbiAgICAgKiAgICAgbnVtYmVycyB3aWxsIGJlIHBpY2tlZC4gTXVzdCBiZSB3aXRoaW4gdGhlIFstMWU5LDFlOV0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tyZXBsYWNlbWVudD86IGJvb2xlYW4sIGJhc2U/OiBudW1iZXIsIGNhY2hlU2l6ZT86IG51bWJlcn19IG9wdGlvbnNcclxuICAgICAqICAgICBBbiBvYmplY3Qgd2hpY2ggbWF5IGNvbnRhaW4gYW55IG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVwbGFjZW1lbnQ9dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIHJhbmRvbVxyXG4gICAgICogICAgIG51bWJlcnMgc2hvdWxkIGJlIHBpY2tlZCB3aXRoIHJlcGxhY2VtZW50LiBJZiB0cnVlLCB0aGUgcmVzdWx0aW5nIG51bWJlcnNcclxuICAgICAqICAgICBtYXkgY29udGFpbiBkdXBsaWNhdGUgdmFsdWVzLCBvdGhlcndpc2UgdGhlIG51bWJlcnMgd2lsbCBhbGwgYmUgdW5pcXVlXHJcbiAgICAgKiAgICAgKGRlZmF1bHQgdHJ1ZSkuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFzZT0xMF0gVGhlIGJhc2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gZGlzcGxheSB0aGVcclxuICAgICAqICAgICBudW1iZXJzLiBWYWx1ZXMgYWxsb3dlZCBhcmUgMiwgOCwgMTAgYW5kIDE2IChkZWZhdWx0IDEwKS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jYWNoZVNpemU9MjBdIFRoZSBudW1iZXIgb2YgcmVzdWx0LXNldHMgZm9yIHRoZVxyXG4gICAgICogICAgIGNhY2hlIHRvIHRyeSB0byBtYWludGFpbiBhdCBhbnkgZ2l2ZW4gdGltZSAoZGVmYXVsdCAyMCwgbWluaW11bSAyKS5cclxuICAgICAqIEByZXR1cm5zIHtSYW5kb21PcmdDYWNoZX0gQW4gaW5zdGFuY2Ugb2YgdGhlIFJhbmRvbU9yZ0NhY2hlIGNsYXNzIHdoaWNoXHJcbiAgICAgKiAgICAgY2FuIGJlIHBvbGxlZCBmb3IgYXJyYXlzIG9mIHRydWUgcmFuZG9tIGludGVnZXJzLlxyXG4gICAgICovXHJcbiAgICBjcmVhdGVJbnRlZ2VyQ2FjaGUobiwgbWluLCBtYXgsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGxldCBjYWNoZVNpemUgPSBvcHRpb25zLmNhY2hlU2l6ZSB8fCAyMDtcclxuICAgICAgICBpZiAoY2FjaGVTaXplIDwgMikge1xyXG4gICAgICAgICAgICBjYWNoZVNpemUgPSAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNpbnRlZ2VyUmVxdWVzdChuLCBtaW4sIG1heCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIG1heCBzaW5nbGUgcmVxdWVzdCBzaXplLCBpbiBiaXRzLCBmb3IgYWRqdXN0aW5nIGJ1bGsgcmVxdWVzdHMgbGF0ZXJcclxuICAgICAgICBsZXQgbWF4UmVxdWVzdFNpemUgPSBNYXRoLmNlaWwoTWF0aC5sb2cobWF4IC0gbWluICsgMSkgLyBNYXRoLmxvZygyKSAqIG4pO1xyXG4gICAgICAgIGxldCBidWxrTiA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgcG9zc2libGUsIG1ha2UgcmVxdWVzdHMgbW9yZSBlZmZpY2llbnQgYnkgYnVsay1vcmRlcmluZyBmcm9tIHRoZVxyXG4gICAgICAgIC8vIHNlcnZlci4gSW5pdGlhbGx5IHNldCBhdCBjYWNoZVNpemUvMiwgYnV0IGNhY2hlIHdpbGwgYXV0by1zaHJpbmsgYnVsa1xyXG4gICAgICAgIC8vIHJlcXVlc3Qgc2l6ZSBpZiByZXF1ZXN0cyBjYW4ndCBiZSBmdWxmaWxsZWQuXHJcbiAgICAgICAgaWYgKCEoJ3JlcGxhY2VtZW50JyBpbiBvcHRpb25zKSB8fCBvcHRpb25zLnJlcGxhY2VtZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGJ1bGtOID0gY2FjaGVTaXplIC8gMjtcclxuICAgICAgICAgICAgcmVxdWVzdC5wYXJhbXMubiA9IG4gKiBidWxrTjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmFuZG9tT3JnQ2FjaGUodGhpcy4jc2VuZFJlcXVlc3QuYmluZCh0aGlzKSwgcmVxdWVzdCwgY2FjaGVTaXplLFxyXG4gICAgICAgICAgICBidWxrTiwgbiwgbWF4UmVxdWVzdFNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIFJhbmRvbU9yZ0NhY2hlIHRvIG9idGFpbiByYW5kb20gaW50ZWdlciBzZXF1ZW5jZXMuXHJcbiAgICAgKiBcclxuICAgICAqIFRoZSBSYW5kb21PcmdDYWNoZSBjYW4gYmUgcG9sbGVkIGZvciBuZXcgcmVzdWx0cyBjb25mb3JtaW5nIHRvIHRoZSBvdXRwdXRcclxuICAgICAqIGZvcm1hdCBvZiB0aGUgaW5wdXQgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBpbnRlZ2VyIHNlcXVlbmNlcyB5b3UgbmVlZC4gTXVzdCBiZSB3aXRoaW5cclxuICAgICAqICAgICB0aGUgWzEsMWU0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxudW1iZXJbXSl9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIGVhY2ggYXJyYXkgb2YgcmFuZG9tXHJcbiAgICAgKiAgICAgaW50ZWdlcnMgcmVxdWVzdGVkLiBGb3IgdW5pZm9ybSBzZXF1ZW5jZXMsIGxlbmd0aCBtdXN0IGJlIGFuIGludGVnZXJcclxuICAgICAqICAgICBpbiB0aGUgWzEsIDFlNF0gcmFuZ2UuIEZvciBtdWx0aWZvcm0gc2VxdWVuY2VzLCBsZW5ndGggY2FuIGJlIGFuIGFycmF5XHJcbiAgICAgKiAgICAgd2l0aCBuIGludGVnZXJzLCBlYWNoIHNwZWNpZnlpbmcgdGhlIGxlbmd0aCBvZiB0aGUgc2VxdWVuY2UgaWRlbnRpZmllZFxyXG4gICAgICogICAgIGJ5IGl0cyBpbmRleC4gSW4gdGhpcyBjYXNlLCBlYWNoIHZhbHVlIGluIGxlbmd0aCBtdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwgMWU0XSByYW5nZSBhbmQgdGhlIHRvdGFsIHN1bSBvZiBhbGwgdGhlIGxlbmd0aHMgbXVzdCBiZSBpbiB0aGVcclxuICAgICAqICAgICBbMSwgMWU0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxudW1iZXJbXSl9IG1pbiBUaGUgbG93ZXIgYm91bmRhcnkgZm9yIHRoZSByYW5nZSBmcm9tIHdoaWNoXHJcbiAgICAgKiAgICAgdGhlIHJhbmRvbSBudW1iZXJzIHdpbGwgYmUgcGlja2VkLiBGb3IgdW5pZm9ybSBzZXF1ZW5jZXMsIG1pbiBtdXN0IGJlXHJcbiAgICAgKiAgICAgYW4gaW50ZWdlciBpbiB0aGUgWy0xZTksIDFlOV0gcmFuZ2UuIEZvciBtdWx0aWZvcm0gc2VxdWVuY2VzLCBtaW4gY2FuXHJcbiAgICAgKiAgICAgYmUgYW4gYXJyYXkgd2l0aCBuIGludGVnZXJzLCBlYWNoIHNwZWNpZnlpbmcgdGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZVxyXG4gICAgICogICAgIHNlcXVlbmNlIGlkZW50aWZpZWQgYnkgaXRzIGluZGV4LiBJbiB0aGlzIGNhc2UsIGVhY2ggdmFsdWUgaW4gbWluIG11c3RcclxuICAgICAqICAgICBiZSB3aXRoaW4gdGhlIFstMWU5LCAxZTldIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gbWF4IFRoZSB1cHBlciBib3VuZGFyeSBmb3IgdGhlIHJhbmdlIGZyb20gd2hpY2hcclxuICAgICAqICAgICB0aGUgcmFuZG9tIG51bWJlcnMgd2lsbCBiZSBwaWNrZWQuIEZvciB1bmlmb3JtIHNlcXVlbmNlcywgbWF4IG11c3QgYmVcclxuICAgICAqICAgICBhbiBpbnRlZ2VyIGluIHRoZSBbLTFlOSwgMWU5XSByYW5nZS4gRm9yIG11bHRpZm9ybSBzZXF1ZW5jZXMsIG1heCBjYW5cclxuICAgICAqICAgICBiZSBhbiBhcnJheSB3aXRoIG4gaW50ZWdlcnMsIGVhY2ggc3BlY2lmeWluZyB0aGUgdXBwZXIgYm91bmRhcnkgb2YgdGhlXHJcbiAgICAgKiAgICAgc2VxdWVuY2UgaWRlbnRpZmllZCBieSBpdHMgaW5kZXguIEluIHRoaXMgY2FzZSwgZWFjaCB2YWx1ZSBpbiBtYXggbXVzdFxyXG4gICAgICogICAgIGJlIHdpdGhpbiB0aGUgWy0xZTksIDFlOV0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tyZXBsYWNlbWVudD86IGJvb2xlYW58Ym9vbGVhbltdLCBiYXNlPzogbnVtYmVyfG51bWJlcltdLFxyXG4gICAgICogICAgIGNhY2hlU2l6ZT86IG51bWJlcn19IG9wdGlvbnMgQW4gb2JqZWN0IHdoaWNoIG1heSBjb250YWluIGFueSBvZiB0aGVcclxuICAgICAqICAgICBmb2xsb3dpbmcgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxib29sZWFuW119IHJlcGxhY2VtZW50IFNwZWNpZmllcyB3aGV0aGVyIHRoZSByYW5kb20gbnVtYmVyc1xyXG4gICAgICogICAgIHNob3VsZCBiZSBwaWNrZWQgd2l0aCByZXBsYWNlbWVudC4gSWYgdHJ1ZSwgdGhlIHJlc3VsdGluZyBudW1iZXJzIG1heVxyXG4gICAgICogICAgIGNvbnRhaW4gZHVwbGljYXRlIHZhbHVlcywgb3RoZXJ3aXNlIHRoZSBudW1iZXJzIHdpbGwgYWxsIGJlIHVuaXF1ZS4gRm9yXHJcbiAgICAgKiAgICAgbXVsdGlmb3JtIHNlcXVlbmNlcywgcmVwbGFjZW1lbnQgY2FuIGJlIGFuIGFycmF5IHdpdGggbiBib29sZWFuIHZhbHVlcyxcclxuICAgICAqICAgICBlYWNoIHNwZWNpZnlpbmcgd2hldGhlciB0aGUgc2VxdWVuY2UgaWRlbnRpZmllZCBieSBpdHMgaW5kZXggd2lsbCBiZVxyXG4gICAgICogICAgIGNyZWF0ZWQgd2l0aCAodHJ1ZSkgb3Igd2l0aG91dCAoZmFsc2UpIHJlcGxhY2VtZW50IChkZWZhdWx0IHRydWUpLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGJhc2UgVGhlIGJhc2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gZGlzcGxheSB0aGUgbnVtYmVycy5cclxuICAgICAqICAgICBWYWx1ZXMgYWxsb3dlZCBhcmUgMiwgOCwgMTAgYW5kIDE2LiBGb3IgbXVsdGlmb3JtIHNlcXVlbmNlcywgYmFzZSBjYW5cclxuICAgICAqICAgICBiZSBhbiBhcnJheSB3aXRoIG4gaW50ZWdlciB2YWx1ZXMgdGFrZW4gZnJvbSB0aGUgc2FtZSBzZXQsIGVhY2hcclxuICAgICAqICAgICBzcGVjaWZ5aW5nIHRoZSBiYXNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRpc3BsYXkgdGhlIHNlcXVlbmNlIGlkZW50aWZpZWRcclxuICAgICAqICAgICBieSBpdHMgaW5kZXggKGRlZmF1bHQgMTApLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNhY2hlU2l6ZSBUaGUgbnVtYmVyIG9mIHJlc3VsdC1zZXRzIGZvciB0aGUgY2FjaGUgdG8gdHJ5XHJcbiAgICAgKiAgICAgdG8gbWFpbnRhaW4gYXQgYW55IGdpdmVuIHRpbWUgKGRlZmF1bHQgMjAsIG1pbmltdW0gMikuXHJcbiAgICAgKiBAcmV0dXJucyB7UmFuZG9tT3JnQ2FjaGV9IEFuIGluc3RhbmNlIG9mIHRoZSBSYW5kb21PcmdDYWNoZSBjbGFzcyB3aGljaFxyXG4gICAgICogICAgIGNhbiBiZSBwb2xsZWQgZm9yIGFycmF5cyBvZiB0cnVlIHJhbmRvbSBpbnRlZ2VyIHNlcXVlbmNlcy5cclxuICAgICAqL1xyXG4gICAgY3JlYXRlSW50ZWdlclNlcXVlbmNlQ2FjaGUobiwgbGVuZ3RoLCBtaW4sIG1heCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IGNhY2hlU2l6ZSA9IG9wdGlvbnMuY2FjaGVTaXplIHx8IDIwO1xyXG4gICAgICAgIGlmIChjYWNoZVNpemUgPCAyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlU2l6ZSA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtYXhSZXF1ZXN0U2l6ZSA9IE1hdGguY2VpbChNYXRoLmxvZyh0aGlzLiNtYXhWYWx1ZShtYXgpIC0gdGhpcy4jbWluVmFsdWUobWluKSwgKyAxKVxyXG4gICAgICAgICAgICAvIE1hdGgubG9nKDIpICogbiAqIHRoaXMuI21heFZhbHVlKGxlbmd0aCkpO1xyXG5cclxuICAgICAgICAvLyBJZiBwb3NzaWJsZSwgbWFrZSByZXF1ZXN0cyBtb3JlIGVmZmljaWVudCBieSBidWxrLW9yZGVyaW5nIGZyb20gdGhlXHJcbiAgICAgICAgLy8gc2VydmVyLiBJbml0aWFsbHkgc2V0IGF0IGNhY2hlU2l6ZS8yLCBidXQgY2FjaGUgd2lsbCBhdXRvLXNocmluayBidWxrXHJcbiAgICAgICAgLy8gcmVxdWVzdCBzaXplIGlmIHJlcXVlc3RzIGNhbid0IGJlIGZ1bGZpbGxlZC5cclxuICAgICAgICBsZXQgYnVsa04gPSAwO1xyXG5cclxuICAgICAgICAvLyBpZiByZXBsYWNlbWVudCBpcyBhbiBhcnJheSwgY2hlY2sgaWYgYWxsIHZhbHVlcyBhcmUgc2V0IHRvIHRydWVcclxuICAgICAgICBsZXQgcmVwbDtcclxuICAgICAgICBpZiAob3B0aW9ucy5yZXBsYWNlbWVudCAmJiBBcnJheS5pc0FycmF5KG9wdGlvbnMucmVwbGFjZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJlcGwgPSBvcHRpb25zLnJlcGxhY2VtZW50LmV2ZXJ5KHggPT4geCA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVwbCA9IG9wdGlvbnMucmVwbGFjZW1lbnQgfHwgdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIGJ1bGsgcmVxdWVzdHMgY2FuIGJlIHVzZWQsIG1ha2UgYWRqdXN0bWVudHMgdG8gYXJyYXktdHlwZSBwYXJhbWV0ZXJzXHJcbiAgICAgICAgaWYgKHJlcGwpIHtcclxuICAgICAgICAgICAgYnVsa04gPSBjYWNoZVNpemUgLyAyO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy4jYWRqdXN0KGxlbmd0aCwgYnVsa04pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtaW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSB0aGlzLiNhZGp1c3QobWluLCBidWxrTik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1heCkpIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IHRoaXMuI2FkanVzdChtYXgsIGJ1bGtOKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVwbGFjZW1lbnQgJiYgQXJyYXkuaXNBcnJheShvcHRpb25zLnJlcGxhY2VtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXBsYWNlbWVudCA9IHRoaXMuI2FkanVzdChvcHRpb25zLnJlcGxhY2VtZW50LCBidWxrTik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmJhc2UgJiYgQXJyYXkuaXNBcnJheShvcHRpb25zLmJhc2UpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJhc2UgPSB0aGlzLiNhZGp1c3Qob3B0aW9ucy5iYXNlLCBidWxrTik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jaW50ZWdlclNlcXVlbmNlUmVxdWVzdChuLCBsZW5ndGgsIG1pbiwgbWF4LFxyXG4gICAgICAgICAgICBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKHJlcGwpIHtcclxuICAgICAgICAgICAgcmVxdWVzdC5wYXJhbXMubiA9IGJ1bGtOICogbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmFuZG9tT3JnQ2FjaGUodGhpcy4jc2VuZFJlcXVlc3QuYmluZCh0aGlzKSwgcmVxdWVzdCwgY2FjaGVTaXplLCBidWxrTiwgbiwgbWF4UmVxdWVzdFNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIFJhbmRvbU9yZ0NhY2hlIHRvIG9idGFpbiByYW5kb20gZGVjaW1hbCBmcmFjdGlvbnMuXHJcbiAgICAgKiBcclxuICAgICAqIFRoZSBSYW5kb21PcmdDYWNoZSBjYW4gYmUgcG9sbGVkIGZvciBuZXcgcmVzdWx0cyBjb25mb3JtaW5nIHRvIHRoZSBvdXRwdXRcclxuICAgICAqIGZvcm1hdCBvZiB0aGUgaW5wdXQgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBkZWNpbWFsIGZyYWN0aW9ucyB5b3UgbmVlZC4gTXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMWU0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFsUGxhY2VzIFRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdXNlLiBNdXN0XHJcbiAgICAgKiAgICAgYmUgd2l0aGluIHRoZSBbMSwyMF0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tyZXBsYWNlbWVudD86IGJvb2xlYW4sIGNhY2hlU2l6ZT86IG51bWJlcn19IG9wdGlvbnMgQW4gb2JqZWN0IHdoaWNoXHJcbiAgICAgKiAgICAgbWF5IGNvbnRhaW4gYW55IG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVwbGFjZW1lbnQ9dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIHJhbmRvbVxyXG4gICAgICogICAgIG51bWJlcnMgc2hvdWxkIGJlIHBpY2tlZCB3aXRoIHJlcGxhY2VtZW50LiBJZiB0cnVlLCB0aGUgcmVzdWx0aW5nIG51bWJlcnNcclxuICAgICAqICAgICBtYXkgY29udGFpbiBkdXBsaWNhdGUgdmFsdWVzLCBvdGhlcndpc2UgdGhlIG51bWJlcnMgd2lsbCBhbGwgYmUgdW5pcXVlXHJcbiAgICAgKiAgICAgKGRlZmF1bHQgdHJ1ZSkuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2FjaGVTaXplPTIwXSBUaGUgbnVtYmVyIG9mIHJlc3VsdC1zZXRzIGZvciB0aGUgY2FjaGVcclxuICAgICAqICAgICB0byB0cnkgdG8gbWFpbnRhaW4gYXQgYW55IGdpdmVuIHRpbWUgKGRlZmF1bHQgMjAsIG1pbmltdW0gMikuXHJcbiAgICAgKiBAcmV0dXJucyB7UmFuZG9tT3JnQ2FjaGV9IEFuIGluc3RhbmNlIG9mIHRoZSBSYW5kb21PcmdDYWNoZSBjbGFzcyB3aGljaFxyXG4gICAgICogICAgIGNhbiBiZSBwb2xsZWQgZm9yIGFycmF5cyBvZiB0cnVlIHJhbmRvbSBkZWNpbWFsIGZyYWN0aW9ucy5cclxuICAgICAqL1xyXG4gICAgY3JlYXRlRGVjaW1hbEZyYWN0aW9uQ2FjaGUobiwgZGVjaW1hbFBsYWNlcywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IGNhY2hlU2l6ZSA9IG9wdGlvbnMuY2FjaGVTaXplIHx8IDIwO1xyXG4gICAgICAgIGlmIChjYWNoZVNpemUgPCAyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlU2l6ZSA9IDI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2RlY2ltYWxGcmFjdGlvblJlcXVlc3QobiwgZGVjaW1hbFBsYWNlcywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGxldCBidWxrTiA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgcG9zc2libGUsIG1ha2UgcmVxdWVzdHMgbW9yZSBlZmZpY2llbnQgYnkgYnVsay1vcmRlcmluZyBmcm9tIHRoZVxyXG4gICAgICAgIC8vIHNlcnZlci4gSW5pdGlhbGx5IHNldCBhdCBjYWNoZVNpemUvMiwgYnV0IGNhY2hlIHdpbGwgYXV0by1zaHJpbmsgYnVsa1xyXG4gICAgICAgIC8vIHJlcXVlc3Qgc2l6ZSBpZiByZXF1ZXN0cyBjYW4ndCBiZSBmdWxmaWxsZWQuXHJcbiAgICAgICAgaWYgKCEoJ3JlcGxhY2VtZW50JyBpbiBvcHRpb25zKSB8fCBvcHRpb25zLnJlcGxhY2VtZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGJ1bGtOID0gY2FjaGVTaXplIC8gMjtcclxuICAgICAgICAgICAgcmVxdWVzdC5wYXJhbXMubiA9IG4gKiBidWxrTjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1heCBzaW5nbGUgcmVxdWVzdCBzaXplLCBpbiBiaXRzLCBmb3IgYWRqdXN0aW5nIGJ1bGsgcmVxdWVzdHMgbGF0ZXJcclxuICAgICAgICBsZXQgbWF4UmVxdWVzdFNpemUgPSBNYXRoLmNlaWwoTWF0aC5sb2coMTApIC8gTWF0aC5sb2coMikgKiBkZWNpbWFsUGxhY2VzICogbik7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmFuZG9tT3JnQ2FjaGUodGhpcy4jc2VuZFJlcXVlc3QuYmluZCh0aGlzKSwgcmVxdWVzdCwgY2FjaGVTaXplLCBidWxrTixcclxuICAgICAgICAgICAgbiwgbWF4UmVxdWVzdFNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIFJhbmRvbU9yZ0NhY2hlIHRvIG9idGFpbiByYW5kb20gbnVtYmVycyBmcm9tIGEgR2F1c3NpYW4gZGlzdHJpYnV0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiBUaGUgUmFuZG9tT3JnQ2FjaGUgY2FuIGJlIHBvbGxlZCBmb3IgbmV3IHJlc3VsdHMgY29uZm9ybWluZyB0byB0aGUgb3V0cHV0XHJcbiAgICAgKiBmb3JtYXQgb2YgdGhlIGlucHV0IHJlcXVlc3QuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBIb3cgbWFueSByYW5kb20gbnVtYmVycyB5b3UgbmVlZC4gTXVzdCBiZSB3aXRoaW4gdGhlXHJcbiAgICAgKiAgICAgWzEsMWU0XSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtZWFuIFRoZSBkaXN0cmlidXRpb24ncyBtZWFuLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbLTFlNiwxZTZdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YW5kYXJkRGV2aWF0aW9uIFRoZSBkaXN0cmlidXRpb24ncyBzdGFuZGFyZCBkZXZpYXRpb24uXHJcbiAgICAgKiAgICAgTXVzdCBiZSB3aXRoaW4gdGhlIFstMWU2LDFlNl0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2lnbmlmaWNhbnREaWdpdHMgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgdG8gdXNlLlxyXG4gICAgICogICAgIE11c3QgYmUgd2l0aGluIHRoZSBbMiwyMF0gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tjYWNoZVNpemU/OiBudW1iZXJ9fSBvcHRpb25zIEFuIG9iamVjdCB3aGljaCBtYXkgY29udGFpbiB0aGUgZm9sbG93aW5nXHJcbiAgICAgKiAgICAgb3B0aW9uYWwgcGFyYW1ldGVyOlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhY2hlU2l6ZT0yMF0gVGhlIG51bWJlciBvZiByZXN1bHQtc2V0cyBmb3IgdGhlIGNhY2hlXHJcbiAgICAgKiAgICAgdG8gdHJ5IHRvIG1haW50YWluIGF0IGFueSBnaXZlbiB0aW1lIChkZWZhdWx0IDIwLCBtaW5pbXVtIDIpLlxyXG4gICAgICogQHJldHVybnMge1JhbmRvbU9yZ0NhY2hlfSBBbiBpbnN0YW5jZSBvZiB0aGUgUmFuZG9tT3JnQ2FjaGUgY2xhc3Mgd2hpY2hcclxuICAgICAqICAgICBjYW4gYmUgcG9sbGVkIGZvciBhcnJheXMgb2YgdHJ1ZSByYW5kb20gbnVtYmVycyBmcm9tIGEgR2F1c3NpYW5cclxuICAgICAqICAgICBkaXN0cmlidXRpb24uXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUdhdXNzaWFuQ2FjaGUobiwgbWVhbiwgc3RhbmRhcmREZXZpYXRpb24sIHNpZ25pZmljYW50RGlnaXRzLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgY2FjaGVTaXplID0gb3B0aW9ucy5jYWNoZVNpemUgfHwgMjA7XHJcbiAgICAgICAgaWYgKGNhY2hlU2l6ZSA8IDIpIHtcclxuICAgICAgICAgICAgY2FjaGVTaXplID0gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1heCBzaW5nbGUgcmVxdWVzdCBzaXplLCBpbiBiaXRzLCBmb3IgYWRqdXN0aW5nIGJ1bGsgcmVxdWVzdHMgbGF0ZXJcclxuICAgICAgICBsZXQgbWF4UmVxdWVzdFNpemUgPSBNYXRoLmNlaWwoTWF0aC5sb2coTWF0aC5wb3coMTAsIHNpZ25pZmljYW50RGlnaXRzKSkgLyBNYXRoLmxvZygyKSAqIG4pO1xyXG5cclxuICAgICAgICAvLyBtYWtlIHJlcXVlc3RzIG1vcmUgZWZmaWNpZW50IGJ5IGJ1bGstb3JkZXJpbmcgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICAgIC8vIEluaXRpYWxseSBzZXQgYXQgY2FjaGVTaXplLzIsIGJ1dCBjYWNoZSB3aWxsIGF1dG8tc2hyaW5rIGJ1bGsgcmVxdWVzdFxyXG4gICAgICAgIC8vIHNpemUgaWYgcmVxdWVzdHMgY2FuJ3QgYmUgZnVsZmlsbGVkLlxyXG4gICAgICAgIGxldCBidWxrTiA9IGNhY2hlU2l6ZSAvIDI7XHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLiNnYXVzc2lhblJlcXVlc3QobiAqIGJ1bGtOLCBtZWFuLCBzdGFuZGFyZERldmlhdGlvbixcclxuICAgICAgICAgICAgc2lnbmlmaWNhbnREaWdpdHMpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFJhbmRvbU9yZ0NhY2hlKHRoaXMuI3NlbmRSZXF1ZXN0LmJpbmQodGhpcyksIHJlcXVlc3QsIGNhY2hlU2l6ZSwgYnVsa04sXHJcbiAgICAgICAgICAgIG4sIG1heFJlcXVlc3RTaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBSYW5kb21PcmdDYWNoZSB0byBvYnRhaW4gcmFuZG9tIHN0cmluZ3MuXHJcbiAgICAgKiBcclxuICAgICAqIFRoZSBSYW5kb21PcmdDYWNoZSBjYW4gYmUgcG9sbGVkIGZvciBuZXcgcmVzdWx0cyBjb25mb3JtaW5nIHRvIHRoZSBvdXRwdXRcclxuICAgICAqIGZvcm1hdCBvZiB0aGUgaW5wdXQgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEhvdyBtYW55IHJhbmRvbSBzdHJpbmdzIHlvdSBuZWVkLiBNdXN0IGJlIHdpdGhpbiB0aGVcclxuICAgICAqICAgICBbMSwxZTRdIHJhbmdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIGVhY2ggc3RyaW5nLiBNdXN0IGJlIHdpdGhpbiB0aGUgWzEsMjBdXHJcbiAgICAgKiAgICAgcmFuZ2UuIEFsbCBzdHJpbmdzIHdpbGwgYmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcnMgQSBzdHJpbmcgdGhhdCBjb250YWlucyB0aGUgc2V0IG9mIGNoYXJhY3RlcnNcclxuICAgICAqICAgICB0aGF0IGFyZSBhbGxvd2VkIHRvIG9jY3VyIGluIHRoZSByYW5kb20gc3RyaW5ncy4gVGhlIG1heGltdW0gbnVtYmVyXHJcbiAgICAgKiAgICAgb2YgY2hhcmFjdGVycyBpcyA4MC5cclxuICAgICAqIEBwYXJhbSB7e3JlcGxhY2VtZW50PzogYm9vbGVhbiwgY2FjaGVTaXplPzogbnVtYmVyfX0gb3B0aW9ucyBBbiBvYmplY3Qgd2hpY2hcclxuICAgICAqICAgICBtYXkgY29udGFpbiBhbnkgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlbWVudD10cnVlXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgcmFuZG9tXHJcbiAgICAgKiAgICAgc3RyaW5ncyBzaG91bGQgYmUgcGlja2VkIHdpdGggcmVwbGFjZW1lbnQuIElmIHRydWUsIHRoZSByZXN1bHRpbmcgbGlzdFxyXG4gICAgICogICAgIG9mIHN0cmluZ3MgbWF5IGNvbnRhaW4gZHVwbGljYXRlcywgb3RoZXJ3aXNlIHRoZSBzdHJpbmdzIHdpbGwgYWxsIGJlXHJcbiAgICAgKiAgICAgdW5pcXVlIChkZWZhdWx0IHRydWUpLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhY2hlU2l6ZT0yMF0gVGhlIG51bWJlciBvZiByZXN1bHQtc2V0cyBmb3IgdGhlXHJcbiAgICAgKiAgICAgY2FjaGUgdG8gdHJ5IHRvIG1haW50YWluIGF0IGFueSBnaXZlbiB0aW1lIChkZWZhdWx0IDIwLCBtaW5pbXVtIDIpLlxyXG4gICAgICogQHJldHVybnMge1JhbmRvbU9yZ0NhY2hlfSBBbiBpbnN0YW5jZSBvZiB0aGUgUmFuZG9tT3JnQ2FjaGUgY2xhc3Mgd2hpY2hcclxuICAgICAqICAgICBjYW4gYmUgcG9sbGVkIGZvciBhcnJheXMgb2YgdHJ1ZSByYW5kb20gc3RyaW5ncy5cclxuICAgICAqL1xyXG4gICAgY3JlYXRlU3RyaW5nQ2FjaGUobiwgbGVuZ3RoLCBjaGFyYWN0ZXJzLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgY2FjaGVTaXplID0gb3B0aW9ucy5jYWNoZVNpemUgfHwgMjA7XHJcbiAgICAgICAgaWYgKGNhY2hlU2l6ZSA8IDIpIHtcclxuICAgICAgICAgICAgY2FjaGVTaXplID0gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jc3RyaW5nUmVxdWVzdChuLCBsZW5ndGgsIGNoYXJhY3RlcnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyBtYXggc2luZ2xlIHJlcXVlc3Qgc2l6ZSwgaW4gYml0cywgZm9yIGFkanVzdGluZyBidWxrIHJlcXVlc3RzIGxhdGVyXHJcbiAgICAgICAgbGV0IG1heFJlcXVlc3RTaXplID0gTWF0aC5jZWlsKE1hdGgubG9nKGNoYXJhY3RlcnMubGVuZ3RoKSAvIE1hdGgubG9nKDIpICogbGVuZ3RoICogbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgcG9zc2libGUsIG1ha2UgcmVxdWVzdHMgbW9yZSBlZmZpY2llbnQgYnkgYnVsay1vcmRlcmluZyBmcm9tIHRoZVxyXG4gICAgICAgIC8vIHNlcnZlci4gSW5pdGlhbGx5IHNldCBhdCBjYWNoZV9zaXplLzIsIGJ1dCBjYWNoZSB3aWxsIGF1dG8tc2hyaW5rIGJ1bGtcclxuICAgICAgICAvLyByZXF1ZXN0IHNpemUgaWYgcmVxdWVzdHMgY2FuJ3QgYmUgZnVsZmlsbGVkLlxyXG4gICAgICAgIGxldCBidWxrTiA9IDA7XHJcbiAgICAgICAgaWYgKCEoJ3JlcGxhY2VtZW50JyBpbiBvcHRpb25zKSB8fCBvcHRpb25zLnJlcGxhY2VtZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGJ1bGtOID0gY2FjaGVTaXplIC8gMjtcclxuICAgICAgICAgICAgcmVxdWVzdC5wYXJhbXMubiA9IG4gKiBidWxrTjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5kb21PcmdDYWNoZSh0aGlzLiNzZW5kUmVxdWVzdC5iaW5kKHRoaXMpLCByZXF1ZXN0LCBjYWNoZVNpemUsIGJ1bGtOLFxyXG4gICAgICAgICAgICBuLCBtYXhSZXF1ZXN0U2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgUmFuZG9tT3JnQ2FjaGUgdG8gb2J0YWluIFVVSURzLlxyXG4gICAgICogXHJcbiAgICAgKiBUaGUgUmFuZG9tT3JnQ2FjaGUgY2FuIGJlIHBvbGxlZCBmb3IgbmV3IHJlc3VsdHMgY29uZm9ybWluZyB0byB0aGUgb3V0cHV0XHJcbiAgICAgKiBmb3JtYXQgb2YgdGhlIGlucHV0IHJlcXVlc3QuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBIb3cgbWFueSByYW5kb20gVVVJRHMgeW91IG5lZWQuIE11c3QgYmUgd2l0aGluIHRoZVxyXG4gICAgICogICAgIFsxLDFlM10gcmFuZ2UuXHJcbiAgICAgKiBAcGFyYW0ge3tjYWNoZVNpemU/OiBudW1iZXJ9fSBvcHRpb25zIEFuIG9iamVjdCB3aGljaCBtYXkgY29udGFpbiB0aGUgZm9sbG93aW5nXHJcbiAgICAgKiAgICAgb3B0aW9uYWwgcGFyYW1ldGVyOlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhY2hlU2l6ZT0xMF0gVGhlIG51bWJlciBvZiByZXN1bHQtc2V0cyBmb3IgdGhlIGNhY2hlXHJcbiAgICAgKiAgICAgdG8gdHJ5IHRvIG1haW50YWluIGF0IGFueSBnaXZlbiB0aW1lIChkZWZhdWx0IDEwLCBtaW5pbXVtIDIpLlxyXG4gICAgICogQHJldHVybnMge1JhbmRvbU9yZ0NhY2hlfSBBbiBpbnN0YW5jZSBvZiB0aGUgUmFuZG9tT3JnQ2FjaGUgY2xhc3Mgd2hpY2hcclxuICAgICAqICAgICBjYW4gYmUgcG9sbGVkIGZvciBhcnJheXMgb2YgdHJ1ZSByYW5kb20gVVVJRHMuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVVVSURDYWNoZShuLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgY2FjaGVTaXplID0gb3B0aW9ucy5jYWNoZVNpemUgfHwgMTA7XHJcbiAgICAgICAgaWYgKGNhY2hlU2l6ZSA8IDIpIHtcclxuICAgICAgICAgICAgY2FjaGVTaXplID0gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1heCBzaW5nbGUgcmVxdWVzdCBzaXplLCBpbiBiaXRzLCBmb3IgYWRqdXN0aW5nIGJ1bGsgcmVxdWVzdHMgbGF0ZXJcclxuICAgICAgICBsZXQgbWF4UmVxdWVzdFNpemUgPSBuICogUmFuZG9tT3JnQ2xpZW50LlVVSURfU0laRTtcclxuXHJcbiAgICAgICAgLy8gbWFrZSByZXF1ZXN0cyBtb3JlIGVmZmljaWVudCBieSBidWxrLW9yZGVyaW5nIGZyb20gdGhlIHNlcnZlci4gSW5pdGlhbGx5XHJcbiAgICAgICAgLy8gc2V0IGF0IGNhY2hlU2l6ZS8yLCBidXQgY2FjaGUgd2lsbCBhdXRvLXNocmluayBidWxrIHJlcXVlc3Qgc2l6ZSBpZlxyXG4gICAgICAgIC8vIHJlcXVlc3RzIGNhbid0IGJlIGZ1bGZpbGxlZC5cclxuICAgICAgICBsZXQgYnVsa04gPSBjYWNoZVNpemUgLyAyO1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jVVVJRFJlcXVlc3QobiAqIGJ1bGtOKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5kb21PcmdDYWNoZSh0aGlzLiNzZW5kUmVxdWVzdC5iaW5kKHRoaXMpLCByZXF1ZXN0LCBjYWNoZVNpemUsIGJ1bGtOLFxyXG4gICAgICAgICAgICBuLCBtYXhSZXF1ZXN0U2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgUmFuZG9tT3JnQ2FjaGUgdG8gb2J0YWluIHJhbmRvbSBibG9icy5cclxuICAgICAqIFxyXG4gICAgICogVGhlIFJhbmRvbU9yZ0NhY2hlIGNhbiBiZSBwb2xsZWQgZm9yIG5ldyByZXN1bHRzIGNvbmZvcm1pbmcgdG8gdGhlIG91dHB1dFxyXG4gICAgICogZm9ybWF0IG9mIHRoZSBpbnB1dCByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gSG93IG1hbnkgcmFuZG9tIGJsb2JzIHlvdSBuZWVkLiBuKihjYWNoZVNpemUvMikgbXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMTAwXSByYW5nZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIFRoZSBzaXplIG9mIGVhY2ggYmxvYiwgbWVhc3VyZWQgaW4gYml0cy4gTXVzdCBiZVxyXG4gICAgICogICAgIHdpdGhpbiB0aGUgWzEsMTA0ODU3Nl0gcmFuZ2UgYW5kIG11c3QgYmUgZGl2aXNpYmxlIGJ5IDguXHJcbiAgICAgKiBAcGFyYW0ge3tmb3JtYXQ/OiBzdHJpbmcsIGNhY2hlU2l6ZT86IG51bWJlcn19IG9wdGlvbnMgQW4gb2JqZWN0IHdoaWNoIG1heVxyXG4gICAgICogICAgIGNvbnRhaW4gYW55IG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9YmFzZTY0XSBTcGVjaWZpZXMgdGhlIGZvcm1hdCBpbiB3aGljaCB0aGVcclxuICAgICAqICAgICBibG9icyB3aWxsIGJlIHJldHVybmVkLiBWYWx1ZXMgYWxsb3dlZCBhcmUgJ2Jhc2U2NCcgYW5kICdoZXgnIChkZWZhdWx0XHJcbiAgICAgKiAgICAgJ2Jhc2U2NCcpLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhY2hlU2l6ZT0xMF0gVGhlIG51bWJlciBvZiByZXN1bHQtc2V0cyBmb3IgdGhlIGNhY2hlXHJcbiAgICAgKiAgICAgdG8gdHJ5IHRvIG1haW50YWluIGF0IGFueSBnaXZlbiB0aW1lIChkZWZhdWx0IDEwLCBtaW5pbXVtIDIpLlxyXG4gICAgICogQHJldHVybnMge1JhbmRvbU9yZ0NhY2hlfSBBbiBpbnN0YW5jZSBvZiB0aGUgUmFuZG9tT3JnQ2FjaGUgY2xhc3Mgd2hpY2hcclxuICAgICAqICAgICBjYW4gYmUgcG9sbGVkIGZvciBhcnJheXMgb2YgdHJ1ZSByYW5kb20gYmxvYnMgYXMgc3RyaW5ncy5cclxuICAgICAqIEBzZWUge0BsaW5rIFJhbmRvbU9yZ0NsaWVudCNCTE9CX0ZPUk1BVF9CQVNFNjR9IGZvciAnYmFzZTY0JyAoZGVmYXVsdCkuXHJcbiAgICAgKiBAc2VlIHtAbGluayBSYW5kb21PcmdDbGllbnQjQkxPQl9GT1JNQVRfSEVYfSBmb3IgJ2hleCcuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUJsb2JDYWNoZShuLCBzaXplLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBsZXQgY2FjaGVTaXplID0gb3B0aW9ucy5jYWNoZVNpemUgfHwgMTA7XHJcbiAgICAgICAgaWYgKGNhY2hlU2l6ZSA8IDIpIHtcclxuICAgICAgICAgICAgY2FjaGVTaXplID0gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1heCBzaW5nbGUgcmVxdWVzdCBzaXplLCBpbiBiaXRzLCBmb3IgYWRqdXN0aW5nIGJ1bGsgcmVxdWVzdHMgbGF0ZXJcclxuICAgICAgICBsZXQgbWF4UmVxdWVzdFNpemUgPSBuICogc2l6ZTtcclxuXHJcbiAgICAgICAgLy8gbWFrZSByZXF1ZXN0cyBtb3JlIGVmZmljaWVudCBieSBidWxrLW9yZGVyaW5nIGZyb20gdGhlIHNlcnZlci4gSW5pdGlhbGx5XHJcbiAgICAgICAgLy8gc2V0IGF0IGNhY2hlU2l6ZS8yLCBidXQgY2FjaGUgd2lsbCBhdXRvLXNocmluayBidWxrIHJlcXVlc3Qgc2l6ZSBpZlxyXG4gICAgICAgIC8vIHJlcXVlc3RzIGNhbid0IGJlIGZ1bGZpbGxlZC5cclxuICAgICAgICBsZXQgYnVsa04gPSBjYWNoZVNpemUgLyAyO1xyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy4jYmxvYlJlcXVlc3QobiAqIGJ1bGtOLCBzaXplLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5kb21PcmdDYWNoZSh0aGlzLiNzZW5kUmVxdWVzdC5iaW5kKHRoaXMpLCByZXF1ZXN0LCBjYWNoZVNpemUsIGJ1bGtOLFxyXG4gICAgICAgICAgICBuLCBtYXhSZXF1ZXN0U2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3JlIHNlbmQgcmVxdWVzdCBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IFJlcXVlc3Qgb2JqZWN0IHRvIHNlbmQuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBBIFByb21pc2Ugd2hpY2gsIGlmIHJlc29sdmVkIHN1Y2Nlc3NmdWxseSxcclxuICAgICAqICAgICByZXByZXNlbnRzIHRoZSByZXNwb25zZSBwcm92aWRlZCBieSB0aGUgc2VydmVyLiBFbHNlLCBpdCBtYXkgYmUgcmVqZWN0ZWRcclxuICAgICAqICAgICB3aXRoIG9uZSBvZiB0aGUgZm9sbG93aW5nIGVycm9yczpcclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ1NlbmRUaW1lb3V0RXJyb3J9IFRocm93biB3aGVuIGJsb2NraW5nIHRpbWVvdXQgaXMgZXhjZWVkZWRcclxuICAgICAqICAgICBiZWZvcmUgdGhlIHJlcXVlc3QgY2FuIGJlIHNlbnQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5IGhhcyBiZWVuXHJcbiAgICAgKiAgICAgc3RvcHBlZC5cclxuICAgICAqIEB0aHJvd3Mge1JhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3J9IFRocm93biB3aGVuIHRoZSBBUEkga2V5J3Mgc2VydmVyXHJcbiAgICAgKiAgICAgcmVxdWVzdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgQVBJIGtleSdzIHNlcnZlclxyXG4gICAgICogICAgIGJpdHMgYWxsb3dhbmNlIGhhcyBiZWVuIGV4Y2VlZGVkLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3J9IFRocm93biB3aGVuIGEgSFRUUCAyMDAgT0sgcmVzcG9uc2VcclxuICAgICAqICAgICBpcyBub3QgcmVjZWl2ZWQuXHJcbiAgICAgKiBAdGhyb3dzIHtSYW5kb21PcmdSQU5ET01PUkdFcnJvcn0gVGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGEgUkFORE9NLk9SR1xyXG4gICAgICogICAgIEVycm9yLlxyXG4gICAgICogQHRocm93cyB7UmFuZG9tT3JnSlNPTlJQQ0Vycm9yfSBUaHJvd24gd2hlbiB0aGUgc2VydmVyIHJldHVybnMgYSBKU09OLVJQQyBFcnJvci5cclxuICAgICAqL1xyXG4gICAgI3NlbmRSZXF1ZXN0ID0gYXN5bmMgZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAvLyBJZiBhIGJhY2stb2ZmIGlzIHNldCwgbm8gbW9yZSByZXF1ZXN0cyBjYW4gYmUgaXNzdWVkIHVudGlsIHRoZSByZXF1aXJlZCBcclxuICAgICAgICAvLyBiYWNrLW9mZiB0aW1lIGlzIHVwLlxyXG4gICAgICAgIGlmICh0aGlzLiNiYWNrb2ZmICE9IC0xKSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFRpbWUgbm90IHlldCB1cCwgdGhyb3cgZXJyb3IuXHJcbiAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIDwgdGhpcy4jYmFja29mZikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3IodGhpcy4jYmFja29mZkVycm9yKTtcclxuICAgICAgICAgICAgLy8gVGltZSBpcyB1cCwgY2xlYXIgYmFjay1vZmYuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNiYWNrb2ZmID0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNiYWNrb2ZmRXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgd2FpdCA9IHRoaXMuI2Fkdmlzb3J5RGVsYXkgLSAoRGF0ZS5ub3coKSAtIHRoaXMuI2xhc3RSZXNwb25zZVJlY2VpdmVkVGltZSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLiNibG9ja2luZ1RpbWVvdXQgIT0gLTEgJiYgd2FpdCA+IHRoaXMuI2Jsb2NraW5nVGltZW91dCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcignVGhlIHNlcnZlciBhZHZpc29yeSBkZWxheSBvZiAnIFxyXG4gICAgICAgICAgICAgICAgKyB3YWl0ICsgJ21pbGxpcyBpcyBncmVhdGVyIHRoYW4gdGhlIGRlZmluZWQgbWF4aW11bSBhbGxvd2VkICdcclxuICAgICAgICAgICAgICAgICsgJ2Jsb2NraW5nIHRpbWUgb2YgJyArIHRoaXMuI2Jsb2NraW5nVGltZW91dCArICdtaWxsaXMuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2FpdCA+IDApIHsgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIHdhaXQpKTsgfVxyXG5cclxuICAgICAgICBsZXQgaHR0cFRpbWVvdXQgPSB0aGlzLiNodHRwVGltZW91dDtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub3BlbignUE9TVCcsICdodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvaW52b2tlJyk7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcignVGhlIG1heGltdW0gJ1xyXG4gICAgICAgICAgICAgICAgICAgICsgJ2FsbG93ZWQgYmxvY2tpbmcgdGltZSBvZiAnICsgaHR0cFRpbWVvdXQgKyAnbWlsbGlzIGhhcyAnXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnYmVlbiBleGNlZWRlZCB3aGlsZSB3YWl0aW5nIGZvciB0aGUgc2VydmVyIHRvIHJlc3BvbmQuJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3IoJ0Vycm9yOiAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1bmRvY3VtZW50ZWQgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCcqKiBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgdGhlIHRyYW5zYWN0aW9uLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSBodHRwVGltZW91dDtcclxuICAgICAgICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxdWVzdCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSByZXNwb25zZSB0byBnZXQgYW4gb2JqZWN0XHJcbiAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgZXJyb3JzXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvZGUgPSByZXNwb25zZS5lcnJvci5jb2RlO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSByZXNwb25zZS5lcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5lcnJvci5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlID09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3IoJ0Vycm9yICdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2RlICsgJzogJyArIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2RlID09IDQwMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaWRuaWdodFVUQyA9IG5ldyBEYXRlKCkuc2V0VVRDSG91cnMoMCwwLDAsMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jYmFja29mZiA9ICttaWRuaWdodFVUQztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNiYWNrb2ZmRXJyb3IgPSAnRXJyb3IgJyArIGNvZGUgKyAnOiAnICsgbWVzc2FnZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcmVxdWVzdHNMZWZ0ID0gZGF0YVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3IodGhpcy4jYmFja29mZkVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA9PSA0MDMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNiaXRzTGVmdCA9IGRhdGFbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmRvbU9yZ0luc3VmZmljaWVudEJpdHNFcnJvcignRXJyb3InXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29kZSArICc6ICcgKyBtZXNzYWdlLCB0aGlzLiNiaXRzTGVmdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFJhbmRvbU9yZ0NsaWVudC4jRVJST1JfQ09ERVMuaW5jbHVkZXMoY29kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSYW5kb21PcmdSQU5ET01PUkdFcnJvciBmcm9tIFJBTkRPTS5PUkcgRXJyb3JzOiBcclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2FwaS5yYW5kb20ub3JnL2pzb24tcnBjLzQvZXJyb3ItY29kZXNcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZG9tT3JnUkFORE9NT1JHRXJyb3IoJ0Vycm9yICdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2RlICsgJzogJyArIG1lc3NhZ2UsIGNvZGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSYW5kb21PcmdKU09OUlBDRXJyb3IgZnJvbSBKU09OLVJQQyBFcnJvcnM6IFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vYXBpLnJhbmRvbS5vcmcvanNvbi1ycGMvNC9lcnJvci1jb2Rlc1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5kb21PcmdKU09OUlBDRXJyb3IoJ0Vycm9yICdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2RlICsgJzogJyArIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNZXRob2RzIHdoaWNoIGRvIG5vdCB1cGRhdGUgZmllbGRzIHN1Y2ggYXMgcmVxdWVzdHNMZWZ0LCBiaXRzTGVmdCBvclxyXG4gICAgICAgICAgICAvLyBhZHZpc29yeURlbGF5LlxyXG4gICAgICAgICAgICBsZXQgaW5kZXBlbmRlbnRfbWV0aG9kcyA9IFtcclxuICAgICAgICAgICAgICAgIFJhbmRvbU9yZ0NsaWVudC4jVkVSSUZZX1NJR05BVFVSRV9NRVRIT0QsXHJcbiAgICAgICAgICAgICAgICBSYW5kb21PcmdDbGllbnQuI0dFVF9SRVNVTFRfTUVUSE9ELFxyXG4gICAgICAgICAgICAgICAgUmFuZG9tT3JnQ2xpZW50LiNDUkVBVEVfVElDS0VUX01FVEhPRCxcclxuICAgICAgICAgICAgICAgIFJhbmRvbU9yZ0NsaWVudC4jTElTVF9USUNLRVRfTUVUSE9ELFxyXG4gICAgICAgICAgICAgICAgUmFuZG9tT3JnQ2xpZW50LiNHRVRfVElDS0VUX01FVEhPRFxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgIGlmICghaW5kZXBlbmRlbnRfbWV0aG9kcy5pbmNsdWRlcyhyZXF1ZXN0Lm1ldGhvZCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3JlcXVlc3RzTGVmdCA9IHJlc3BvbnNlLnJlc3VsdC5yZXF1ZXN0c0xlZnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNiaXRzTGVmdCA9IHJlc3BvbnNlLnJlc3VsdC5iaXRzTGVmdDtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuYWR2aXNvcnlEZWxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2Fkdmlzb3J5RGVsYXkgPSByZXNwb25zZS5yZXN1bHQuYWR2aXNvcnlEZWxheTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGRlZmF1bHQgaWYgbm9uZSBmcm9tIHNlcnZlci5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNhZHZpc29yeURlbGF5ID0gUmFuZG9tT3JnQ2xpZW50LiNERUZBVUxUX0RFTEFZO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlIGRlZmF1bHQgYWR2aXNvcnlEZWxheS5cclxuICAgICAgICAgICAgICAgIHRoaXMuI2Fkdmlzb3J5RGVsYXkgPSBSYW5kb21PcmdDbGllbnQuI0RFRkFVTFRfREVMQVk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy4jbGFzdFJlc3BvbnNlUmVjZWl2ZWRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJc3N1ZXMgYSBnZXRVc2FnZSByZXF1ZXN0IGFuZCByZXR1cm5zIHRoZSBpbmZvcm1hdGlvbiBvbiB0aGUgdXNhZ2VcclxuICAgICAqIG9mIHRoZSBBUEkga2V5IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNsaWVudCwgYXMgaXQgaXMgcmV0dXJuZWQgYnkgdGhlXHJcbiAgICAgKiBzZXJ2ZXIuIENhbiBhbHNvIGJlIHVzZWQgdG8gdXBkYXRlIGJpdHMgYW5kIHJlcXVlc3RzIGxlZnQuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBQcm9taXNlLCB3aGljaCBpZiByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHJlcHJlc2VudHNcclxuICAgICAqICAgICB0aGUgcmVzdWx0IGZpZWxkIGFzIHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIuXHJcbiAgICAgKi9cclxuICAgICNnZXRVc2FnZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuI2dlbmVyYXRlS2V5ZWRSZXF1ZXN0KFJhbmRvbU9yZ0NsaWVudC4jR0VUX1VTQUdFX01FVEhPRCwge30pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNleHRyYWN0UmVzdWx0KHRoaXMuI3NlbmRSZXF1ZXN0KHJlcXVlc3QpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgZ2VuZXJpYyByZXF1ZXN0IHBhcmFtZXRlcnMgdG8gY3VzdG9tIHJlcXVlc3QuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIE1ldGhvZCB0byBzZW5kIHJlcXVlc3QgdG8uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIEN1c3RvbSBwYXJhbWV0ZXJzIHRvIGdlbmVyYXRlIHJlcXVlc3QgYXJvdW5kLlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gRmxlc2hlZCBvdXQgcmVxdWVzdCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgICNnZW5lcmF0ZVJlcXVlc3QgPSAobWV0aG9kLCBwYXJhbXMpID0+IHtcclxuICAgICAgICBsZXQgaWQgPSB0aGlzLiN1dWlkdjQoKTtcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXHJcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcclxuICAgICAgICAgICAgaWQ6IGlkXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgZ2VuZXJpYyByZXF1ZXN0IHBhcmFtZXRlcnMgYW5kIEFQSSBrZXkgdG8gY3VzdG9tIHJlcXVlc3QuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIE1ldGhvZCB0byBzZW5kIHJlcXVlc3QgdG8uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIEN1c3RvbSBwYXJhbWV0ZXJzIHRvIGdlbmVyYXRlIHJlcXVlc3QgYXJvdW5kLlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gRmxlc2hlZCBvdXQgcmVxdWVzdCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgICNnZW5lcmF0ZUtleWVkUmVxdWVzdCA9IChtZXRob2QsIHBhcmFtcykgPT4ge1xyXG4gICAgICAgIHBhcmFtc1snYXBpS2V5J10gPSB0aGlzLiNhcGlLZXk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2dlbmVyYXRlUmVxdWVzdChtZXRob2QsIHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyYWN0cyBiYXNpYyBkYXRhIGZyb20gcmVzcG9uc2Ugb2JqZWN0LlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIE9iamVjdCBmcm9tIHdoaWNoIHRvIGV4dHJhY3QgZGF0YS5cclxuICAgICAqIEByZXR1cm5zIHthbnlbXX0gRXh0cmFjdGVkIGRhdGEgYXMgYW4gYXJyYXkuXHJcbiAgICAgKi9cclxuICAgICNleHRyYWN0QmFzaWMgPSBhc3luYyByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnJlc3VsdC5yYW5kb20uZGF0YTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgZGF0YSwgcmFuZG9tIGZpZWxkIGFuZCBzaWduYXR1cmUgZnJvbSByZXNwb25zZSBhbmQgcmV0dXJucyB0aGVzZSBhc1xyXG4gICAgICogYSBuZXcgb2JqZWN0LlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIE9iamVjdCBmcm9tIHdoaWNoIHRvIGV4dHJhY3QgdGhlIGluZm9ybWF0aW9uLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8e2RhdGE6IG51bWJlcltdfG51bWJlcltdW118c3RyaW5nW118c3RyaW5nW11bXSwgcmFuZG9tOiBPYmplY3QsXHJcbiAgICAgKiAgICAgc2lnbmF0dXJlOiBzdHJpbmd9Pn0gVGhlIHJlc3BvbnNlIHNwbGl0IGludG8gZGF0YSwgcmFuZG9tIGFuZCBzaWduYXR1cmUgZmllbGRzLlxyXG4gICAgICovXHJcbiAgICAjZXh0cmFjdFNpZ25lZCA9IGFzeW5jIHJlc3BvbnNlID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEucmVzdWx0LnJhbmRvbS5kYXRhLFxyXG4gICAgICAgICAgICAgICAgcmFuZG9tOiBkYXRhLnJlc3VsdC5yYW5kb20sXHJcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6IGRhdGEucmVzdWx0LnNpZ25hdHVyZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB2ZXJpZmljYXRpb24gcmVzcG9uc2UgYXMgc2VwYXJhdGUgZnJvbSByZXNwb25zZSBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgUmVzcG9uc2Ugb2JqZWN0IGZyb20gd2hpY2ggdG8gZXh0cmFjdFxyXG4gICAgICogICAgIHZlcmlmaWNhdGlvbiByZXNwb25zZS5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBWZXJpZmljYXRpb24gc3VjY2Vzcy5cclxuICAgICAqL1xyXG4gICAgI2V4dHJhY3RWZXJpZmljYXRpb24gPSBhc3luYyByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnJlc3VsdC5hdXRoZW50aWNpdHk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyYWN0cyB0aGUgaW5mb3JtYXRpb24gcmV0dXJuZWQgdW5kZXIgdGhlICdyZXN1bHQnIGZpZWxkLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIFJlc3BvbnNlIG9iamVjdCByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBBbGwgZGF0YSBjb250YWluZWQgaW4gdGhlICdyZXN1bHQnIGZpZWxkLlxyXG4gICAgICovXHJcbiAgICAjZXh0cmFjdFJlc3VsdCA9IGFzeW5jIHJlc3BvbnNlID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHJlcXVlc3RzIGZvciBpbnRlZ2Vycy5cclxuICAgICAqL1xyXG4gICAgI2ludGVnZXJSZXF1ZXN0ID0gKG4sIG1pbiwgbWF4LCB7IHJlcGxhY2VtZW50ID0gdHJ1ZSwgYmFzZSA9IDEwLCBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uID0gbnVsbCwgbGljZW5zZURhdGEgPSBudWxsLCB1c2VyRGF0YSA9IG51bGwsIHRpY2tldElkID0gbnVsbCB9ID0ge30sIHNpZ25lZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgbjogbixcclxuICAgICAgICAgICAgbWluOiBtaW4sXHJcbiAgICAgICAgICAgIG1heDogbWF4LFxyXG4gICAgICAgICAgICByZXBsYWNlbWVudDogcmVwbGFjZW1lbnQsXHJcbiAgICAgICAgICAgIGJhc2U6IGJhc2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwYXJhbXMgPSB0aGlzLiNhZGRPcHRpb25hbFBhcmFtcyhwYXJhbXMsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24sXHJcbiAgICAgICAgICAgIGxpY2Vuc2VEYXRhLCB1c2VyRGF0YSwgdGlja2V0SWQsIHNpZ25lZCk7XHJcblxyXG4gICAgICAgIGxldCBtZXRob2QgPSBzaWduZWQgPyBSYW5kb21PcmdDbGllbnQuI1NJR05FRF9JTlRFR0VSX01FVEhPRCA6IFJhbmRvbU9yZ0NsaWVudC4jSU5URUdFUl9NRVRIT0Q7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLiNnZW5lcmF0ZUtleWVkUmVxdWVzdChtZXRob2QsIHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgcmVxdWVzdHMgZm9yIGludGVnZXIgc2VxdWVuY2VzLlxyXG4gICAgICovXHJcbiAgICAjaW50ZWdlclNlcXVlbmNlUmVxdWVzdCA9IChuLCBsZW5ndGgsIG1pbiwgbWF4LCB7IHJlcGxhY2VtZW50ID0gdHJ1ZSwgYmFzZSA9IDEwLCBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uID0gbnVsbCwgbGljZW5zZURhdGEgPSBudWxsLCB1c2VyRGF0YSA9IG51bGwsIHRpY2tldElkID0gbnVsbCB9ID0ge30sIHNpZ25lZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgbjogbixcclxuICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXHJcbiAgICAgICAgICAgIG1pbjogbWluLFxyXG4gICAgICAgICAgICBtYXg6IG1heCxcclxuICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IHJlcGxhY2VtZW50LFxyXG4gICAgICAgICAgICBiYXNlOiBiYXNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcGFyYW1zID0gdGhpcy4jYWRkT3B0aW9uYWxQYXJhbXMocGFyYW1zLCBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uLFxyXG4gICAgICAgICAgICBsaWNlbnNlRGF0YSwgdXNlckRhdGEsIHRpY2tldElkLCBzaWduZWQpO1xyXG5cclxuICAgICAgICBsZXQgbWV0aG9kID0gc2lnbmVkID8gUmFuZG9tT3JnQ2xpZW50LiNTSUdORURfSU5URUdFUl9TRVFVRU5DRV9NRVRIT0QgOiBSYW5kb21PcmdDbGllbnQuI0lOVEVHRVJfU0VRVUVOQ0VfTUVUSE9EO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy4jZ2VuZXJhdGVLZXllZFJlcXVlc3QobWV0aG9kLCBwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHJlcXVlc3RzIGZvciBkZWNpbWFsIGZyYWN0aW9ucy5cclxuICAgICAqL1xyXG4gICAgI2RlY2ltYWxGcmFjdGlvblJlcXVlc3QgPSAobiwgZGVjaW1hbFBsYWNlcywgeyByZXBsYWNlbWVudCA9IHRydWUsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24gPSBudWxsLCBsaWNlbnNlRGF0YSA9IG51bGwsIHVzZXJEYXRhID0gbnVsbCwgdGlja2V0SWQgPSBudWxsIH0gPSB7fSwgc2lnbmVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBuOiBuLFxyXG4gICAgICAgICAgICBkZWNpbWFsUGxhY2VzOiBkZWNpbWFsUGxhY2VzLFxyXG4gICAgICAgICAgICByZXBsYWNlbWVudDogcmVwbGFjZW1lbnRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwYXJhbXMgPSB0aGlzLiNhZGRPcHRpb25hbFBhcmFtcyhwYXJhbXMsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24sXHJcbiAgICAgICAgICAgIGxpY2Vuc2VEYXRhLCB1c2VyRGF0YSwgdGlja2V0SWQsIHNpZ25lZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG1ldGhvZCA9IHNpZ25lZCA/IFJhbmRvbU9yZ0NsaWVudC4jU0lHTkVEX0RFQ0lNQUxfRlJBQ1RJT05fTUVUSE9EIDogUmFuZG9tT3JnQ2xpZW50LiNERUNJTUFMX0ZSQUNUSU9OX01FVEhPRDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2dlbmVyYXRlS2V5ZWRSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSByZXF1ZXN0cyBmb3IgR2F1c3NpYW5zLlxyXG4gICAgICovXHJcbiAgICAjZ2F1c3NpYW5SZXF1ZXN0ID0gKG4sIG1lYW4sIHN0YW5kYXJkRGV2aWF0aW9uLCBzaWduaWZpY2FudERpZ2l0cywgeyBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uID0gbnVsbCwgbGljZW5zZURhdGEgPSBudWxsLCB1c2VyRGF0YSA9IG51bGwsIHRpY2tldElkID0gbnVsbCB9ID0ge30sIHNpZ25lZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgbjogbixcclxuICAgICAgICAgICAgbWVhbjogbWVhbixcclxuICAgICAgICAgICAgc3RhbmRhcmREZXZpYXRpb246IHN0YW5kYXJkRGV2aWF0aW9uLFxyXG4gICAgICAgICAgICBzaWduaWZpY2FudERpZ2l0czogc2lnbmlmaWNhbnREaWdpdHNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwYXJhbXMgPSB0aGlzLiNhZGRPcHRpb25hbFBhcmFtcyhwYXJhbXMsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24sXHJcbiAgICAgICAgICAgIGxpY2Vuc2VEYXRhLCB1c2VyRGF0YSwgdGlja2V0SWQsIHNpZ25lZCk7XHJcblxyXG4gICAgICAgIGxldCBtZXRob2QgPSBzaWduZWQgPyBSYW5kb21PcmdDbGllbnQuI1NJR05FRF9HQVVTU0lBTl9NRVRIT0QgOiBSYW5kb21PcmdDbGllbnQuI0dBVVNTSUFOX01FVEhPRDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2dlbmVyYXRlS2V5ZWRSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSByZXF1ZXN0cyBmb3Igc3RyaW5ncy5cclxuICAgICAqL1xyXG4gICAgI3N0cmluZ1JlcXVlc3QgPSAobiwgbGVuZ3RoLCBjaGFyYWN0ZXJzLCB7IHJlcGxhY2VtZW50ID0gdHJ1ZSwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbiA9IG51bGwsIGxpY2Vuc2VEYXRhID0gbnVsbCwgdXNlckRhdGEgPSBudWxsLCB0aWNrZXRJZCA9IG51bGwgfSA9IHt9LCBzaWduZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIG46IG4sXHJcbiAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXJzOiBjaGFyYWN0ZXJzLFxyXG4gICAgICAgICAgICByZXBsYWNlbWVudDogcmVwbGFjZW1lbnRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwYXJhbXMgPSB0aGlzLiNhZGRPcHRpb25hbFBhcmFtcyhwYXJhbXMsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24sXHJcbiAgICAgICAgICAgIGxpY2Vuc2VEYXRhLCB1c2VyRGF0YSwgdGlja2V0SWQsIHNpZ25lZCk7XHJcblxyXG4gICAgICAgIGxldCBtZXRob2QgPSBzaWduZWQgPyBSYW5kb21PcmdDbGllbnQuI1NJR05FRF9TVFJJTkdfTUVUSE9EIDogUmFuZG9tT3JnQ2xpZW50LiNTVFJJTkdfTUVUSE9EO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy4jZ2VuZXJhdGVLZXllZFJlcXVlc3QobWV0aG9kLCBwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHJlcXVlc3RzIGZvciBVVUlEcy5cclxuICAgICAqL1xyXG4gICAgI1VVSURSZXF1ZXN0ID0gKG4sIHsgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbiA9IG51bGwsIGxpY2Vuc2VEYXRhID0gbnVsbCwgdXNlckRhdGEgPSBudWxsLCB0aWNrZXRJZCA9IG51bGwgfSA9IHt9LCBzaWduZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIG46IG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwYXJhbXMgPSB0aGlzLiNhZGRPcHRpb25hbFBhcmFtcyhwYXJhbXMsIHByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24sXHJcbiAgICAgICAgICAgIGxpY2Vuc2VEYXRhLCB1c2VyRGF0YSwgdGlja2V0SWQsIHNpZ25lZCk7XHJcblxyXG4gICAgICAgIGxldCBtZXRob2QgPSBzaWduZWQgPyBSYW5kb21PcmdDbGllbnQuI1NJR05FRF9VVUlEX01FVEhPRCA6IFJhbmRvbU9yZ0NsaWVudC4jVVVJRF9NRVRIT0Q7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLiNnZW5lcmF0ZUtleWVkUmVxdWVzdChtZXRob2QsIHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgcmVxdWVzdHMgZm9yIGJsb2JzLlxyXG4gICAgICovXHJcbiAgICAjYmxvYlJlcXVlc3QgPSAobiwgc2l6ZSwgeyBmb3JtYXQgPSB0aGlzLkJBU0U2NCwgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbiA9IG51bGwsIGxpY2Vuc2VEYXRhID0gbnVsbCwgdXNlckRhdGEgPSBudWxsLCB0aWNrZXRJZCA9IG51bGwgfSwgc2lnbmVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBuOiBuLFxyXG4gICAgICAgICAgICBzaXplOiBzaXplLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHBhcmFtcyA9IHRoaXMuI2FkZE9wdGlvbmFsUGFyYW1zKHBhcmFtcywgcHJlZ2VuZXJhdGVkUmFuZG9taXphdGlvbixcclxuICAgICAgICAgICAgbGljZW5zZURhdGEsIHVzZXJEYXRhLCB0aWNrZXRJZCwgc2lnbmVkKTtcclxuXHJcbiAgICAgICAgbGV0IG1ldGhvZCA9IHNpZ25lZCA/IFJhbmRvbU9yZ0NsaWVudC4jU0lHTkVEX0JMT0JfTUVUSE9EIDogUmFuZG9tT3JnQ2xpZW50LiNCTE9CX01FVEhPRDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2dlbmVyYXRlS2V5ZWRSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBhZGQgb3B0aW9uYWwgcGFyYW1ldGVycyB3aGljaCBhcmUgY29tbW9uIGFjcm9zc1xyXG4gICAgICogdmFsdWUtZ2VuZXJhdGluZyBtZXRob2RzLlxyXG4gICAgICovXHJcbiAgICAjYWRkT3B0aW9uYWxQYXJhbXMgPSAocGFyYW1zLCBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uLCBsaWNlbnNlRGF0YSwgdXNlckRhdGEsIHRpY2tldElkLCBzaWduZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIC8vIGF2YWlsYWJsZSBmb3IgYm90aCBCYXNpYyBhbmQgU2lnbmVkIEFQSSBtZXRob2RzXHJcbiAgICAgICAgcGFyYW1zLnByZWdlbmVyYXRlZFJhbmRvbWl6YXRpb24gPSBwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uO1xyXG5cclxuICAgICAgICAvLyBvcHRpb25hbCBwYXJhbWV0ZXJzIHVzZWQgZXhjbHVzaXZlbHkgZm9yIFNpZ25lZCBBUEkgbWV0aG9kc1xyXG4gICAgICAgIGlmIChzaWduZWQpIHtcclxuICAgICAgICAgICAgcGFyYW1zLmxpY2Vuc2VEYXRhID0gbGljZW5zZURhdGE7XHJcbiAgICAgICAgICAgIHBhcmFtcy51c2VyRGF0YSA9IHVzZXJEYXRhO1xyXG4gICAgICAgICAgICBwYXJhbXMudGlja2V0SWQgPSB0aWNrZXRJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYW4gaW50ZWdlciBzZXF1ZW5jZSBjYWNoZS4gXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBvcmlnaW5hbCBUaGUgYXJyYXkgdG8gYmUgcmVwZWF0ZWQuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBvcmlnaW5hbCBhcnJheSBpcyB0byBiZVxyXG4gICAgICogICAgIHJlcGVhdGVkLlxyXG4gICAgICogQHJldHVybnMge2FueVtdfSBBIG5ldyBhcnJheSB3aGljaCBjb250YWlucyB0aGUgb3JpZ2luYWwgYXJyYXkgcmVwZWF0ZWRcclxuICAgICAqICAgICBuIHRpbWVzLlxyXG4gICAgICovXHJcbiAgICAjYWRqdXN0ID0gKG9yaWdpbmFsLCBuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IG4gfSwgKCkgPT4gb3JpZ2luYWwpLmZsYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYW4gaW50ZWdlciBzZXF1ZW5jZSBjYWNoZS5cclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxudW1iZXJbXSl9IGEgQW4gYXJyYXkgb2YgaW50ZWdlcnMgKG9yIGEgc2luZ2xlIHZhbHVlKS5cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IExhcmdlc3QgdmFsdWUgaW4gdGhlIGFycmF5IChvciBhLCB1bmNoYW5nZWQsIGlmIGl0XHJcbiAgICAgKiAgICAgaXMgbm90IGFuIGFycmF5KS5cclxuICAgICAqL1xyXG4gICAgI21heFZhbHVlID0gYSA9PiB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEucmVkdWNlKGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh4LCB5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBpbnRlZ2VyIHNlcXVlbmNlIGNhY2hlLlxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfG51bWJlcltdKX0gYSBBbiBhcnJheSBvZiBpbnRlZ2VycyAob3IgYSBzaW5nbGUgdmFsdWUpLlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gU21hbGxlc3QgdmFsdWUgaW4gdGhlIGFycmF5IChvciBhLCB1bmNoYW5nZWQsIGlmIGl0XHJcbiAgICAgKiAgICAgaXMgbm90IGFuIGFycmF5KS5cclxuICAgICAqL1xyXG4gICAgI21pblZhbHVlID0gYSA9PiB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEucmVkdWNlKGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih4LCB5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBIZWxwZXIgZnVuY3Rpb24gdG8gbWFrZSBhIHN0cmluZyBVUkwtc2FmZSAoYmFzZTY0IGFuZCBwZXJjZW50LWVuY29kaW5nKSAqL1xyXG4gICAgI2Zvcm1hdFVybCA9IHMgPT4ge1xyXG4gICAgICAgIGxldCBwYXR0ZXJuID0gL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvO1xyXG4gICAgICAgIGxldCBpc0Jhc2U2NCA9IHBhdHRlcm4udGVzdChzKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0Jhc2U2NCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJcclxuICAgICAgICAgICAgICAgICAgICBzID0gYnRvYShzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFJlZmVyZW5jZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9kZUpTXHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IEJ1ZmZlci5mcm9tKHMpLnRvU3RyaW5nKCdiYXNlNjQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGVyY2VudC1FbmNvZGluZyBhcyBkZXNjcmliZWQgaW4gUkZDIDM5ODYgZm9yIFBIUFxyXG4gICAgICAgIHMgPSBzLnJlcGxhY2UoLz0vZywgJyUzRCcpO1xyXG4gICAgICAgIHMgPSBzLnJlcGxhY2UoL1xcKy9nLCAnJTJCJyk7XHJcbiAgICAgICAgcyA9IHMucmVwbGFjZSgvXFwvL2csICclMkYnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNcclxuICAgIH1cclxuXHJcbiAgICAvKiogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIEhUTUwgaW5wdXQgdGFnICovXHJcbiAgICAjaW5wdXRIVE1MID0gKHR5cGUsIG5hbWUsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICc8aW5wdXQgdHlwZT1cXCcnICsgdHlwZSArICdcXCcgbmFtZT1cXCcnICsgbmFtZSArICdcXCcgdmFsdWU9XFwnJyArIHZhbHVlICsgJ1xcJyAvPic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBVVUlEcyB0byBiZSB1c2VkIGFzIFwiaWRcIiBpbiByZXF1ZXN0cyB0byB0aGUgc2VydmVyLiAqL1xyXG4gICAgI3V1aWR2NCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNiB8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiAoYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCkpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8qKiBcclxuICogRVMgTW9kdWxlIHdyYXBwZXIsIGFsbG93aW5nIHRoaXMgbGlicmFyeSB0byBiZSBpbXBvcnRlZCB1c2luZ1xyXG4gKiBFUzYrIHN5bnRheC4gVGhlIFJhbmRvbU9yZ0NsaWVudCBjbGFzcyBpcyBib3RoIHRoZSBkZWZhdWx0IGFuZFxyXG4gKiBhIG5hbWVkIGV4cG9ydC4gQWxsIGVycm9yIGNsYXNzZXMsIGFyZSBhdmFpbGFibGUgb25seSBhcyBuYW1lZFxyXG4gKiBleHBvcnRzLlxyXG4gKiAqL1xyXG5pbXBvcnQgUmFuZG9tT3JnQ2xpZW50IGZyb20gJy4uL1JhbmRvbU9yZ0NsaWVudC5qcyc7XHJcbmltcG9ydCBSYW5kb21PcmdDYWNoZSBmcm9tICcuLi9SYW5kb21PcmdDYWNoZS5qcyc7XHJcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tICcuLi9SYW5kb21PcmdFcnJvcnMuanMnO1xyXG5cclxubGV0IFJhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yID0gRXJyb3JzLmRlZmF1bHQuUmFuZG9tT3JnUkFORE9NT1JHRXJyb3I7XHJcbmxldCBSYW5kb21PcmdCYWRIVFRQUmVzcG9uc2VFcnJvciA9IEVycm9ycy5kZWZhdWx0LlJhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yO1xyXG5sZXQgUmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yID0gRXJyb3JzLmRlZmF1bHQuUmFuZG9tT3JnSW5zdWZmaWNpZW50Qml0c0Vycm9yO1xyXG5sZXQgUmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvciA9IEVycm9ycy5kZWZhdWx0LlJhbmRvbU9yZ0luc3VmZmljaWVudFJlcXVlc3RzRXJyb3I7XHJcbmxldCBSYW5kb21PcmdKU09OUlBDRXJyb3IgPSBFcnJvcnMuZGVmYXVsdC5SYW5kb21PcmdKU09OUlBDRXJyb3I7XHJcbmxldCBSYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3IgPSBFcnJvcnMuZGVmYXVsdC5SYW5kb21PcmdLZXlOb3RSdW5uaW5nRXJyb3I7XHJcbmxldCBSYW5kb21PcmdTZW5kVGltZW91dEVycm9yID0gRXJyb3JzLmRlZmF1bHQuUmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvcjtcclxubGV0IFJhbmRvbU9yZ0NhY2hlRW1wdHlFcnJvciA9IEVycm9ycy5kZWZhdWx0LlJhbmRvbU9yZ0NhY2hlRW1wdHlFcnJvcjtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBSYW5kb21PcmdDbGllbnQgYXMgZGVmYXVsdCxcclxuICAgIFJhbmRvbU9yZ0NsaWVudCxcclxuICAgIFJhbmRvbU9yZ0NhY2hlLFxyXG4gICAgUmFuZG9tT3JnQmFkSFRUUFJlc3BvbnNlRXJyb3IsXHJcbiAgICBSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3IsXHJcbiAgICBSYW5kb21PcmdJbnN1ZmZpY2llbnRSZXF1ZXN0c0Vycm9yLFxyXG4gICAgUmFuZG9tT3JnSlNPTlJQQ0Vycm9yLFxyXG4gICAgUmFuZG9tT3JnS2V5Tm90UnVubmluZ0Vycm9yLFxyXG4gICAgUmFuZG9tT3JnUkFORE9NT1JHRXJyb3IsXHJcbiAgICBSYW5kb21PcmdTZW5kVGltZW91dEVycm9yLFxyXG4gICAgUmFuZG9tT3JnQ2FjaGVFbXB0eUVycm9yXHJcbn07Il0sIm5hbWVzIjpbIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwic3VwZXIiLCJiaXRzIiwidGhpcyIsImdldEJpdHNMZWZ0IiwiY29kZSIsImdldENvZGUiLCJwYXVzZWQiLCJ3YXNQYXVzZWQiLCJSYW5kb21PcmdJbnN1ZmZpY2llbnRCaXRzRXJyb3IiLCJSYW5kb21PcmdDYWNoZUVtcHR5RXJyb3IiLCJyZXF1aXJlJCQwIiwiUmFuZG9tT3JnQ2FjaGVfMSIsInJlcXVlc3RGdW5jdGlvbiIsInJlcXVlc3QiLCJidWxrUmVxdWVzdE51bWJlciIsInJlcXVlc3ROdW1iZXIiLCJyZXF1ZXN0U2l6ZSIsInN0YWNrIiwiY2FjaGVTaXplIiwiYml0c1VzZWQiLCJyZXF1ZXN0c1VzZWQiLCJjdXJyZW50bHlQb3B1bGF0aW5nIiwiZXJyb3IiLCJzaW5nbGVSZXF1ZXN0U2l6ZSIsInBvcHVsYXRlIiwiYXN5bmMiLCJyZXNwb25zZSIsImxlbmd0aCIsImUiLCJiaXRzTGVmdCIsImFkanVzdGVkQnVsayIsIk1hdGgiLCJmbG9vciIsInBhcmFtcyIsIm4iLCJzdG9wIiwicmVzdW1lIiwiaXNQYXVzZWQiLCJnZXQiLCJkYXRhIiwicG9wIiwiZ2V0T3JXYWl0IiwiUHJvbWlzZSIsInIiLCJzZXRUaW1lb3V0IiwiZ2V0Q2FjaGVkVmFsdWVzIiwiZ2V0Qml0c1VzZWQiLCJnZXRSZXF1ZXN0c1VzZWQiLCJyZWZyZXNoIiwiYWRkUmVzcG9uc2UiLCJidWxrIiwicmVzdWx0IiwicmFuZG9tIiwiaSIsInB1c2giLCJzbGljZSIsIlJhbmRvbU9yZ0JhZEhUVFBSZXNwb25zZUVycm9yIiwiUmFuZG9tT3JnSW5zdWZmaWNpZW50UmVxdWVzdHNFcnJvciIsIlJhbmRvbU9yZ0pTT05SUENFcnJvciIsIlJhbmRvbU9yZ0tleU5vdFJ1bm5pbmdFcnJvciIsIlJhbmRvbU9yZ1JBTkRPTU9SR0Vycm9yIiwiUmFuZG9tT3JnU2VuZFRpbWVvdXRFcnJvciIsIlJhbmRvbU9yZ0NhY2hlIiwicmVxdWlyZSQkMSIsIlJhbmRvbU9yZ0NsaWVudF8xIiwiUmFuZG9tT3JnQ2xpZW50IiwiSU5URUdFUl9NRVRIT0QiLCJJTlRFR0VSX1NFUVVFTkNFX01FVEhPRCIsIkRFQ0lNQUxfRlJBQ1RJT05fTUVUSE9EIiwiR0FVU1NJQU5fTUVUSE9EIiwiU1RSSU5HX01FVEhPRCIsIlVVSURfTUVUSE9EIiwiQkxPQl9NRVRIT0QiLCJHRVRfVVNBR0VfTUVUSE9EIiwiU0lHTkVEX0lOVEVHRVJfTUVUSE9EIiwiU0lHTkVEX0lOVEVHRVJfU0VRVUVOQ0VfTUVUSE9EIiwiU0lHTkVEX0RFQ0lNQUxfRlJBQ1RJT05fTUVUSE9EIiwiU0lHTkVEX0dBVVNTSUFOX01FVEhPRCIsIlNJR05FRF9TVFJJTkdfTUVUSE9EIiwiU0lHTkVEX1VVSURfTUVUSE9EIiwiU0lHTkVEX0JMT0JfTUVUSE9EIiwiR0VUX1JFU1VMVF9NRVRIT0QiLCJDUkVBVEVfVElDS0VUX01FVEhPRCIsIkxJU1RfVElDS0VUX01FVEhPRCIsIkdFVF9USUNLRVRfTUVUSE9EIiwiVkVSSUZZX1NJR05BVFVSRV9NRVRIT0QiLCJCTE9CX0ZPUk1BVF9CQVNFNjQiLCJCTE9CX0ZPUk1BVF9IRVgiLCJERUZBVUxUX1JFUExBQ0VNRU5UIiwiREVGQVVMVF9CQVNFIiwiREVGQVVMVF9VU0VSX0RBVEEiLCJERUZBVUxUX1RJQ0tFVF9JRCIsIkRFRkFVTFRfUFJFR0VORVJBVEVEX1JBTkRPTUlaQVRJT04iLCJERUZBVUxUX0xJQ0VOU0VfREFUQSIsIlVVSURfU0laRSIsIkRFRkFVTFRfQkxPQ0tJTkdfVElNRU9VVCIsIkRFRkFVTFRfSFRUUF9USU1FT1VUIiwiTUFYX1VSTF9MRU5HVEgiLCJERUZBVUxUX0RFTEFZIiwiQUxMT1dBTkNFX1NUQVRFX1JFRlJFU0hfU0VDT05EUyIsInJlcXVlc3RzTGVmdCIsImJhY2tvZmYiLCJiYWNrb2ZmRXJyb3IiLCJhcGlLZXkiLCJibG9ja2luZ1RpbWVvdXQiLCJodHRwVGltZW91dCIsImFkdmlzb3J5RGVsYXkiLCJsYXN0UmVzcG9uc2VSZWNlaXZlZFRpbWUiLCJrZXlJbmRleGVkSW5zdGFuY2VzIiwiRVJST1JfQ09ERVMiLCJvcHRpb25zIiwiZ2VuZXJhdGVJbnRlZ2VycyIsIm1pbiIsIm1heCIsImdlbmVyYXRlSW50ZWdlclNlcXVlbmNlcyIsImdlbmVyYXRlRGVjaW1hbEZyYWN0aW9ucyIsImRlY2ltYWxQbGFjZXMiLCJnZW5lcmF0ZUdhdXNzaWFucyIsIm1lYW4iLCJzdGFuZGFyZERldmlhdGlvbiIsInNpZ25pZmljYW50RGlnaXRzIiwiZ2VuZXJhdGVTdHJpbmdzIiwiY2hhcmFjdGVycyIsImdlbmVyYXRlVVVJRHMiLCJnZW5lcmF0ZUJsb2JzIiwic2l6ZSIsImdlbmVyYXRlU2lnbmVkSW50ZWdlcnMiLCJnZW5lcmF0ZVNpZ25lZEludGVnZXJTZXF1ZW5jZXMiLCJnZW5lcmF0ZVNpZ25lZERlY2ltYWxGcmFjdGlvbnMiLCJnZW5lcmF0ZVNpZ25lZEdhdXNzaWFucyIsImdlbmVyYXRlU2lnbmVkU3RyaW5ncyIsImdlbmVyYXRlU2lnbmVkVVVJRHMiLCJnZW5lcmF0ZVNpZ25lZEJsb2JzIiwidmVyaWZ5U2lnbmF0dXJlIiwic2lnbmF0dXJlIiwidXBkYXRlIiwiRGF0ZSIsIm5vdyIsImdldFJlcXVlc3RzTGVmdCIsImdldFJlc3VsdCIsInNlcmlhbE51bWJlciIsImNyZWF0ZVRpY2tldHMiLCJzaG93UmVzdWx0IiwibGlzdFRpY2tldHMiLCJ0aWNrZXRUeXBlIiwiZ2V0VGlja2V0IiwidGlja2V0SWQiLCJjcmVhdGVVcmwiLCJ1cmwiLCJKU09OIiwic3RyaW5naWZ5IiwiY3JlYXRlSHRtbCIsInMiLCJjcmVhdGVJbnRlZ2VyQ2FjaGUiLCJtYXhSZXF1ZXN0U2l6ZSIsImNlaWwiLCJsb2ciLCJidWxrTiIsInJlcGxhY2VtZW50IiwiYmluZCIsImNyZWF0ZUludGVnZXJTZXF1ZW5jZUNhY2hlIiwicmVwbCIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwieCIsImJhc2UiLCJjcmVhdGVEZWNpbWFsRnJhY3Rpb25DYWNoZSIsImNyZWF0ZUdhdXNzaWFuQ2FjaGUiLCJwb3ciLCJjcmVhdGVTdHJpbmdDYWNoZSIsImNyZWF0ZVVVSURDYWNoZSIsImNyZWF0ZUJsb2JDYWNoZSIsInNlbmRSZXF1ZXN0Iiwid2FpdCIsInJlc29sdmUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib250aW1lb3V0Iiwib25sb2FkIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwib25lcnJvciIsImNvbnNvbGUiLCJpbmZvIiwidGltZW91dCIsInNlbmQiLCJ0aGVuIiwicGFyc2UiLCJtaWRuaWdodFVUQyIsInNldFVUQ0hvdXJzIiwiaW5jbHVkZXMiLCJtZXRob2QiLCJnZXRVc2FnZSIsImdlbmVyYXRlUmVxdWVzdCIsImpzb25ycGMiLCJpZCIsImdlbmVyYXRlS2V5ZWRSZXF1ZXN0IiwiZXh0cmFjdEJhc2ljIiwiZXh0cmFjdFNpZ25lZCIsImV4dHJhY3RWZXJpZmljYXRpb24iLCJhdXRoZW50aWNpdHkiLCJleHRyYWN0UmVzdWx0IiwiaW50ZWdlclJlcXVlc3QiLCJwcmVnZW5lcmF0ZWRSYW5kb21pemF0aW9uIiwibGljZW5zZURhdGEiLCJ1c2VyRGF0YSIsInNpZ25lZCIsImludGVnZXJTZXF1ZW5jZVJlcXVlc3QiLCJkZWNpbWFsRnJhY3Rpb25SZXF1ZXN0IiwiZ2F1c3NpYW5SZXF1ZXN0Iiwic3RyaW5nUmVxdWVzdCIsIlVVSURSZXF1ZXN0IiwiYmxvYlJlcXVlc3QiLCJmb3JtYXQiLCJCQVNFNjQiLCJhZGRPcHRpb25hbFBhcmFtcyIsImFkanVzdCIsIm9yaWdpbmFsIiwiZnJvbSIsImZsYXQiLCJtYXhWYWx1ZSIsImEiLCJyZWR1Y2UiLCJ5IiwibWluVmFsdWUiLCJmb3JtYXRVcmwiLCJ0ZXN0Iiwid2luZG93IiwiYnRvYSIsIlJlZmVyZW5jZUVycm9yIiwiQnVmZmVyIiwidG9TdHJpbmciLCJyZXBsYWNlIiwiaW5wdXRIVE1MIiwidHlwZSIsIm5hbWUiLCJ2YWx1ZSIsInV1aWR2NCIsImMiLCJFcnJvcnMuZGVmYXVsdCJdLCJtYXBwaW5ncyI6InlDQU13QyxjQUE0Q0EsTUFNaEZDLFlBQVlDLEdBQ1JDLE1BQU1ELHNDQVk0QixjQUE2Q0YsTUFHbkZJLE9BQVMsRUFRVEgsWUFBWUMsRUFBU0UsR0FDakJELE1BQU1ELEdBQ05HLFdBQWFELEVBT2pCRSxjQUNJLE9BQU9ELGtEQVk4QixjQUFpREwsTUFPMUZDLFlBQVlDLEdBQ1JDLE1BQU1ELDZCQVFrQixjQUFvQ0YsTUFPaEVDLFlBQVlDLEdBQ1JDLE1BQU1ELG1DQVF3QixjQUEwQ0YsTUFRNUVDLFlBQVlDLEdBQ1JDLE1BQU1ELCtCQVFvQixjQUFzQ0YsTUFHcEVPLE9BQVMsRUFTVE4sWUFBWUMsRUFBU0ssR0FBTyxHQUN4QkosTUFBTUQsR0FDTkcsV0FBYUUsRUFRakJDLFVBQ0ksT0FBT0gseUNBUXFCLGNBQXdDTCxNQVF4RUMsWUFBWUMsR0FDUkMsTUFBTUQsZ0NBT3FCLGNBQXVDRixNQUV0RVMsU0FBVSxFQVNWUixZQUFZQyxFQUFTTyxHQUFTLEdBQzFCTixNQUFNRCxHQUNORyxhQUFlSSxF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
